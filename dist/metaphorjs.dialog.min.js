'use strict';(function(){function p(a){return"function"==typeof a}function A(a){return"string"==typeof a||a===""+a}function Y(a){return"object"==typeof a&&5===fa(a)}function ga(a){if(null===a||"object"!=typeof a)return!1;a=fa(a);return 2<a||-1==a}function ka(a){return"object"==typeof a&&3===fa(a)&&!a.nodeType&&a.constructor===Object}function la(a){return!0===a||!1===a}function T(){}function Ja(a,b,c,e,f,h){f=f||"before";return function(){var d,g;if("instead"==f)return b.apply(c||e,arguments);"before"==
f?(d=b.apply(c||e,arguments),g=!1!==d?a.apply(e||c,arguments):null):(g=a.apply(e||c,arguments),d=b.apply(c||e,arguments));return h?d:g}}function ya(a,b){return b?za("(?:^|\\s)"+b+"(?!\\S)").test(a.className):!1}function K(a,b){b&&!ya(a,b)&&(a.className+=" "+b)}function Z(a,b){b&&(a.className=a.className.replace(za("(?:^|\\s)"+b+"(?!\\S)"),""))}function Q(a,b,c){if(a){var e=a.style,f;"string"==typeof b?(a={},a[b]=c):a=b;for(f in a)e[f]=a[f]}}function I(a,b){return a.getAttribute?a.getAttribute(b):
null}function ma(){return!1}function na(){return!0}function N(a){return new ha(a)}function sa(a){if(a&&void 0!=!a.length&&a!==""+a){for(var b=[],c=-1,e=a.length>>>0;++c!==e;b[c]=a[c]);return b}return a?[a]:[]}function O(a){if(!a)return!1;var b,c;return"object"!=(c=typeof a)&&"function"!=c?!1:p(b=a.then)?b:!1}function R(a,b,c,e){return setTimeout(function(){a.apply(b,c||[])},e||0)}function ia(a){var b=a.stack||Error().stack;if("undefined"!=typeof console&&console.log)R(function(){console.log(a);b&&
console.log(b)});else throw a;}function Aa(a,b){var c,e;if(!a||!A(a))return null;try{e=new DOMParser,c=e.parseFromString(a,b||"text/xml")}catch(f){c=void 0}if(!c||c.getElementsByTagName("parsererror").length)throw"Invalid XML: "+a;return c}function W(a){return a.substr(0,1).toUpperCase()+a.substr(1)}function Ka(a,b,c,e){var f=b+"-"+c,h=function(d){d=N(d);return ta(d.target,b)?e(d):null};oa[f]||(oa[f]=[]);oa[f].push({el:a,ls:h,fn:e});x(a,c,h)}function La(a,b,c,e){var f,h;if(h=oa[b+"-"+c])for(b=-1,
f=h.length;++b<f;)h[b].el===a&&h[b].fn===e&&H(a,c,h[b].ls)}function aa(a){var b={top:0,left:0},c=window.document.documentElement;if(!Ma(a)||a===window)return b;a.getBoundingClientRect&&(b=a.getBoundingClientRect());return{top:b.top+ua()-c.clientTop,left:b.left+va()-c.clientLeft}}var Ba={},Na=Object.prototype.toString,fa=function(){var a={"[object String]":0,"[object Number]":1,"[object Boolean]":2,"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};
return function(b){if(!b){if(null===b)return 6;if(void 0===b)return 7}var c=a[Na.call(b)];return void 0===c?-1:1==c&&isNaN(b)?8:c}}(),Oa=function(){var a,b=function(b){var e={},f=[];0==arguments.length&&(b=!0);return{addFinder:function(a,d,g){f[g?"unshift":"push"]({fn:a,context:d})},add:function(a,d,g){if(e[a]&&!1===e[a].rewritable)return e[a];e[a]={rewritable:"undefined"!=typeof g?g:b,value:d};return d},get:function(a){if(e[a])return e[a].value;if(f.length){var d,g,k;d=0;for(g=f.length;d<g;d++)if(k=
f[d].fn.call(f[d].context,a,this),void 0!==k)return this.add(a,k,!0)}},remove:function(a){var d=e[a];d&&!0===d.rewritable&&delete e[a];return d?d.value:void 0},exists:function(a){return!!e[a]},eachEntry:function(a,d){for(var g in e)a.call(d,e[g].value,g)},destroy:function(){this===a&&(a=null);this.remove=this.exists=this.destroy=this.get=this.add=b=e=null}}};b.global=function(){a||(a=new b(!0));return a};return b}(),wa=function(){var a=function(a,e,f){f=f||new Oa(!1);var h=e?e.length:null;a||(a="undefined"!=
typeof global?global:window);var d=function(d){return d&&e&&d.substr(0,h)!=e?e+"."+d:d},g=function(g,b){g=d(g);if(f.exists(g))return f.get(g);if(!b){var m=g.split("."),s,h=m.length,E,v=a;for(s=0;s<h;s++)if(E=m[s],e&&0==s&&E==e)v=a;else{if(void 0===v[E])return;v=v[E]}v&&f.add(g,v);return v}};this.register=function(g,b){var m;m=d(g);var s=m.split("."),h,E=s.pop();h=s.join(".");var v=s.length,t,r=a;if(f[h])m=[f[h],E,m];else{if(0<v)for(h=0;h<v;h++)t=s[h],e&&0==h&&t==e?r=a:(void 0===r[t]&&(r[t]={}),r=
r[t]);m=[r,E,m]}s=m[0];E=m[1];ga(s)&&void 0===s[E]&&(s[E]=b,f.add(m[2],b));return b};this.exists=function(d){return void 0!==g(d,!0)};this.get=g;this.add=function(a,g){a=d(a);f.add(a,g);return g};this.remove=function(a){a=d(a);f.remove(a)};this.normalize=d;this.makeAlias=function(a,g){a=d(a);g=d(g);var b=f.get(a);void 0!==b&&f.add(g,b)};this.destroy=function(){var d;this===b&&(b=null);f.eachEntry(function(d){d&&d.$destroy&&d.$destroy()});f.destroy();f=null;for(d in this)this[d]=null}};a.prototype.register=
null;a.prototype.exists=null;a.prototype.get=null;a.prototype.add=null;a.prototype.remove=null;a.prototype.normalize=null;a.prototype.makeAlias=null;a.prototype.destroy=null;var b;a.global=function(){b||(b=new a);return b};return a}(),ba=Array.prototype.slice,B=function(){return function b(){var c=!1,e=!1,f=ba.call(arguments),h=f.shift(),d,g,k;la(f[f.length-1])&&(c=f.pop());la(f[f.length-1])&&(e=c,c=f.pop());for(;f.length;)if(d=f.shift())for(g in d)if(d.hasOwnProperty(g)&&void 0!==(k=d[g]))if(e)if(h[g]&&
ka(h[g])&&ka(k))b(h[g],k,c,e);else{if(!0===c||void 0==h[g])ka(k)?(h[g]={},b(h[g],k,c,!0)):h[g]=k}else if(!0===c||void 0==h[g])h[g]=k;return h}}(),Pa=function(a,b){var c=function(){},e;c.prototype=a.prototype;c=new c;e=a.apply(c,b);return ga(e)||!1===e?e:c},L=function(){var a=function(){this.$super&&this.$super!==T&&this.$super.apply(this,arguments)},b=function(d,a,b){var $super=d.prototype[a]||("$constructor"==a?d:T)||T;return function(){var d,a=this.$super;this.$super=$super;d=b.apply(this,arguments);
this.$super=a;return d}},c=function(d,a,k,c){var e,f,h,E=k.prototype;for(e in a)a.hasOwnProperty(e)&&(h=E[e],f=a[e],d[e]=!p(f)||h&&!p(h)?f:b(k,e,f));c||(d.$plugins=null,d.$pluginMap=null,E.$beforeInit?(d.$beforeInit=E.$beforeInit.slice(),d.$afterInit=E.$afterInit.slice(),d.$beforeDestroy=E.$beforeDestroy.slice(),d.$afterDestroy=E.$afterDestroy.slice()):(d.$beforeInit=[],d.$afterInit=[],d.$beforeDestroy=[],d.$afterDestroy=[]))},e=function(d,a){for(var b in a)a.hasOwnProperty(b)&&("$beforeInit"==b?
d.$beforeInit.push(a[b]):"$afterInit"==b?d.$afterInit.push(a[b]):"$beforeDestroy"==b?d.$beforeDestroy.push(a[b]):"$afterDestroy"==b?d.$afterDestroy.push(a[b]):d[b]||(d[b]=a[b]))},f=function(d){d||(d=new wa);var b=function(a){return function(){var b=[],g=[],k=arguments,c,e,m,f,h,C;if(!this)throw"Must instantiate via new: "+a;this.$plugins=[];(c=this.$constructor.apply(this,arguments))&&Y(c)&&(k=c);m=this.$plugins;h=this.$pluginMap={};c=-1;for(e=this.$beforeInit.length;++c<e;b.push([this.$beforeInit[c],
this]));c=-1;for(e=this.$afterInit.length;++c<e;g.push([this.$afterInit[c],this]));if(m&&m.length)for(c=0,e=m.length;c<e;c++){f=m[c];if(A(f)&&(C=f,f=d.get(f,!0),!f))throw C+" not found";f=new f(this,k);h[f.$class]=f;f.$beforeHostInit&&b.push([f.$beforeHostInit,f]);f.$afterHostInit&&g.push([f.$afterHostInit,f]);m[c]=f}c=-1;for(e=b.length;++c<e;b[c][0].apply(b[c][1],k));this.$init&&this.$init.apply(this,k);c=-1;for(e=g.length;++c<e;g[c][0].apply(g[c][1],k));}},k=function(){};B(k.prototype,{$class:null,
$extends:null,$plugins:null,$pluginMap:null,$mixins:null,$destroyed:!1,$constructor:T,$init:T,$beforeInit:[],$afterInit:[],$beforeDestroy:[],$afterDestroy:[],$getClass:function(){return this.$class},$getParentClass:function(){return this.$extends},$intercept:function(a,d,b,g,k){var c=this[a];this[a]=Ja(c,d,b||this,this,g,k);return c},$implement:function(a){var d=this.constructor;d&&d.$parent&&c(this,a,d.$parent)},$hasPlugin:function(a){return!!this.$pluginMap[d.normalize(a)]},$getPlugin:function(a){return this.$pluginMap[d.normalize(a)]||
null},$destroy:function(){var a=this.$beforeDestroy,d=this.$afterDestroy,b=this.$plugins,g,c,k;if(!this.$destroyed){this.$destroyed=!0;g=-1;for(c=a.length;++g<c;a[g].apply(this,arguments));g=0;for(c=b.length;g<c;g++)b[g].$beforeHostDestroy&&b[g].$beforeHostDestroy.call(b[g],arguments);k=this.destroy.apply(this,arguments);g=-1;for(c=a.length;++g<c;d[g].apply(this,arguments));g=0;for(c=b.length;g<c;g++)b[g].$destroy.apply(b[g],arguments);if(!1!==k)for(g in this)this.hasOwnProperty(g)&&(this[g]=null);
this.$destroyed=!0}},destroy:function(){}});k.$self=k;k.$instantiate=function(){var a=arguments;switch(a.length){case 0:return new this;case 1:return new this(a[0]);case 2:return new this(a[0],a[1]);case 3:return new this(a[0],a[1],a[2]);case 4:return new this(a[0],a[1],a[2],a[3]);default:return Pa(this,a)}};k.$override=function(a){var d=this.$self,b=this.$parent;d&&b&&c(d.prototype,a,b)};k.$extend=function(a,d){return q(a,d,this)};k.$destroy=function(){for(var a in this)this[a]=null};var q=function(f,
m,h){f=f||{};var q=f.$class,t=h||f.$extends,r=f.$mixins,l,n,u;t?A(t)?h=d.get(t):(h=t,t=h.$class||""):(h=k,t="");if(t&&!h)throw t+" not found";q&&(q=d.normalize(q));f.$class=q;f.$extends=t;f.$mixins=null;l=function(){};l.prototype=h.prototype;t=new l;l=null;f.$constructor=f.$constructor||a;c(t,f,h);if(r)for(f=0,l=r.length;f<l;f++)u=r[f],A(u)&&(u=d.get(u,!0)),e(t,u);r=b(q);t.constructor=r;r.prototype=t;for(n in k)"prototype"!=n&&k.hasOwnProperty(n)&&(r[n]=k[n]);for(n in h)"prototype"!=n&&h.hasOwnProperty(n)&&
(r[n]=h[n]);if(m)for(n in m)"prototype"!=n&&m.hasOwnProperty(n)&&(r[n]=m[n]);r.$parent=h;r.$self=r;q&&d.register(q,r);return r},m=this;m.factory=function(a){var b=d.get(a),g=ba.call(arguments,1);if(!b)throw a+" not found";return b.$instantiate.apply(b,g)};m.isSubclassOf=function(a,b){var g=a,c=d.get;b=A(b)?d.normalize(b):b.prototype.$class;for(A(a)&&(g=c(d.normalize(a)));g&&g.prototype;){if(g.prototype.$class==b)return!0;g=g.$parent}return!1};m.isInstanceOf=function(a,b){var g=A(b)?d.get(b):b;return g?
a instanceof g:!1};m.define=q;m.destroy=function(){m===h&&(h=null);k.$destroy();k=null;d.destroy();f=d=null};m.BaseClass=k};f.prototype={factory:null,isSubclassOf:null,isInstanceOf:null,define:null,destroy:null};var h;f.global=function(){h||(h=new f(wa.global()));return h};return f}(),ca=new wa(Ba,"MetaphorJs"),L=new L(ca),J=L.define,ea=L.factory,ja=function(){var a=["0","0","0"];return function(){for(var b=a.length,c;b;){b--;c=a[b].charCodeAt(0);if(57==c)return a[b]="A",a.join("");if(90==c)a[b]=
"0";else return a[b]=String.fromCharCode(c+1),a.join("")}a.unshift("0");return a.join("")}}(),l=Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}},za=function(){var a={};return function(b){return a[b]||(a[b]=new RegExp(b))}}(),w=function(){var a={};return function(b,c,e){b=b._mjsid||(b._mjsid=ja());var f=a[b];return void 0!==e?(f||(f=a[b]={}),f[c]=e):f?f[c]:void 0}}(),ha=function(a){if(a instanceof ha)return a;if(!(this instanceof
ha))return new ha(a);for(var b in a)if(!this[b])try{this[b]=a[b]}catch(c){}this.originalEvent=a;this.type=a.type;!this.target&&a.srcElement&&(this.target=a.srcElement);var e,f=a.button;void 0===this.pageX&&null!==a.clientX&&(e=this.target?this.target.ownerDocument||window.document:window.document,b=e.documentElement,e=e.body,this.pageX=a.clientX+(b&&b.scrollLeft||e&&e.scrollLeft||0)-(b&&b.clientLeft||e&&e.clientLeft||0),this.pageY=a.clientY+(b&&b.scrollTop||e&&e.scrollTop||0)-(b&&b.clientTop||e&&
e.clientTop||0));this.which||void 0===f||(this.which=f&1?1:f&2?3:f&4?2:0);this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?na:ma;this.timeStamp=a&&a.timeStamp||(new Date).getTime()};B(ha.prototype,{isDefaultPrevented:ma,isPropagationStopped:ma,isImmediatePropagationStopped:ma,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=na;a.returnValue=!1;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;
this.isPropagationStopped=na;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=na;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}},!0,!1);var Da=function(a){function b(){e=null}var c,e;a=function(a){return function(h){var d=N(h||window.event),g=ba.call(arguments,1),k=0,q=0,m=0,s=0,S=0,E=0;d.type="mousewheel";"detail"in d&&(m=-1*d.detail);"wheelDelta"in d&&(m=d.wheelDelta);"wheelDeltaY"in
d&&(m=d.wheelDeltaY);"wheelDeltaX"in d&&(q=-1*d.wheelDeltaX);"axis"in d&&d.axis===d.HORIZONTAL_AXIS&&(q=-1*m,m=0);k=0===m?q:m;"deltaY"in d&&(k=m=-1*d.deltaY);"deltaX"in d&&(q=d.deltaX,0===m&&(k=-1*q));if(0!==m||0!==q){s=Math.max(Math.abs(m),Math.abs(q));if(!e||s<e)e=s,"mousewheel"===d.type&&0===s%120&&(e/=40);"mousewheel"===d.type&&0===s%120&&(k/=40,q/=40,m/=40);k=Math[1<=k?"floor":"ceil"](k/e);q=Math[1<=q?"floor":"ceil"](q/e);m=Math[1<=m?"floor":"ceil"](m/e);this.getBoundingClientRect&&(s=this.getBoundingClientRect(),
S=d.clientX-s.left,E=d.clientY-s.top);d.deltaX=q;d.deltaY=m;d.deltaFactor=e;d.offsetX=S;d.offsetY=E;d.deltaMode=0;g.unshift(d,k,q,m);c&&clearTimeout(c);c=setTimeout(b,200);return a.apply(this,g)}}};a.events=function(){var a=window.document;return"onwheel"in a||9<=a.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"]};return a}(),x=function(){var a=null,b=null;return function(c,e,f){null===a&&(a=c.attachEvent?"attachEvent":"addEventListener",b=c.attachEvent?"on":"");if("mousewheel"==
e){f=Da(f);e=Da.events();var h,d;h=0;for(d=e.length;h<d;h++)c[a](b+e[h],f,!1)}else c[a](b+e,f,!1);return f}}(),H=function(){var a=null,b=null;return function(c,e,f){null===a&&(a=c.detachEvent?"detachEvent":"removeEventListener",b=c.detachEvent?"on":"");c[a](b+e,f)}}(),G=function(){var a=/^[\w[:#.][\w\]*^|=!]*$/,b=/=([^\]]+)/,c=/ *, */,e=/(\([^)]*)\+/,f=/(\[[^\]]+)~/,h=/(~|>|\+)/,d=/ +/,g=/([^[:.#]+)?(?:#([^[:.#]+))?(?:\.([^[:.]+))?(?:\[([^!&^*|$[:=]+)([!$^*|&]?=)?([^:\]]+)?\])?(?::([^(]+)(?:\(([^)]+)\))?)?/,
k=/(?:(-?\d*)n)?(?:(%|-)(\d*))?/,q=/\D/,m=/[^(]*\(([^)]*)\)/,s=/\(.*/,S=/\[([^!~^*|$ [:=]+)([$^*|]?=)?([^ :\]]+)?\]/,E=window.document,v=!!E.getElementsByClassName,t=!!E.querySelectorAll,r={"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]!==a},"last-child":function(a){for(;(a=a.nextSibling)&&1!=a.nodeType;);return!!a},root:function(a){return"html"!==a.nodeName.toLowerCase()},"nth-child":function(a,d){var b=a.nodeIndex||0,g=d[3]=d[3]?("%"===d[2]?-1:1)*d[3]:0,c=d[1];if(b)return!((b+
g)%c);var k=a.parentNode.firstChild;b++;do if(1==k.nodeType&&(k.nodeIndex=++b)&&a===k&&(b+g)%c)return 0;while(k=k.nextSibling);return 1},"nth-last-child":function(a,d){var b=a.nodeIndexLast||0,g=d[3]?("%"===d[2]?-1:1)*d[3]:0,c=d[1];if(b)return!((b+g)%c);var k=a.parentNode.lastChild;b++;do if(1==k.nodeType&&(k.nodeLastIndex=b++)&&a===k&&(b+g)%c)return 0;while(k=k.previousSibling);return 1},empty:function(a){return!!a.firstChild},parent:function(a){return!a.firstChild},"only-child":function(a){return 1!=
a.parentNode.getElementsByTagName("*").length},checked:function(a){return!a.checked},lang:function(a,d){return a.lang!==d&&E.documentElement.lang!==d},enabled:function(a){return a.disabled||"hidden"===a.type},disabled:function(a){return!a.disabled},selected:function(a){return!a.selected}},l={},n=function(a){return l[a]||(l[a]=new RegExp("(^| +)"+a+"($| +)"))},u={"":function(a,d){return null!==I(a,d)},"=":function(a,d,b){var g;return(g=I(a,d))&&g===b},"&=":function(a,d,b){var g;return(g=I(a,d))&&n(b).test(g)},
"^=":function(a,d,b){var g;return(g=I(a,d)+"")&&!g.indexOf(b)},"$=":function(a,d,b){var g;return(g=I(a,d)+"")&&g.indexOf(b)==g.length-b.length},"*=":function(a,d,b){var g;return(g=I(a,d)+"")&&-1!=g.indexOf(b)},"|=":function(a,d,b){var g;return(g=I(a,d)+"")&&(g===b||!!g.indexOf(b+"-"))},"!=":function(a,d,b){var g;return!(g=I(a,d))||!n(b).test(g)}},C=function(C,P){P=P||E;var y=[],l=null,n,p,A,z,B,x,w;if(t)try{y=sa(P.querySelectorAll(C.replace(b,'="$1"')))}catch(I){l=!0}if(!t||l)if(a.test(C))switch(l=
0,C.charAt(0)){case "#":l=C.slice(1);y=E.getElementById(l);y.id!==l&&(y=E.all[l]);y=y?[y]:[];break;case ".":n=C.slice(1);if(v)y=sa((y=P.getElementsByClassName(n)).length?y:[]);else{n=" "+n+" ";p=P.getElementsByTagName("*");for(A=0;z=p[A++];)-1!=(" "+z.className+" ").indexOf(n)&&(y[l++]=z);y=l?y:[]}break;case ":":p=P.getElementsByTagName("*");A=0;B=C.replace(m,"$1");for(x=C.replace(s,"");z=p[A++];)r[x]&&!r[x](z,B)&&(y[l++]=z);y=l?y:[];break;case "[":p=P.getElementsByTagName("*");A=0;z=S.exec(C);n=
z[1];w=z[2]||"";for(B=z[3];z=p[A++];)u[w]&&(u[w](z,n,B)||"class"===n&&u[w](z,"className",B))&&(y[l++]=z);y=l?y:[];break;default:y=sa((y=P.getElementsByTagName(C)).length?y:[])}else{for(var G=C.split(c),Ca=G.length-1,L=!!Ca,M,Q,F,N,H,J,K,V,T,D,O,R;l=G[Ca--];){Q=(M=l.replace(e,"$1%").replace(f,"$1&").replace(h," $1 ").split(d)).length;A=0;N=" ";for(p=[P];F=M[A++];)if(" "!==F&&">"!==F&&"~"!==F&&"+"!==F&&p){F=F.match(g);H=F[1]||"*";J=F[2];K=F[3]?" "+F[3]+" ":"";n=F[4];w=F[5]||"";x=F[7];B="nth-child"===
x||"nth-last-child"===x?k.exec("even"===F[8]&&"2n"||"odd"===F[8]&&"2n%1"||!q.test(F[8])&&"0n%"+F[8]||F[8]):F[8];V=[];l=T=0;for(O=A==Q;D=p[T++];)switch(N){case " ":R=D.getElementsByTagName(H);for(D=0;z=R[D++];)J&&z.id!==J||K&&-1==(" "+z.className+" ").indexOf(K)||!(!n||u[w]&&(u[w](z,n,F[6])||"class"===n&&u[w](z,"className",F[6])))||z.yeasss||(r[x]?r[x](z,B):x)||(O&&(z.yeasss=1),V[l++]=z);break;case "~":for(H=H.toLowerCase();(D=D.nextSibling)&&!D.yeasss;)1!=D.nodeType||"*"!==H&&D.nodeName.toLowerCase()!==
H||J&&D.id!==J||K&&-1==(" "+D.className+" ").indexOf(K)||!(!n||u[w]&&(u[w](z,n,F[6])||"class"===n&&u[w](z,"className",F[6])))||D.yeasss||(r[x]?r[x](D,B):x)||(O&&(D.yeasss=1),V[l++]=D);break;case "+":for(;(D=D.nextSibling)&&1!=D.nodeType;);!D||D.nodeName.toLowerCase()!==H.toLowerCase()&&"*"!==H||J&&D.id!==J||K&&-1==(" "+z.className+" ").indexOf(K)||!(!n||u[w]&&(u[w](z,n,F[6])||"class"===n&&u[w](z,"className",F[6])))||D.yeasss||(r[x]?r[x](D,B):x)||(O&&(D.yeasss=1),V[l++]=D);break;case ">":for(R=D.getElementsByTagName(H),
A=0;z=R[A++];)z.parentNode!==D||J&&z.id!==J||K&&-1==(" "+z.className+" ").indexOf(K)||!(!n||u[w]&&(u[w](z,n,F[6])||"class"===n&&u[w](z,"className",F[6])))||z.yeasss||(r[x]?r[x](z,B):x)||(O&&(z.yeasss=1),V[l++]=z)}p=V}else N=F;if(L){if(!p.concat){V=[];for(D=0;z=p[D];)V[D++]=z;p=V}y=p.concat(1==y.length?y[0]:y)}else y=p}for(l=y.length;l--;)y[l].yeasss=y[l].nodeIndex=y[l].nodeIndexLast=null}return y};C.is=function(a,d){var b=C(d,a.parentNode),g,c;g=-1;for(c=b.length;++g<c;)if(b[g]===a)return!0;return!1};
return C}(),ta=G.is,pa=function(){var a=["Moz","Webkit","ms","O","Khtml"],b="animationDelay",c="animationDuration",e="transitionDelay",f="transitionDuration",h="transform",d=null,g=null,k=!1;return function(){if(!k){var q=window.document.createElement("div"),m=!1,s,S,l;if(void 0!==q.style.animationName)m=!0;else for(S=0,l=a.length;S<l;S++)if(s=a[S],void 0!==q.style[s+"AnimationName"]){m=!0;b=s+"AnimationDelay";c=s+"AnimationDuration";e=s+"TransitionDelay";f=s+"TransitionDuration";h=s+"Transform";
break}m&&("ontransitionend"in window?d="transitionend":"onwebkittransitionend"in window&&(d="webkitTransitionEnd"));g=m?{animationDelay:b,animationDuration:c,transitionDelay:e,transitionDuration:f,transform:h,transitionend:d}:{};k=!0}return g}}(),Ea=function(){var a=function(a){if(!a)return 0;var d=parseFloat(a);-1==a.indexOf("ms")&&(d*=1E3);return d},b=function(d,b,c){var e,f,h=b.length;for(e=0;e<h;e++)f=a(b[e])+a(c[e]),d=Math.max(f,d);return d},c=!1,e=null,f=null,h=null,d=null;return function(a){!1===
c&&(e=(c=pa())?c.animationDuration:null,f=c?c.animationDelay:null,h=c?c.transitionDuration:null,d=c?c.transitionDelay:null);if(!c)return 0;var k=window.getComputedStyle?window.getComputedStyle(a,null):a.style;a=0;var q=(k[e]||"").split(","),m=(k[f]||"").split(","),s=(k[h]||"").split(","),k=(k[d]||"").split(",");a=Math.max(a,b(a,q,m));return a=Math.max(a,b(a,s,k))}}(),xa=function(a){var b=w(a,"mjsAnimationQueue"),c,e;if(Y(b)&&b.length){if(b=b[0])b.stages&&(c=b.position,e=b.stages,Z(a,e[c]),Z(a,e[c]+
"-active")),b.deferred&&b.deferred.reject(b.el)}else p(b)?b(a):"stop"==b&&$(a).stop(!0,!0);w(a,"mjsAnimationQueue",null)},X=function(){var a=[],b=!1,c="undefined"!=typeof process?process.nextTick:function(a){setTimeout(a,0)},e=function(){b=!0;var d=a.shift();c(function(){d[0].apply(d[1],d[2]);a.length?e():b=!1},0)},f=function(d,c,f){f=f||[];a.push([d,c,f]);b||e()},h=function(a,d){return function(b){try{d.resolve(a(b))}catch(c){d.reject(c)}}},d=function(a,b){if(a instanceof d)return a;if(!(this instanceof
d))return new d(a,b);var c;this._fulfills=[];this._rejects=[];this._dones=[];this._fails=[];if(0<arguments.length)if(c=O(a))a instanceof d?a.then(l(this.resolve,this),l(this.reject,this)):(new d(c,a)).then(l(this.resolve,this),l(this.reject,this));else if(p(a))try{a.call(b,l(this.resolve,this),l(this.reject,this))}catch(e){this.reject(e)}else this.resolve(a)};B(d.prototype,{_state:0,_fulfills:null,_rejects:null,_dones:null,_fails:null,_wait:0,_value:null,_reason:null,_triggered:!1,isPending:function(){return 0==
this._state},isFulfilled:function(){return 1==this._state},isRejected:function(){return 2==this._state},_cleanup:function(){this._fails=this._dones=this._rejects=this._fulfills=null},_processValue:function(a,b){var c;if(0==this._state)if(a===this)this._doReject(new TypeError("cannot resolve promise with itself"));else{try{if(c=O(a)){a instanceof d?a.then(l(this._processResolveValue,this),l(this._processRejectReason,this)):(new d(c,a)).then(l(this._processResolveValue,this),l(this._processRejectReason,
this));return}}catch(e){0==this._state&&this._doReject(e);return}b.call(this,a)}},_callResolveHandlers:function(){this._done();for(var a=this._fulfills,d;d=a.shift();)f(d[0],d[1],[this._value]);this._cleanup()},_doResolve:function(a){this._value=a;this._state=1;0==this._wait&&this._callResolveHandlers()},_processResolveValue:function(a){this._processValue(a,this._doResolve)},resolve:function(a){if(this._triggered)return this;this._triggered=!0;this._processResolveValue(a);return this},_callRejectHandlers:function(){this._fail();
for(var a=this._rejects,d;d=a.shift();)f(d[0],d[1],[this._reason]);this._cleanup()},_doReject:function(a){this._state=2;this._reason=a;0==this._wait&&this._callRejectHandlers()},_processRejectReason:function(a){this._processValue(a,this._doReject)},reject:function(a){if(this._triggered)return this;this._triggered=!0;this._processRejectReason(a);return this},then:function(a,b){var c=new d,e=this._state;0==e||0!=this._wait?(a&&p(a)?this._fulfills.push([h(a,c),null]):this._fulfills.push([c.resolve,c]),
b&&p(b)?this._rejects.push([h(b,c),null]):this._rejects.push([c.reject,c])):1==e?a&&p(a)?f(h(a,c),null,[this._value]):c.resolve(this._value):2==e&&(b&&p(b)?f(h(b,c),null,[this._reason]):c.reject(this._reason));return c},"catch":function(a){return this.then(null,a)},_done:function(){for(var a=this._dones,d;d=a.shift();)try{d[0].call(d[1]||null,this._value)}catch(b){ia(b)}},done:function(a,d){var b=this._state;if(1==b&&0==this._wait)try{a.call(d||null,this._value)}catch(c){ia(c)}else 0==b&&this._dones.push([a,
d]);return this},_fail:function(){for(var a=this._fails,d;d=a.shift();)try{d[0].call(d[1]||null,this._reason)}catch(b){ia(b)}},fail:function(a,d){var b=this._state;if(2==b&&0==this._wait)try{a.call(d||null,this._reason)}catch(c){ia(c)}else 0==b&&this._fails.push([a,d]);return this},always:function(a,d){this.done(a,d);this.fail(a,d);return this},promise:function(){return{then:l(this.then,this),done:l(this.done,this),fail:l(this.fail,this),always:l(this.always,this)}},after:function(a){var d=this;if(O(a)){d._wait++;
var b=function(){d._wait--;0==d._wait&&0!=d._state&&(1==d._state?d._callResolveHandlers():d._callRejectHandlers())};p(a.done)?a.done(b):a.then(b)}return d}},!0,!1);d.fcall=function(a,b,c){return d.resolve(a.apply(b,c||[]))};d.resolve=function(a){var b=new d;b.resolve(a);return b};d.reject=function(a){var b=new d;b.reject(a);return b};d.all=function(a){if(!a.length)return d.resolve(null);var b=new d,c=a.length,e=Array(c),f=c,h,l,v=function(a,d){e[d]=a;f--;0==f&&b.resolve(e)};for(h=0;h<c;h++)(function(c){l=
a[h];l instanceof d?l.done(function(a){v(a,c)}).fail(b.reject,b):O(l)||p(l)?(new d(l)).done(function(a){v(a,c)}).fail(b.reject,b):v(l,c)})(h);return b};d.when=function(){return d.all(arguments)};d.allResolved=function(a){if(!a.length)return d.resolve(null);var b=new d,c=a.length,e=[],f=c,h,l,v=function(a){e.push(a);t()},t=function(){f--;0==f&&b.resolve(e)};for(h=0;h<c;h++)l=a[h],l instanceof d?l.done(v).fail(t):O(l)||p(l)?(new d(l)).done(v).fail(t):v(l);return b};d.race=function(a){if(!a.length)return d.resolve(null);
var b=new d,c=a.length,e,f;for(e=0;e<c&&(f=a[e],f instanceof d?f.done(b.resolve,b).fail(b.reject,b):O(f)||p(f)?(new d(f)).done(b.resolve,b).fail(b.reject,b):b.resolve(f),b.isPending());e++);return b};d.waterfall=function(a){if(!a.length)return d.resolve(null);for(var b=a.shift(),b=p(b)?d.fcall(b):d.resolve(c),c;c=a.shift();)O(c)?b=b.then(function(a){return function(){return a}}(c)):p(c)?b=b.then(c):b.resolve(c);return b};d.counter=function(a){var b=new d;b.countdown=function(){a--;0==a&&b.resolve()};
return b};return d}(),M=function(){var a,b;if("undefined"!=typeof window){var c=window;a=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame;b=c.cancelAnimationFrame||c.webkitCancelAnimationFrame||c.mozCancelAnimationFrame||c.webkitCancelRequestAnimationFrame;if(a)return function(c){var f=a(c);return function(){b(f)}}}return function(a){var b=setTimeout(a,0);return function(){clearTimeout(b)}}}(),Fa=function(){var a={show:["mjs-show"],hide:["mjs-hide"],enter:["mjs-enter"],
leave:["mjs-leave"],move:["mjs-move"]},b=0,c=!1,e=!1,f=function(a,d,b){var c=function(){(new Date).getTime()-d>=b?a():M(c)};M(c)},h=function(){!1===c&&(c=pa(),e=!!c);return e},d=function q(a,b,c,g,e,h,l,p){var n=function(){var d=w(a,"mjsAnimationQueue");return d&&d.length&&d[0].id==l?!1:(e.reject(a),!0)},u=function(){if(!n()){var g=c;c++;if(c==b.length){e.resolve(a);w(a,"mjsAnimationQueue").shift();var f=w(a,"mjsAnimationQueue");f.length?(f=f[0],d(f.el,f.stages,0,f.start,f.deferred,!1,f.id,f.step)):
w(a,"mjsAnimationQueue",null)}else w(a,"mjsAnimationQueue")[0].position=c,q(a,b,c,null,e,!1,l,p);Z(a,b[g]);Z(a,b[g]+"-active")}},C=function(){n()||(K(a,b[c]+"-active"),X.resolve(p&&p(a,c,"active")).done(function(){if(!n()){var d=Ea(a);d?f(u,(new Date).getTime(),d):M(u)}}))},U=function(){n()||(K(a,b[c]),X.waterfall([p&&p(a,c,"start"),function(){return g?g(a):null}]).done(function(){!n()&&M(C)}))};h?M(U):U()},g=function(c,g,e,f,l,v){var t=new X,r=w(c,"mjsAnimationQueue")||[],x=++b,n=I(c,"mjs-animate"),
u,C,U,P,y,G,H;g=g||n;f&&null===n&&(g=null);if(g){A(g)?"["==g.substr(0,1)?u=(new Function("","return "+g))():(u=a[g],g=l&&l.get("animate."+g,!0)):p(g)?C=g:Y(g)&&(A(g[0])?u=g:(U=g[0],P=g[1]));ka(g)&&(u=g.stages,C=g.fn,U=g.before,P=g.after,y=g.options?B({},g.options):{},G=g.context||null,H=g.duration||null,e=e||y.start);if(h()&&u)return r.push({el:c,stages:u,start:e,step:v,deferred:t,position:0,id:x}),w(c,"mjsAnimationQueue",r),1==r.length&&d(c,u,0,e,t,!0,x,v),t;y=y||{};e&&(y.start=function(){e(c)});
y.complete=function(){t.resolve(c)};H&&(y.duration=H);if(C&&p(C))return U&&B(c.style,U,!0,!1),e&&e(c),w(c,"mjsAnimationQueue",C.call(G,c,function(){t.resolve(c)})),t;if(window.jQuery){g=$(c);U&&g.css(U);w(c,"mjsAnimationQueue","stop");if(C&&A(C))return g[C](y),t;if(P)return g.animate(P,y),t}}e?(C=e(c),O(C)?C.done(function(){t.resolve(c)}):t.resolve(c)):t.resolve(c);return t};g.addAnimationType=function(d,b){a[d]=b};g.stop=xa;g.getPrefixes=pa;g.getDuration=Ea;g.cssAnimationSupported=h;return g}(),
Ga=function(){return String.prototype.trim?function(a){return A(a)?a.trim():a}:function(a){return A(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}(),Qa=function(){return"undefined"!=typeof JSON?function(a){return JSON.parse(a)}:function(a){return(new Function("return "+a))()}}(),Ha=function(){var a=function(a,c,e,f,h){this.name=a;this.listeners=[];this.map={};this.hash=ja();this.uni="$$"+a+"_"+this.hash;this.suspended=!1;this.lid=0;"object"==typeof c&&null!==c?B(this,c,!0,!1):(this.returnResult=
void 0===c?null:c,this.autoTrigger=e,this.triggerFilter=f,this.filterContext=h)};B(a.prototype,{name:null,listeners:null,map:null,hash:null,uni:null,suspended:!1,lid:null,returnResult:null,autoTrigger:null,lastTrigger:null,triggerFilter:null,filterContext:null,getName:function(){return this.name},destroy:function(){for(var a in this)this[a]=null},on:function(a,c,e){if(!a)return null;c=c||null;e=e||{};var f=this.uni,h=c||a;if(h[f]&&!e.allowDupes)return null;var d=++this.lid,g=e.first||!1;h[f]=d;a=
{fn:a,context:c,uniContext:h,id:d,called:0,limit:0,start:1,count:0,append:null,prepend:null};B(a,e,!0,!1);g?this.listeners.unshift(a):this.listeners.push(a);this.map[d]=a;if(this.autoTrigger&&this.lastTrigger&&!this.suspended){var k=this.triggerFilter;this.triggerFilter=function(a){return a.id==d?k?!1!==k(a):!0:!1};this.trigger.apply(this,this.lastTrigger);this.triggerFilter=k}return d},once:function(a,c,e){e=e||{};e.limit=1;return this.on(a,c,e)},un:function(a,c){var e=-1,f=this.uni,h=this.listeners,
d;d=a==parseInt(a)?a:(c||a)[f];if(!d)return!1;for(var g=0,k=h.length;g<k;g++)if(h[g].id==d){e=g;delete h[g].uniContext[f];break}if(-1==e)return!1;h.splice(e,1);delete this.map[d];return!0},hasListener:function(a,c){var e=this.listeners,f;if(a){c=c||a;f=p(a)?c[this.uni]:a;if(!f)return!1;for(var h=0,d=e.length;h<d;h++)if(e[h].id==f)return!0;return!1}return 0<e.length},removeAllListeners:function(){var a=this.listeners,c=this.uni,e,f;e=0;for(f=a.length;e<f;e++)delete a[e].uniContext[c];this.listeners=
[];this.map={}},suspend:function(){this.suspended=!0},resume:function(){this.suspended=!1},_prepareArgs:function(a,c){var e;a.append||a.prepend?(e=ba.call(c),a.prepend&&(e=a.prepend.concat(e)),a.append&&(e=e.concat(a.append))):e=c;return e},trigger:function(){var a=this.listeners,c=this.returnResult,e=this.triggerFilter,f=this.filterContext,h;if(this.suspended)return null;this.autoTrigger&&(this.lastTrigger=ba.call(arguments));if(0==a.length)return null;for(var d="all"==c||"merge"==c?[]:null,g,a=
"first"==c?[a[0]]:ba.call(a);g=a.shift();)if(g&&this.map[g.id]&&(h=this._prepareArgs(g,arguments),!e||!1!==e.call(f,g,h,this))&&(g.count++,!(g.count<g.start)))if(h=g.fn.apply(g.context,h),g.called++,g.called==g.limit&&this.un(g.id),"all"==c)d.push(h);else if("merge"==c&&h)d=d.concat(h);else{if("first"==c||"nonempty"==c&&h)return h;if("last"==c)d=h;else if(!1==c&&!1===h)return!1}if(c)return d}},!0,!1);return a}(),Ia=function(){var a=function(){this.events={}};B(a.prototype,{createEvent:function(a,
c,e,f,h){a=a.toLowerCase();var d=this.events;d[a]||(d[a]=new Ha(a,c,e,f,h));return d[a]},getEvent:function(a){a=a.toLowerCase();return this.events[a]},on:function(a,c,e,f){a=a.toLowerCase();var h=this.events;h[a]||(h[a]=new Ha(a));return h[a].on(c,e,f)},once:function(a,c,e,f){f=f||{};f.limit=1;return this.on(a,c,e,f)},un:function(a,c,e){a=a.toLowerCase();var f=this.events;f[a]&&f[a].un(c,e)},hasListener:function(a,c,e){var f=this.events;if(a)return a=a.toLowerCase(),f[a]?f[a].hasListener(c,e):!1;
for(a in f)if(f[a].hasListener())return!0;return!1},removeAllListeners:function(a){var c=this.events;c[a]&&c[a].removeAllListeners()},trigger:function(){var a=arguments[0],c=this.events,a=a.toLowerCase();if(!c[a])return null;a=c[a];return a.trigger.apply(a,ba.call(arguments,1))},suspendEvent:function(a){a=a.toLowerCase();var c=this.events;c[a]&&c[a].suspend()},suspendAllEvents:function(){var a=this.events,c;for(c in a)a[c].suspend()},resumeEvent:function(a){a=a.toLowerCase();var c=this.events;c[a]&&
c[a].resume()},resumeAllEvents:function(){var a=this.events,c;for(c in a)a[c].resume()},destroyEvent:function(a){var c=this.events;c[a]&&(c[a].removeAllListeners(),c[a].destroy(),delete c[a])},destroy:function(){var a=this.events,c;for(c in a)this.destroyEvent(c);for(c in this)this[c]=null},getApi:function(){if(!this.api){for(var a="createEvent getEvent on un once hasListener removeAllListeners trigger suspendEvent suspendAllEvents resumeEvent resumeAllEvents destroyEvent".split(" "),c={},e,f=-1,
h=a.length;++f<h;e=a[f],c[e]=l(this[e],this));this.api=c}return this.api}},!0,!1);return a}(),Ra=function(){var a=/#.*$/,b=/([?&])_=[^&]*/,c=/\?/,e=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,f=/^(?:GET|HEAD)$/i,h=function(a,d,c){var b,g;g=fa(a);if(3>g&&-1<g&&c)d.push(encodeURIComponent(c)+"="+encodeURIComponent(""+a));else if(Y(a)&&c)for(b=0,g=a.length;b<g;b++)h(a[b],d,c+"["+b+"]");else if(ga(a))for(b in a)a.hasOwnProperty(b)&&h(a[b],d,c?c+"["+b+"]":b)},d=function(d,g){d.replace(a,
"");if(!1===g.cache){var e=(new Date).getTime();d=b.test(d)?d.replace(b,"$1_="+e):d+(c.test(d)?"&":"?")+"_="+e}!g.data||window.FormData&&g.data instanceof window.FormData||(A(g.data)?e=g.data:(e=[],h(g.data,e,null),e=e.join("&").replace(/%20/g,"+")),g.data=e,f.test(g.method)&&(d+=(c.test(d)?"&":"?")+g.data,g.data=null));return d},g={xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},
k={url:null,data:null,method:"GET",headers:null,username:null,password:null,cache:null,dataType:null,timeout:0,contentType:"application/x-www-form-urlencoded",xhrFields:null,jsonp:!1,jsonpParam:null,jsonpCallback:null,transport:null,replace:!1,selector:null,form:null,beforeSend:null,progress:null,uploadProgress:null,processResponse:null,callbackScope:null},q={},m=new Ia,s=function(a){var d;d=eval;a&&(/^[^\S]*use strict/.test(a)?(d=document.createElement("script"),d.text=a,document.head.appendChild(d).parentNode.removeChild(d)):
d(a))},S=function(a,d,c){var b,g;if(!ga(a)&&!p(a)&&c)b=document.createElement("input"),b.setAttribute("type","hidden"),b.setAttribute("name",c),b.setAttribute("value",a),d.appendChild(b);else if(Y(a)&&c)for(b=0,g=a.length;b<g;b++)S(a[b],d,c+"["+b+"]");else if(ga(a))for(b in a)a.hasOwnProperty(b)&&S(a[b],d,c?c+"["+b+"]":b)},E=function(a){for(var d,b,c="",g=0;g<a.elements.length;g++)if(d=a.elements[g],null!==I(d,"name"))if(b="INPUT"===d.nodeName.toUpperCase()?I(d,"type").toUpperCase():"TEXT","FILE"===
b)for(b=0;b<d.files.length;c+="&"+encodeURIComponent(d.name)+"="+encodeURIComponent(d.files[b++].name));else if("RADIO"!==b&&"CHECKBOX"!==b||d.checked)c+="&"+encodeURIComponent(d.name)+"="+encodeURIComponent(d.value);return c},v=function(a,d,b){var c=d?d.dataType:null;d=d?d.selector:null;if(!A(a))return a;b=b||"";if("xml"===c||!c&&0<=b.indexOf("xml"))return a=Aa(Ga(a)),d?G(d,a):a;if("html"===c)return a=Aa(a,"text/html"),d?G(d,a):a;if("fragment"==c){b=document.createDocumentFragment();c=document.createElement("div");
for(c.innerHTML=a;c.firstChild;)b.appendChild(c.firstChild);return b}if("json"===c||!c&&0<=b.indexOf("json"))return Qa(Ga(a));("script"===c||!c&&0<=b.indexOf("javascript"))&&s(a);return a+""},t=function(a){var c=e.exec((window?window.location.href:"").toLowerCase())||[],b=e.exec(a.url.toLowerCase());this._opt=a;!0!==a.crossDomain&&(a.crossDomain=!(!b||b[1]===c[1]&&b[2]===c[2]&&(b[3]||("http:"===b[1]?"80":"443"))===(c[3]||("http:"===c[1]?"80":"443"))));c=new X;"iframe"!=a.transport||a.form?a.form&&
(this._form=a.form,"POST"!=a.method||window&&window.FormData||(a.transport="iframe")):(this.createForm(),a.form=this._form);a.form&&"iframe"!=a.transport&&(a.data="POST"==a.method?new FormData(a.form):E(a.form));a.url=d(a.url,a);b=!a.crossDomain&&"script"!=a.transport||a.form?"iframe"==a.transport?new u(a,c,this):new w(a,c,this):new n(a,c,this);this._deferred=c;this._transport=b;c.done(function(a){m.trigger("success",a)});c.fail(function(a){m.trigger("error",a)});c.always(function(){m.trigger("end")});
m.trigger("start");a.timeout&&(this._timeout=setTimeout(l(this.onTimeout,this),a.timeout));a.jsonp&&this.createJsonp();!1===m.trigger("before-send",a,b)&&(this._promise=X.reject());a.beforeSend&&!1===a.beforeSend.call(a.callbackScope,a,b)&&(this._promise=X.reject());this._promise||(R(b.send,b),c.abort=l(this.abort,this),c.always(this.destroy,this),this._promise=c)};B(t.prototype,{_jsonpName:null,_transport:null,_opt:null,_deferred:null,_promise:null,_timeout:null,_form:null,_removeForm:!1,promise:function(){return this._promise},
abort:function(a){this._transport.abort();this._deferred.reject(a||"abort")},onTimeout:function(){this.abort("timeout")},createForm:function(){var a=document.createElement("form");a.style.display="none";a.setAttribute("method",this._opt.method);S(this._opt.data,a,null);document.body.appendChild(a);this._form=a;this._removeForm=!0},createJsonp:function(){var a=this._opt,d=a.jsonpParam||"callback",b=a.jsonpCallback||"jsonp_"+ja();a.url+=(c.test(a.url)?"&":"?")+d+"="+b;this._jsonpName=b;"undefined"!=
typeof window&&(window[b]=l(this.jsonpCallback,this));"undefined"!=typeof global&&(global[b]=l(this.jsonpCallback,this));return b},jsonpCallback:function(a){var d;try{d=this.processResponseData(a)}catch(b){this._deferred?this._deferred.reject(b):ia(b)}this._deferred&&this._deferred.resolve(d)},processResponseData:function(a,d){var b=this._opt;a=v(a,b,d);m.hasListener("process-response")&&(a=m.trigger("process-response",a,this._deferred));b.processResponse&&(a=b.processResponse.call(b.callbackScope,
a,this._deferred));return a},processResponse:function(a,d){var b=this._deferred,c;if(this._opt.jsonp)if(a){try{s(a)}catch(g){b.reject(g)}b.isPending()&&b.reject("jsonp script didn't invoke callback")}else b.reject("jsonp script is empty");else{try{c=this.processResponseData(a,d)}catch(e){b.reject(e)}b.resolve(c)}},destroy:function(){this._timeout&&clearTimeout(this._timeout);this._form&&this._form.parentNode&&this._removeForm&&this._form.parentNode.removeChild(this._form);this._transport.destroy();
this._form=this._timeout=this._promise=this._deferred=this._opt=this._transport=null;this._jsonpName&&("undefined"!=typeof window&&delete window[this._jsonpName],"undefined"!=typeof global&&delete global[this._jsonpName])}},!0,!1);var r=function(a,d){d=d||{};a&&!A(a)?d=a:d.url=a;if(!d.url&&(d.form&&(d.url=I(d.form,"action")),!d.url))throw"Must provide url";B(d,q,!1,!0);B(d,k,!1,!0);d.method=d.method?d.method.toUpperCase():d.form?I(d.form,"method").toUpperCase()||"GET":"GET";return(new t(d)).promise()};
r.setup=function(a){B(q,a,!0,!0)};r.on=function(){m.on.apply(m,arguments)};r.un=function(){m.un.apply(m,arguments)};r.get=function(a,d){d=d||{};d.method="GET";return r(a,d)};r.post=function(a,d){d=d||{};d.method="POST";return r(a,d)};r.load=function(a,d,b){b=b||{};A(d)||(b=d);b.dataType="fragment";return r(d,b).done(function(d){if(b.replace)for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(d)})};r.loadScript=function(a){return r(a,{transport:"script"})};r.submit=function(a,d){d=d||{};d.form=
a;return r(null,d)};var w=function(a,d,b){var c;if(!(window.XMLHttpRequest&&(c=new XMLHttpRequest)||(c=new ActiveXObject("Msxml2.XMLHTTP"))||(c=new ActiveXObject("Microsoft.XMLHTTP"))))throw"Unable to create XHR object";this._xhr=c;this._deferred=d;this._opt=a;this._ajax=b;a.progress&&x(c,"progress",l(a.progress,a.callbackScope));a.uploadProgress&&c.upload&&x(c.upload,"progress",l(a.uploadProgress,a.callbackScope));c.onreadystatechange=l(this.onReadyStateChange,this)};B(w.prototype,{_xhr:null,_deferred:null,
_ajax:null,setHeaders:function(){var a=this._opt,d=this._xhr,b;if(a.xhrFields)for(b in a.xhrFields)d[b]=a.xhrFields[b];a.data&&a.contentType&&d.setRequestHeader("Content-Type",a.contentType);d.setRequestHeader("X-Requested-With","XMLHttpRequest");d.setRequestHeader("Accept",a.dataType&&g[a.dataType]?g[a.dataType]+", */*; q=0.01":g._default);for(b in a.headers)d.setRequestHeader(b,a.headers[b])},onReadyStateChange:function(){var a=this._xhr,d=this._deferred;if(0===a.readyState)a.onreadystatechange=
T,d.resolve(a);else if(4===a.readyState){a.onreadystatechange=T;var b;a:{try{b=!a.status&&location&&"file:"==location.protocol||200<=a.status&&300>a.status||304===a.status||1223===a.status;break a}catch(c){}b=!1}b?this._ajax.processResponse(A(a.responseText)?a.responseText:void 0,a.getResponseHeader("content-type")||""):d.reject(a)}},abort:function(){this._xhr.onreadystatechange=T;this._xhr.abort()},send:function(){var a=this._opt;try{this._xhr.open(a.method,a.url,!0,a.username,a.password),this.setHeaders(),
this._xhr.send(a.data)}catch(d){this._deferred&&this._deferred.reject(d)}},destroy:function(){this._ajax=this._opt=this._deferred=this._xhr=null}},!0,!1);var n=function(a,d,b){this._opt=a;this._ajax=b;this._deferred=d};B(n.prototype,{_opt:null,_deferred:null,_ajax:null,_el:null,send:function(){var a=document.createElement("script");a.setAttribute("async","async");a.setAttribute("charset","utf-8");a.setAttribute("src",this._opt.url);x(a,"load",l(this.onLoad,this));x(a,"error",l(this.onError,this));
document.head.appendChild(a);this._el=a},onLoad:function(a){this._deferred&&this._deferred.resolve(a)},onError:function(a){this._deferred.reject(a)},abort:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el)},destroy:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el);this._deferred=this._ajax=this._opt=this._el=null}},!0,!1);var u=function(a,d,b){this._opt=a;this._ajax=b;this._deferred=d};B(u.prototype,{_opt:null,_deferred:null,_ajax:null,_el:null,send:function(){var a=
document.createElement("iframe"),d="frame-"+ja(),b=this._opt.form;a.setAttribute("id",d);a.setAttribute("name",d);a.style.display="none";document.body.appendChild(a);b.setAttribute("action",this._opt.url);b.setAttribute("target",d);x(a,"load",l(this.onLoad,this));x(a,"error",l(this.onError,this));this._el=a;try{b.submit()}catch(c){this._deferred.reject(c)}},onLoad:function(){var a=this._el;this._opt&&!this._opt.jsonp&&(a=a.contentDocument||a.contentWindow.document,a=a.body.innerHTML,this._ajax.processResponse(a))},
onError:function(a){this._deferred.reject(a)},abort:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el)},destroy:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el);this._deferred=this._ajax=this._opt=this._el=null}},!0,!1);return r}(),da=function(a,b,c){if(window.getComputedStyle){if(a===window)return b?c?0:null:{};a=getComputedStyle(a,null)}else a=a.currentStyle||a.style||{};b=b?a[b]:a;return c?parseFloat(b)||0:b},Sa=function(){var a;return function(){if(void 0===
a){var b=window.document,c=b.createElement("div"),e=b.createElement("div"),b=b.body;e.style&&window.getComputedStyle?(c.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",c.appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e.innerHTML="",b.appendChild(c),e="4px"===window.getComputedStyle(e,null).width,b.removeChild(c),
a=e):a=!1}return a}}(),L=function(a,b){var c=/^([+-]?(?:d*.|)d+(?:[eE][+-]?d+|))(?!px)[a-z%]+$/i,e=["Top","Right","Bottom","Left"],f=a?"inner"==a?"padding":"":"content";return function(a,d){if(a===window)return a.document.documentElement["client"+b];if(9===a.nodeType){var g=a.documentElement;return Math.max(a.body["scroll"+b],g["scroll"+b],a.body["offset"+b],g["offset"+b],g["client"+b])}a:{var k=b.toLowerCase(),q=f||(!0===d?"margin":"border"),g=da(a),m=!0,s="width"===k?a.offsetWidth:a.offsetHeight,
l="border-box"===g.boxSizing;if(0>=s||null==s){s=a.style[k];if(c.test(s)){g=s;break a}m=l&&(Sa()||s===a.style[k]);s=parseFloat(s)||0}q=q||(l?"border":"content");k=q===(m?"border":"content")?4:"width"===k?1:0;for(l=0;4>k;k+=2)"margin"===q&&(l+=parseFloat(g[q+e[k]])),m?("content"===q&&(l-=parseFloat(g["padding"+e[k]])),"margin"!==q&&(l-=parseFloat(g["border"+e[k]+"Width"]))):(l+=parseFloat(g["padding"+e[k]]),"padding"!==q&&(l+=parseFloat(g["border"+e[k]+"Width"])));g=s+l}return g}},qa=L("outer","Width"),
ra=L("outer","Height"),oa={};ca.register("mixin.Observable",{$$observable:null,$$callbackContext:null,$beforeInit:function(a){this.$$observable=new Ia;if(a&&a.callback){var b=a.callback,c=b.context||b.scope,e;b.context=null;b.scope=null;for(e in b)if(b[e])this.$$observable.on(e,b[e],c||this);a.callback=null;c&&(this.$$callbackContext=c)}},on:function(){var a=this.$$observable;return a.on.apply(a,arguments)},un:function(){var a=this.$$observable;return a.un.apply(a,arguments)},once:function(){var a=
this.$$observable;return a.once.apply(a,arguments)},trigger:function(){var a=this.$$observable;return a.trigger.apply(a,arguments)},$beforeDestroy:function(){this.$$observable.trigger("before-destroy",this)},$afterDestroy:function(){this.$$observable.trigger("destroy",this);this.$$observable.destroy();this.$$observable=null}});var ca=function(a){var b,c=a?"pageYOffset":"pageXOffset",e=a?"scrollTop":"scrollLeft";a=window.document;var f=a.body,h=a.documentElement;b=void 0!==window[c]?function(){return window[c]}:
h.clientHeight?function(){return h[e]}:function(){return f[e]};return function(a){return a&&a!==window?a&&1==a.nodeType&&a!==f&&a!==h?a[e]:b():b()}},ua=ca(!0),va=ca(!1),Ta=L("","Width"),Ua=L("","Height");J({$class:"dialog.position.Abstract",dialog:null,positionBase:null,correct:"solid",$init:function(a){this.dialog=a;B(this,a.getCfg().position,!0,!1);this.onWindowResizeDelegate=l(this.onWindowResize,this);this.onWindowScrollDelegate=l(this.onWindowScroll,this);var b=this.preferredType||this.type;
if("string"==typeof b){var c=this.getAllPositions(),e;-1!=(e=c.indexOf(b))&&(c.splice(e,1),c.unshift(b));this.preferredType=c}else b||(this.preferredType=this.getAllPositions());a.on("reposition",this.onReposition,this);a.on("show-after-delay",this.onShowAfterDelay,this);a.on("hide-after-delay",this.onHideAfterDelay,this);if(a.isVisible())this.onShowAfterDelay()},getPositionBase:function(){if(this.positionBase)return this.positionBase;var a;return(a=this.dialog.getCfg().position.base)?this.positionBase=
"string"==typeof a?G(a).shift():a:null},getBoundary:function(){var a=this.getPositionBase(),b=this.screenX||0,c=this.screenY||0,e,f,h;if(a)return f=aa(a),e=qa(a),a=ra(a),{x:f.left+b,y:f.top+c,x1:f.left+e-b,y1:f.top+a-c,w:e,h:a};e=Ta(window);a=Ua(window);f=ua(window);h=va(window);return{x:h+b,y:f+c,x1:h+e-b,y1:f+a-c,w:e,h:a}},getPrimaryPosition:function(a){return!1},getSecondaryPosition:function(a){return!1},getAllPositions:function(){return[]},correctPosition:function(a){var b=this.getPrimaryPosition(),
c=this.correct;if(b&&c){var e=this.dialog,b=this.getBoundary(),e=e.getDialogSize(),f=this.preferredType,h=f[0];if(c&&"solid"!=c){if(this.type!=h&&this.checkIfFits(a,h,b,e,!1))return this.changeType(h),this.fitToBoundary(this.getCoords(a),b,e);if(this.checkIfFits(a,this.type,b,e,!1))return this.fitToBoundary(this.getCoords(a),b,e)}if(c&&"position-only"!=c)for(c=0,h=f.length;c<h;c++)if(this.checkIfFits(a,f[c],b,e,!0)){this.changeType(f[c]);break}return this.getCoords(a)}},checkIfFits:function(a,b,c,
e,f){a=this.getCoords(a,b,!0);if(!f&&this.getSecondaryPosition(b))return!1;if(f)return!(a.x<c.x||a.y<c.y||a.x+e.width>c.x1||a.y+e.height>c.y1);switch(this.getPrimaryPosition(b)){case "t":return a.y>=c.y;case "r":return a.x+e.width<=c.x1;case "b":return a.y+e.height<=c.y1;case "l":return a.x>=c.x}},fitToBoundary:function(a,b,c){var e=this.getPositionBase(),f=e?0:b.x,h=e?0:b.y,d=e?b.w:b.x1;b=e?b.h:b.y1;var g=e=0,k=this.dialog.getPointer();a.x<f&&(e=a.x-f,a.x=f);a.y<h&&(g=a.y-h,a.y=h);a.x+c.width>d&&
(e=a.x+c.width-d,a.x-=e);a.y+c.height>b&&(g=a.y+c.height-b,a.y-=g);k.setCorrectionOffset(e,g);k.reposition();return a},changeType:function(a){var b=this.dialog.getPointer();this.type=a;b.setType(null,null)},onReposition:function(a,b){var c;c=!1!==this.screenX||!1!==this.screenY?this.correctPosition(b):this.getCoords(b);this.apply(c)},getCoords:function(a){return{left:0,top:0}},apply:function(a){a&&Q(this.dialog.getElem(),{left:a.x+"px",top:a.y+"px"})},onWindowResize:function(a){this.dialog.reposition(N(a))},
onWindowScroll:function(a){this.dialog.reposition(N(a))},onShowAfterDelay:function(){(this.resize||this.screenX||this.screenY)&&x(window,"resize",this.onWindowResizeDelegate);(this.scroll||this.screenX||this.screenY)&&x(this.dialog.getScrollEl(this.scroll),"scroll",this.onWindowScrollDelegate)},onHideAfterDelay:function(){(this.resize||this.screenX||this.screenY)&&H(window,"resize",this.onWindowResizeDelegate);(this.scroll||this.screenX||this.screenY)&&H(this.dialog.getScrollEl(this.scroll),"scroll",
this.onWindowScrollDelegate)},destroy:function(){var a=this.dialog;a.un("reposition",this.onReposition,this);a.un("show-after-delay",this.onShowAfterDelay,this);a.un("hide-after-delay",this.onHideAfterDelay,this);if(this.dialog.isVisible())this.onHideAfterDelay()}});var Ma=function(){return function b(c){if(c===window)return!0;if(3==c.nodeType)return c.parentElement?b(c.parentElement):!0;var e=window.document.documentElement;return c===e?!0:e.contains(c)}}();J({$class:"dialog.position.Target",$extends:"dialog.position.Abstract",
getCoords:function(a,b,c){var e=this.dialog,f=e.getCfg(),h=e.getTarget();if(!h)return null;var d=this.getPositionBase();a=e.getDialogSize();if(d&&!c)a:{var g;c={top:0,left:0};var k=window.document.documentElement;if(h===window||h===k)h=c;else{if("fixed"==da(h,"position"))g=h.getBoundingClientRect();else if(d){h=aa(h);c=aa(d);h={left:h.left-c.left,top:h.top-c.top};0>h.left&&(h.left=0);0>h.top&&(h.top=0);break a}else{d=window.document.documentElement;for(g=h.offsetParent||d;g&&g!=d&&"static"==da(g,
"position");)g=g.offsetParent;d=g||d;g=aa(h);d!==k&&(c=aa(d));c.top+=da(d,"borderTopWidth",!0);c.left+=da(d,"borderLeftWidth",!0)}h={top:g.top-c.top-da(h,"marginTop",!0),left:g.left-c.left-da(h,"marginLeft",!0)}}}else h=aa(h);c=e.getTargetSize();k={};b=b||this.type;d=b.substr(0,1);g=b.substr(1);var q=f.position.offsetX,f=f.position.offsetY;b=e.pointer.getDialogPositionOffset(b);switch(d){case "t":k.y=h.top-a.height-f;break;case "r":k.x=h.left+c.width+q;break;case "b":k.y=h.top+c.height+f;break;case "l":k.x=
h.left-a.width-q}switch(g){case "t":k.y=h.top+f;break;case "r":k.x=h.left+c.width-a.width-q;break;case "b":k.y=h.top+c.height-a.height-f;break;case "l":k.x=h.left+q;break;case "rc":k.x=h.left+c.width+q;break;case "lc":k.x=h.left-a.width-q;break;case "":switch(d){case "t":case "b":k.x=h.left+c.width/2-a.width/2;break;case "r":case "l":k.y=h.top+c.height/2-a.height/2}}b&&(k.x+=b.x,k.y+=b.y);return k},getPrimaryPosition:function(a){return(a||this.type).substr(0,1)},getSecondaryPosition:function(a){return(a||
this.type).substr(1)},getAllPositions:function(){return"t r b l tl tr rt rb br bl lb lt tlc trc brc blc".split(" ")}});J({$class:"dialog.position.Mouse",$extends:"dialog.position.Target",correct:"position",$init:function(a){this.onMouseMoveDelegate=l(this.onMouseMove,this);this.$super(a)},getCoords:function(a,b,c){if(!a)return null;var e=b||this.type,f=this.dialog,h=f.getCfg(),d=f.getDialogSize(),g=this.getPositionBase(),k={};b=(b||this.type).substr(1);var q=h.position.offsetX,m=h.position.offsetY,
h=h.position.axis,e=f.getPointer().getDialogPositionOffset(e),s=0,l=0;!c&&g&&(g=aa(g),s=g.left,l=g.top);switch(b){case "":k=this.get.call(f.$$callbackContext,f,a,b,c);break;case "c":k.y=a.pageY-l-d.height/2;k.x=a.pageX-s-d.width/2;break;case "t":k.y=a.pageY-l-d.height-m;k.x=a.pageX-s-d.width/2;break;case "r":k.y=a.pageY-l-d.height/2;k.x=a.pageX-s+q;break;case "b":k.y=a.pageY-l+m;k.x=a.pageX-s-d.width/2;break;case "l":k.y=a.pageY-l-d.height/2;k.x=a.pageX-s-d.width-q;break;case "rt":k.y=a.pageY-l-d.height-
m;k.x=a.pageX-s+q;break;case "rb":k.y=a.pageY-l+m;k.x=a.pageX-s+q;break;case "lt":k.y=a.pageY-l-d.height-m;k.x=a.pageX-s-d.width-q;break;case "lb":k.y=a.pageY-l+m,k.x=a.pageX-s-d.width-q}e&&(k.x+=e.x,k.y+=e.y);h&&(a=this.$super(a,b))&&("x"==h?k.y=a.y:k.x=a.x);return k},onShowAfterDelay:function(){this.$super();x(window.document.documentElement,"mousemove",this.onMouseMoveDelegate)},onHideAfterDelay:function(){this.$super();H(window.document.documentElement,"mousemove",this.onMouseMoveDelegate)},onMouseMove:function(a){this.dialog.reposition(N(a))},
getPrimaryPosition:function(a){return(a||this.type).substr(1,1)},getSecondaryPosition:function(a){return(a||this.type).substr(2)},getAllPositions:function(){return"mt mr mb ml mrt mrb mlb mlt".split(" ")}});J({$class:"dialog.position.Window",$extends:"dialog.position.Abstract",getCoords:function(a){var b=this.dialog;a=this.getPositionBase()||window;var b=b.getDialogSize(),c={},e=this.type.substr(1),f=this.offsetX,h=this.offsetY,d=ua(a),g=va(a),k=qa(a);a=ra(a);switch(e){case "c":c.y=a/2-b.height/2+
d;c.x=k/2-b.width/2+g;break;case "t":c.y=d+h;c.x=k/2-b.width/2+g;break;case "r":c.y=a/2-b.height/2+d;c.x=k-b.width+g-f;break;case "b":c.y=a-b.height+d-h;c.x=k/2-b.width/2+g;break;case "l":c.y=a/2-b.height/2+d;c.x=g+f;break;case "rt":c.y=d+h;c.x=k-b.width+g-f;break;case "rb":c.y=a-b.height+d-h;c.x=k-b.width+g-f;break;case "lt":c.y=d+h;c.x=g+f;break;case "lb":c.y=a-b.height+d-h,c.x=g+f}return c},getPrimaryPosition:function(){return this.type.substr(1,1)},getSecondaryPosition:function(){return this.type.substr(2)},
correctType:function(){},correctPosition:function(){}});J({$class:"dialog.position.Custom",$extends:"dialog.position.Abstract",getCoords:function(a){var b=this.dialog;return this.get.call(b.$$callbackContext,b,a)}});J({$class:"dialog.pointer.Abstract",enabled:null,node:null,correctX:0,correctY:0,$init:function(a,b){B(this,b,!0,!1);this.origCfg=b;this.dialog=a;this.opposite={t:"b",r:"l",b:"t",l:"r"};this.names={t:"top",r:"right",b:"bottom",l:"left"};this.sides={t:["l","r"],r:["t","b"],b:["r","l"],
l:["b","t"]};this.enabled=!1!==this.enabled&&b.size?!0:!1},enable:function(){this.enabled||(this.enabled=!0,this.render(),this.dialog.isVisible()&&this.dialog.reposition())},disable:function(){this.enabled&&(this.remove(),this.enabled=!1,this.dialog.isVisible()&&this.dialog.reposition())},getElem:function(){return this.node},getSize:function(){return this.enabled?this.size:0},setCorrectionOffset:function(a,b){this.correctX=a;this.correctY=b},getCorrectionValue:function(a,b,c){if(!b)return 0;var e=
c.substr(0,1);c=c.substr(1,1);var f=this.dialog.getDialogSize(),h=this.width,d="t"==e||"b"==e?"width":"height",g,k;switch(c){case "":k=f[d]/2-h/2;g=-k;break;case "l":g=0;k=f[d]-h/2;break;case "r":g=-(f[d]-h/2),k=0}b=0>b?Math.max(g,b):Math.min(k,b);return("t"==e||"b"==e)&&"x"==a||("l"==e||"r"==e)&&"y"==a?b:0},getDialogPositionOffset:function(a){var b=(this.detectPointerPosition(a)||"").substr(0,1);a=this.dialog.getPosition().getPrimaryPosition(a);var c={x:0,y:0};if(!this.enabled)return c;b==this.opposite[a]&&
(c["t"==b||"b"==b?"y":"x"]="b"==b||"r"==b?-this.size:this.size);return c},detectPointerPosition:function(a){var b;if(this.position&&!a)return p(this.position)?this.position.call(this.dialog.$$callbackContext,this.dialog,this.origCfg):this.position;b=this.dialog.getPosition().getPrimaryPosition(a);a=this.dialog.getPosition().getSecondaryPosition(a);if(!b)return null;b=this.opposite[b];a&&(a=a.substr(0,1),b+=a);return b},detectPointerDirection:function(a){return this.direction?p(this.direction)?this.direction.call(this.dialog.$$callbackContext,
this.dialog,a,this.origCfg):this.direction:a},update:function(){this.remove();this.render();this.append();this.dialog.isVisible()&&this.dialog.reposition()},setType:function(a,b){this.position=a;this.direction=b;this.update();this.reposition()},render:function(){},destroy:function(){this.remove()},reposition:function(){},append:function(){if(this.enabled&&(this.node||this.render(),this.node)){this.reposition();var a=this.dialog.getElem();a&&a.appendChild(this.node)}},remove:function(){var a=this.node;
a&&(a.parentNode&&a.parentNode.removeChild(a),this.node=null)}});(function(){var a=null,b={backgroundColor:"transparent",width:"0px",height:"0px",position:"absolute",fontSize:"0px",lineHeight:"0px"};return J({$class:"dialog.pointer.Html",$extends:"dialog.pointer.Abstract",node:null,sub:null,$init:function(b,e){null===a&&(a=window.document.all&&!window.XMLHttpRequest);this.$super(b,e);this.width=this.width||2*this.size;this.inner&&(this.enabled=!0)},createInner:function(){var a=B({},this.origCfg);
a.size=this.size-2*this.border;a.width=this.width-4*this.border;a.border=0;a.borderColor=null;a.borderCls=null;a.offset=0;a.inner=this.border;this.sub=ea("dialog.pointer.Html",this.dialog,a)},getBorders:function(b,e,f){var h={},d=b.substr(0,1);b=e.substr(0,1);var g=e.substr(1);e=a?"dotted":"solid";var k=this.names,l=this.sides,m=this.opposite;h["border"+W(k[m[d]])]=this.size+"px solid "+f;h["border"+W(k[d])]="0 "+e+" transparent";g?(h["border"+W(k[g])]="0 solid transparent",h["border"+W(k[m[g]])]=
this.width+"px "+e+" transparent"):(f=Math.floor(this.width/2),h["border"+W(k[l[b][0]])]=f+"px "+e+" transparent",h["border"+W(k[l[b][1]])]=f+"px "+e+" transparent");return h},getOffsets:function(a,b){var f={},h=this.names,d=this.opposite,g=a.substr(0,1),k="t"==g||"b"==g?"r":"b";f[h[g]]=this.inner?"auto":-this.size+"px";f[h[k]]="auto";if(this.inner){var g=b.substr(0,1),l=b.substr(1);f[h[d[k]]]=l?"l"==l||"t"==l?this.inner+"px":-this.width-this.inner+"px":Math.floor(-this.width/2)+"px";f[h[d[g]]]=-(this.size+
2*this.inner)+"px"}else{switch(a){case "t":case "r":case "b":case "l":g=b!=a?"l"==b||"t"==b?this.offset:-this.width+this.offset:-this.width/2+this.offset;break;case "bl":case "tl":case "lt":case "rt":g=this.offset;break;default:g=-this.width-this.offset}f["margin"+W(h[d[k]])]=g+"px";switch(a){case "t":case "r":case "b":case "l":g="50%";break;case "tr":case "rb":case "br":case "lb":g="100%";break;default:g=0}f[h[d[k]]]=g;h=pa().transform;d="";k=this.correctX;g=this.correctY;h&&(k&&(d+=" translateX("+
this.getCorrectionValue("x",k,a)+"px)"),g&&(d+=" translateY("+this.getCorrectionValue("y",g,a)+"px)"),f[h]=d)}return f},render:function(){if(this.enabled&&!this.node&&this.detectPointerPosition()){this.border&&!this.sub&&this.createInner();this.node=window.document.createElement("div");var a=window.document.createComment(" ");this.node.appendChild(a);Q(this.node,b);K(this.node,this.borderCls||this.cls);this.sub&&(this.sub.render(),this.node.appendChild(this.sub.getElem()))}},reposition:function(){var a=
this.detectPointerPosition(),b=this.detectPointerDirection(a);this.node&&(Q(this.node,this.getBorders(a,b,this.borderColor||this.color)),Q(this.node,this.getOffsets(a,b)),this.sub&&this.sub.reposition())},update:function(){this.sub&&(this.sub.$destroy(),this.sub=null);this.remove();this.node=null;this.render();this.append();this.dialog.isVisible()&&this.dialog.reposition()},destroy:function(){this.sub&&(this.sub.$destroy(),this.sub=null);this.$super()},remove:function(){this.sub&&this.sub.remove();
this.$super()}})})();J({$class:"dialog.Overlay",dialog:null,enabled:!1,color:"#000",opacity:.5,cls:null,animateShow:!1,animateHide:!1,$init:function(a){this.dialog=a;this.onClickDelegate=l(this.onClick,this);B(this,a.getCfg().overlay,!0,!1);this.enabled&&(this.enabled=!1,this.enable())},getElem:function(){this.enabled&&!this.node&&this.render();return this.node},enable:function(){this.enabled||(this.enabled=!0)},disable:function(){this.enabled&&(this.remove(),this.enabled=!1)},show:function(a){this.enabled&&
(this.animateShow?this.animate("show",a):this.node.style.display="block")},hide:function(a){this.node&&(this.animateHide?this.animate("hide",a):this.node.style.display="none")},render:function(){if(this.enabled){var a=window.document.createElement("div"),b=this.dialog.getCfg();Q(a,{display:"none",position:"fixed",left:0,top:0,right:0,bottom:0,opacity:this.opacity,backgroundColor:this.color});x(a,"click",this.onClickDelegate);b.render.zIndex&&Q(a,"zIndex",b.render.zIndex);this.cls&&K(a,this.cls);this.node=
a}},remove:function(){var a=this.dialog,b=this.node;b&&M(function(){!a.isVisible()&&b.parentNode&&b.parentNode.removeChild(b)})},append:function(){var a=this.dialog.getCfg().render.appendTo||window.document.body;this.enabled&&(this.node||this.render(),a.appendChild(this.node))},animate:function(a,b){var c=this.node,e;e="show"==a?this.animateShow:this.animateHide;p(e)&&(e=e(this,b));la(e)?e=a:A(e)&&(e=[e]);return Fa(c,e,function(){if("show"==a){var b=new X;M(function(){c.style.display="";b.resolve()});
return b}},!1)},onClick:function(a){return this.modal?(a=N(a),a.preventDefault(),a.stopPropagation(),!1):null},destroy:function(){this.remove()}});J({$class:"dialog.Manager",all:null,groups:null,$init:function(){this.all={};this.groups={}},register:function(a){var b=a.getInstanceId(),c=a.getGroup(),e=this.groups,f,h,d;this.all[b]=a;f=0;for(h=c.length;f<h;f++)d=c[f],e[d]||(e[d]={}),e[d][b]=!0;a.on("destroy",this.unregister,this)},unregister:function(a){a=a.getInstanceId();delete this.all[a]},hideAll:function(a){var b=
a.getInstanceId();a=a.getGroup();var c=this.all,e=this.groups,f,h,d,g;f=0;for(h=a.length;f<h;f++)for(g in d=a[f],d=e[d],d)c[g]?g==b||c[g].isHideAllIgnored()||c[g].hide(null,!0,!0):delete d[g]}});ca=function(){var a=ea("dialog.Manager"),b=function(a,b,c,e){if("show"==c||!e)return b.preventDefault(),b.stopPropagation(),!1},c=function(a,b,c,e){var f=a[b],h=!1;if(void 0!==f){switch(e){case "string":h=A(f);break;case "function":h=p(f);break;case "number":h=1===fa(f)||f==parseInt(f);break;case "dom":h=
f&&(f.tagName||f.nodeName)?!0:!1;break;case "jquery":(h=f&&f.jquery?!0:!1)&&(f=f.get(0));break;case "boolean":if(!0===f||!1===f)h=!0;break;default:!0===e&&!0===f&&(h=!0),!1===e&&!1===f&&(h=!0)}h&&(a[b]={},a[b][c]=f)}},e=function(a){if(!a)return{};c(a,"content","value","string");c(a,"content","value","boolean");c(a,"content","fn","function");c(a,"ajax","url","string");c(a,"cls","dialog","string");c(a,"render","tpl","string");c(a,"render","fn","function");c(a,"render","el","dom");c(a,"render","el",
"jquery");c(a,"show","events",!1);c(a,"show","events","string");c(a,"hide","events",!1);c(a,"hide","events","string");c(a,"toggle","events",!1);c(a,"toggle","events","string");c(a,"position","type","string");c(a,"position","type",!1);c(a,"position","get","function");c(a,"overlay","enabled","boolean");c(a,"pointer","position","string");c(a,"pointer","size","number");return a},f={target:null,group:null,modal:!1,useHref:!1,content:{value:"",fn:null,prepare:null,attr:null},ajax:{url:null,data:null,dataType:"text",
method:"GET"},cls:{dialog:null,visible:null,hidden:null,loading:null},selector:{content:null},buttons:null,render:{tpl:"<div></div>",fn:null,el:null,zIndex:null,lazy:!0,style:null,appendTo:null,id:null,keepVisible:!1,keepInDOM:!1,lifetime:null},events:{show:{"*":{process:b}},hide:{"*":{process:b}}},show:{delay:null,single:!1,events:null,animate:!1,ignoreHideAll:!1,focus:!1,preventScroll:!1,display:"block"},hide:{delay:null,timeout:null,events:null,destroy:!1,remove:!1,animate:!1,cancelShowDelay:!0},
toggle:{events:null},position:{type:"t",preferredType:null,offsetX:0,offsetY:0,axis:null,get:null,screenX:!1,screenY:!1,base:null,scroll:!1,resize:!0},pointer:{position:null,direction:null,size:0,width:null,color:null,offset:0,border:0,borderColor:null,el:null,cls:null,borderCls:null},overlay:{enabled:!1,color:"#000",opacity:.5,cls:null,animateShow:!1,animateHide:!1},callback:{scope:null,contentchange:null,beforeshow:null,show:null,beforehide:null,hide:null,render:null,lifetime:null,targetchange:null,
button:null}},h=J({$class:"Dialog",$mixins:["mixin.Observable"],id:null,node:null,overlay:null,pointer:null,cfg:null,position:null,target:null,dynamicTarget:!1,dynamicTargetEl:null,visible:!1,enabled:!0,frozen:!1,rendered:!1,bindSelfOnRender:!1,hideTimeout:null,hideDelay:null,showDelay:null,destroyDelay:null,images:0,positionGetType:null,positionClass:null,positionAttempt:0,$init:function(d){d=d||{};var b=d.preset;d.preset=null;this.cfg=d=B({},f,e(h.defaults),e(h[b]),e(d),!0,!0);this.id=ja();this.onPreventScrollDelegate=
l(this.onPreventScroll,this);this.onButtonClickDelegate=l(this.onButtonClick,this);this.onButtonKeyupDelegate=l(this.onButtonKeyup,this);this.showDelegate=l(this.show,this);this.hideDelegate=l(this.hide,this);this.toggleDelegate=l(this.toggle,this);this.onImageLoadDelegate=l(this.onImageLoad,this);a.register(this);d.modal&&(d.overlay.enabled=!0);this.overlay=ea("dialog.Overlay",this);b=W(d.pointer.$class||"Html");this.pointer=ea("dialog.pointer."+b,this,d.pointer);p(d.position.type)&&(this.positionGetType=
d.position.type);this.setTarget(d.target);d.target&&d.useHref&&(b=I(this.getTarget(),"href"),"#"==b.substr(0,1)?d.render.el=b:d.ajax.url=b);d.render.lazy||this.render();this.trigger("init",this);this.setHandlers("bind")},getElem:function(){return this.node},getInstanceId:function(){return this.id},getCfg:function(){return this.cfg},getPointer:function(){return this.pointer},getOverlay:function(){return this.overlay},isEnabled:function(){return this.enabled},isVisible:function(){return this.visible},
isHideAllIgnored:function(){return this.cfg.show.ignoreHideAll},isFrozen:function(){return this.frozen},isRendered:function(){return this.rendered},enable:function(){this.enabled=!0},disable:function(){this.hide();this.enabled=!1},freeze:function(){this.frozen=!0},unfreeze:function(){this.frozen=!1},getGroup:function(){var a=this.cfg;return a.group?A(a.group)?[a.group]:a.group:[""]},toggle:function(a,b){return a&&a.stopPropagation&&this.dynamicTarget&&this.visible&&this.isDynamicTargetChanged(a)?
this.show(a):this[this.visible?"hide":"show"](a,b)},resetHandlers:function(a,b){this.setHandlers("unbind");this.bindSelfOnRender=!1;a&&a.call(b,this,this.getCfg());this.setHandlers("bind")},setHandlers:function(a,b){for(var c=this.cfg,e=["show","hide","toggle"],f="bind"==a?x:H,h="bind"==a?Ka:La,l,p,v,t,r,w,n,u,C,B;l=e.shift();)if(p=c[l].events,!1!==p){if(A(p)||Y(p))this.dynamicTarget?(r={},r[p]=c.target,p={_html:r}):p={_target:p};for(v in p){if(b)if("_self"==b){if("_self"!=v&&"_overlay"!=v&&">"!=
v.substr(0,1))continue}else if(v!=b)continue;if("_self"!=v&&"_overlay"!=v&&">"!=v.substr(0,1)||this.node){if(n=p[v]){switch(v){case "_target":u=[this.getTarget()];break;case "_self":u=[this.node];break;case "_window":u=[window];break;case "_document":u=[window.document];break;case "_html":u=[window.document.documentElement];break;case "_overlay":u=[this.overlay.getElem()];break;default:u=">"==v.substr(0,1)?G(v.substr(1),this.node):G(v)}if(u&&u.length)if(A(n)&&(n=[n]),Y(n))for(r=0,w=n.length;r<w;r++)for(C=
-1,B=u.length;++C<B;f(u[C],n[r],this[l+"Delegate"]));else for(t in n)for(C=-1,B=u.length;++C<B;h(u[C],n[t],t,this[l+"Delegate"]));}}else this.bindSelfOnRender=!0}}},onPreventScroll:function(a){N(a).preventDefault()},onButtonClick:function(a){var b=N(a).target;(b=w(b,"metaphorjsTooltip-button-id"))&&this.trigger("button",this,b,a)},onButtonKeyup:function(a){if(13==a.keyCode||32==a.keyCode){var b=w(a.target,"metaphorjsTooltip-button-id");b&&this.trigger("button",this,b,N(a))}},show:function(d,b){var c=
this.cfg,e=null,f=c.show,h=null;this.isEnabled()||(h="disabled");!h&&this.visible&&this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=R(this.hide,this,null,c.hide.timeout),h="hidetimeout");!h&&this.hideDelay&&(window.clearTimeout(this.hideDelay),this.hideDelay=null,this.visible=!0,h="hidedelay");!h&&this.frozen&&(h="frozen");this.destroyDelay&&(window.clearTimeout(this.destroyDelay),this.destroyDelay=null);var l=!1;d&&d.stopPropagation&&this.dynamicTarget&&(l=this.changeDynamicTarget(d));
this.visible&&(l?(this.reposition(d),h="reposition"):h=h||"visible");if(!h||l)this.node?l&&this.changeDynamicContent():this.render();h||!1!==this.trigger("before-show",this,d)||(h="beforeshow");d&&d.stopPropagation&&c.events.show&&(c.events.show[d.type]||c.events.show["*"])&&(c=c.events.show[d.type]||c.events.show["*"],c.process?e=c.process(this,d,"show",h):(c.stopPropagation&&d.stopPropagation(),c.preventDefault&&d.preventDefault(),e=c.returnValue));if(h)return h;xa(this.node);this.visible=!0;f.single&&
a.hideAll(this);this.toggleTitleAttribute(!1);f.delay&&!b?this.showDelay=R(this.showAfterDelay,this,[d],f.delay):this.showAfterDelay(d,b);return e},showAfterDelay:function(a,b){var c=this,e=c.cfg;c.showDelay=null;if(c.visible){c.trigger("show-after-delay",c,a);e.hide.remove&&c.appendElem();c.reposition(a);if(e.show.preventScroll){var f=e.show.preventScroll,h,l;!0===f&&(f="body");f=G(f);h=-1;for(l=f.length;++h<l;x(f[h],"mousewheel",c.onPreventScrollDelegate)&&x(f[h],"touchmove",c.onPreventScrollDelegate));
}c.overlay.show();e.show.animate&&!b?c.animate("show").done(function(){c.showAfterAnimation(a)}):M(function(){c.showAfterAnimation(a)})}},showAfterAnimation:function(a){var b=this.cfg,c=this.node;this.visible&&(Z(c,b.cls.hidden),K(c,b.cls.visible),b.render.keepVisible||(c.style.display=b.show.display||"block"),b.hide.timeout&&(this.hideTimeout=R(this.hide,this,null,b.hide.timeout)),b.show.focus&&R(this.setFocus,this,null,20),this.trigger("show",this,a))},hide:function(a,b,c){var e=null,f=null,h=this.cfg;
this.hideTimeout=null;!this.visible&&this.hideDelay&&b&&(window.clearTimeout(this.hideDelay),this.hideDelay=null,this.visible=!0);this.node&&this.visible&&this.isEnabled()||(f=this.node?this.visible?"disabled":"hidden":"noelem");this.showDelay&&!f&&(h.hide.cancelShowDelay||c?(window.clearTimeout(this.showDelay),this.showDelay=null,this.visible=!1,f="cancel"):f="delay");this.frozen&&!f&&(f="frozen");f||!1!==this.trigger("before-hide",this,a)||(f="beforehide");a&&a.stopPropagation&&h.events.hide&&(h.events.hide[a.type]||
h.events.hide["*"])&&(c=h.events.hide[a.type]||h.events.hide["*"],c.process?e=c.process(this,a,"hide",f):(c.stopPropagation&&a.stopPropagation(),c.preventDefault&&a.preventDefault(),e=c.returnValue));if(f)return e;xa(this.node);this.visible=!1;this.toggleTitleAttribute(!0);this.dynamicTarget&&this.resetDynamicTarget();h.hide.delay&&!b?this.hideDelay=R(this.hideAfterDelay,this,[a],h.hide.delay):this.hideAfterDelay(a,b);return e},hideAfterDelay:function(a,b){var c=this,e=c.cfg;c.hideDelay=null;if(!c.visible){c.trigger("hide-after-delay",
c,a);if(e.show.preventScroll){var f=e.show.preventScroll,h,l;!0===f&&(f="body");f=G(f);h=-1;for(l=f.length;++h<l;H(f[h],"mousewheel",c.onPreventScrollDelegate)&&H(f[h],"touchmove",c.onPreventScrollDelegate));}c.overlay.hide();e.hide.animate&&!b?c.animate("hide").done(function(){c.hideAfterAnimation(a)}):M(function(){c.hideAfterAnimation(a)})}},hideAfterAnimation:function(a){var b=this,c=b.cfg,e=b.node;b.visible||(Z(e,c.cls.visible),K(e,c.cls.hidden),c.render.keepVisible||(e.style.display="none"),
b.trigger("hide",b,a),a=c.render.lifetime,null!==a&&(0===a?b.destroyElem():b.destroyDelay=R(b.destroyElem,b,null,a)),e&&c.hide.destroy&&M(function(){w(e,c.instanceName,null);b.destroy()}),e&&c.hide.remove&&M(function(){b.removeElem()}))},render:function(){var a=this.cfg,b;if(!this.node){var c=a.render,e=a.cls;c.fn&&(b=c.fn.call(this.$$callbackContext,this),c[A(b)?"tpl":"el"]=b);c.el?A(c.el)?(b=G(c.el).shift(),c.keepInDOM=!0):b=c.el:(b=window.document.createElement("div"),b.innerHTML=c.tpl,b=b.firstChild);
b||(b=window.document.createElement("div"));this.node=b;c.id&&b.setAttribute("id",c.id);a.render.keepVisible||(b.style.display="none");K(b,e.dialog);K(b,e.hidden);c.style&&Q(b,c.style);this.overlay.render();a.hide.remove?b.parentNode&&b.parentNode.removeChild(b):this.appendElem();c.zIndex&&Q(b,{zIndex:c.zIndex});c=a.content;if(!1!==c.value)if(c.value)this.setContent(c.value);else if(c.fn)this.setContent(c.fn.call(this.$$callbackContext,this));else this[a.ajax.url?"loadContent":"readContent"]();this.pointer.render();
this.pointer.append();if(a.buttons)for(var f in a.buttons)if(c=G(a.buttons[f],b).shift())w(c,"metaphorjsTooltip-button-id",f),x(c,"click",this.onButtonClickDelegate),x(c,"keyup",this.onButtonKeyupDelegate);this.bindSelfOnRender&&(this.setHandlers("bind","_self"),this.bindSelfOnRender=!1);this.rendered=!0;this.trigger("render",this)}},setPositionType:function(a){var b=this.getPositionClass(a);this.cfg.position.type=a;this.positionClass==b&&this.position?this.position.type=a:(this.position&&(this.position.$destroy(),
this.position=null),b&&(this.position=ea(b,this)));this.isVisible()&&this.reposition()},getPosition:function(a){var b=this.cfg.position;if(!this.position){!this.positionGetType&&"custom"!=b.type&&p(b.get)&&"m"!=b.type&&(b.type="custom");a=this.positionGetType?this.positionGetType.call(this.$$callbackContext,this,a):b.type;var c=this.getPositionClass(a);b.type=a;if(!1===c)return;this.positionClass!=c?this.position=ea(this.getPositionClass(a),this):this.position.type=a}return this.position},getPositionClass:function(a){return a?
p(a)||"custom"==a?"dialog.position.Custom":(a=a.substr(0,1))?"w"==a?"dialog.position.Window":"m"==a?"dialog.position.Mouse":"dialog.position.Target":!1:!1},reposition:function(a){this.repositioning||(this.repositioning=!0,a&&(a=N(a)),this.getPosition(a),this.trigger("before-reposition",this,a),this.getPosition(a),this.trigger("reposition",this,a),this.repositioning=!1)},getTarget:function(){return this.dynamicTarget?this.dynamicTargetEl:this.target},setTarget:function(a){if(a){var b=!1,c=this.target;
this.target?(this.setHandlers("unbind","_target"),b=!0):this.dynamicTarget&&(b=!0);var e=A(a);e&&"#"!=a.substr(0,1)?(this.dynamicTarget=!0,this.target=null):(e&&(a=G(a).shift()),this.dynamicTarget=!1,this.target=a);b&&(this.setHandlers("bind","_target"),this.trigger("target-change",this,a,c))}},resetDynamicTarget:function(){var a=this.dynamicTargetEl;a&&(this.setHandlers("unbind","_target"),this.trigger("target-change",this,null,a))},isDynamicTargetChanged:function(a){var b=this.cfg.target;a=a.target;
for(var c=this.dynamicTargetEl;a&&!ta(a,b);)a=a.parentNode;return a?!c||c!==a:!1},changeDynamicTarget:function(a){var b=this.cfg.target;a=a.target;for(var c=this.dynamicTargetEl;a&&!ta(a,b);)a=a.parentNode;if(!a||c&&c===a)return!1;c&&this.setHandlers("unbind","_target");this.dynamicTargetEl=a;this.setHandlers("bind","_target");this.trigger("target-change",this,a,c);return!0},getContentElem:function(){var a=this.node;return a?this.cfg.selector.content?G(this.cfg.selector.content,a).shift()||a:a:null},
setContent:function(a,b){b=b||"";var c=this.node,e=this.cfg,f=this.pointer;if(!c)return e.content.value=a,this;e.content.prepare&&(a=e.content.prepare.call(this.$$callbackContext,this,b,a));var h=this.getContentElem(),l=this.rendered&&!e.selector.content&&f,f=l&&f.getElem();if(l&&f)try{c.removeChild(f)}catch(p){}if(A(a))h.innerHTML=a;else for(var v in a){var t=e.selector[v];t&&(t=G(t,h).shift())&&(t.innerHTML=a[v])}if(l&&f)try{c.appendChild(f)}catch(r){}c=G("img",h);this.images=c.length;v=-1;for(e=
c.length;++v<e;x(c[v],"load",this.onImageLoadDelegate));this.trigger("content-change",this,a,b);this.onContentChange()},readContent:function(){var a=this.cfg,b=this.getTarget(),c;b&&(c=a.content.attr?I(b,a.content.attr):I(b,"tooltip")||I(b,"title")||I(b,"alt"));c&&this.setContent(c,"attribute")},loadContent:function(a){var b=this.cfg;K(this.node,b.cls.loading);a=B({},b.ajax,a,!0,!0);this.trigger("before-ajax",this,a);return Ra(a).done(this.onAjaxLoad,this)},onAjaxLoad:function(a){Z(this.node,this.cfg.cls.loading);
this.setContent(a,"ajax")},onImageLoad:function(){this.images--;this.onContentChange()},onContentChange:function(){this.visible&&this.reposition()},changeDynamicContent:function(){var a=this.cfg;a.content.fn?this.setContent(a.content.fn.call(this.$$callbackContext,this)):a.content.attr&&this.readContent()},toggleTitleAttribute:function(a){var b=this.getTarget(),c;b&&(!1===a?(w(b,"tmp-title",I(b,"title")),b.removeAttribute("title")):(c=w(b,"tmp-title"))&&b.setAttribute("title",c))},getDialogSize:function(){this.rendered||
this.render();var a=this.cfg,b=this.node,c=a.cls.hidden?ya(b,a.cls.hidden):!(b&&!(0>=b.offsetWidth||0>=b.offsetHeight)),e=b.style.left;c&&(Q(b,{left:"-1000px"}),b.style.display=a.show.display);a={width:qa(b),height:ra(b)};c&&(Q(b,{left:e}),b.style.display="none");return a},getTargetSize:function(){var a=this.getTarget();return a?{width:qa(a),height:ra(a)}:null},setFocus:function(){var a=this.cfg,b=a.show.focus,c=this.node,e;if(!0===b)if(b=G("input",c).concat(G("textarea",c)),0<b.length)b[0].focus();
else{if(a.buttons)for(e in a.buttons){(a=G(a.buttons[e],c).shift())&&a.focus();break}}else(a=G(b,c).shift())&&a.focus()},getScrollEl:function(a){return!0===a||!1===a?window:"string"==typeof a?G(a).shift():a},animate:function(a,b){var c=this.cfg,e=this.node,f,h;f=c[a].animate;p(f)&&(f=f(this,b));h=f.skipDisplayChange||!1;la(f)?f=a:A(f)&&(f=[f]);return Fa(e,f,function(){if("show"==a&&!h){var b=new X;M(function(){e.style.display=c.show.display||"block";b.resolve()});return b}},!1)},removeElem:function(){var a=
this,b=a.node;a.overlay.remove();b&&b.parentNode&&M(function(){a.visible||b.parentNode.removeChild(b)})},appendElem:function(){var a=window.document.body,a=this.cfg.render.appendTo||a;this.overlay.append();this.node&&a.appendChild(this.node)},destroyElem:function(){var a=this.node;this.setHandlers("unbind","_self");this.bindSelfOnRender=!0;this.pointer.remove();this.overlay.remove();a&&(this.cfg.render.keepInDOM||a.parentNode.removeChild(a),this.node=null);this.trigger("lifetime",this)},destroy:function(){this.trigger("destroy",
this);H(window,"resize",this.onWindowResizeDelegate);H(window,"scroll",this.onWindowScrollDelegate);this.setHandlers("unbind");this.destroyElem();this.overlay&&this.overlay.$destroy();this.pointer&&this.pointer.$destroy();this.position&&this.position.$destroy()}},{defaults:null});return h}();window.jQuery&&(jQuery.fn.metaphorjsTooltip=function(a,b,c){var e="dialog",f;"string"==typeof a&&"destroy"!=a&&(f=a,a=b,b=c);a=a||{};e+="-"+(b||"default");this.each(function(){var b=w(this,e);if(b)if("destroy"==
a)b.destroy(),w(this,e,null);else throw Error("MetaphorJs tooltip already instantiated for this html element");else a.target=this,a.instanceName=e,a.preset=f,w(this,e,new Ba.Dialog(a))})});L={};L.Dialog=ca;L.onReady=function(a,b){var c=!1,e=!0,f=b||window,h,d,g=function(b){if("readystatechange"!=b.type||"complete"==d.readyState)H("load"==b.type?f:d,b.type,g),!c&&(c=!0)&&a.call(f,b.type||b)},k=function(){try{h.doScroll("left")}catch(a){setTimeout(k,50);return}g("poll")};d=f.document;h=d.documentElement;
if("complete"==d.readyState)a.call(f,"lazy");else{if(d.createEventObject&&h.doScroll){try{e=!f.frameElement}catch(l){}e&&k()}x(d,"DOMContentLoaded",g);x(d,"readystatechange",g);x(f,"load",g)}};"undefined"!=typeof global?global.MetaphorJs=L:window.MetaphorJs=L})();
