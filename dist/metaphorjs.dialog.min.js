(function(){var ea={lib:{},cmp:{},view:{}},fa=Array.prototype.slice,Da=Object.prototype.toString,Y=function(){var a={"[object String]":0,"[object Number]":1,"[object Boolean]":2,"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};return function(b){if(!b){if(null===b)return 6;if(void 0===b)return 7}var c=a[Da.call(b)];return void 0===c?-1:1==c&&isNaN(b)?8:c}}(),ga=function(a){return"object"==typeof a&&3===Y(a)&&!a.nodeType},la=function(a){return!0===
a||!1===a},G=function(){return function b(){var c=!1,d=!1,f=fa.call(arguments),n=f.shift(),k,A,z;la(f[f.length-1])&&(c=f.pop());la(f[f.length-1])&&(d=c,c=f.pop());for(;f.length;)if(k=f.shift())for(A in k)if(k.hasOwnProperty(A)&&void 0!==(z=k[A]))if(d)if(n[A]&&ga(n[A])&&ga(z))b(n[A],z,c,d);else{if(!0===c||void 0==n[A])ga(z)?(n[A]={},b(n[A],z,c,!0)):n[A]=z}else if(!0===c||void 0==n[A])n[A]=z;return n}}(),ba=function(){var a=["0","0","0"];return function(){for(var b=a.length,c;b;){b--;c=a[b].charCodeAt(0);
if(57==c)return a[b]="A",a.join("");if(90==c)a[b]="0";else return a[b]=String.fromCharCode(c+1),a.join("")}a.unshift("0");return a.join("")}}(),v=Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}},wa=function(){var a={};return function(b){return a[b]||(a[b]=new RegExp(b))}}(),ma=function(a,b){return b?wa("(?:^|\\s)"+b+"(?!\\S)").test(a.className):!1},M=function(a,b){b&&!ma(a,b)&&(a.className+=" "+b)},T=function(a,b){b&&(a.className=
a.className.replace(wa("(?:^|\\s)"+b+"(?!\\S)"),""))},Z=function(a){return"object"==typeof a&&5===Y(a)},K=function(){var a={};return function(b,c,d){b=b._mjsid||(b._mjsid=ba());var f=a[b];return void 0!==d?(f||(f=a[b]={}),f[c]=d):f?f[c]:void 0}}(),t=function(a,b,c){return a&&a.getAttribute?void 0===c?a.getAttribute(b):null===c?a.removeAttribute(b):a.setAttribute(b,c):null},H=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},N=function(a,b,c){a.detachEvent?a.detachEvent("on"+
b,c):a.removeEventListener(b,c,!1)},ha=function(){return!1},ia=function(){return!0},ca=function(a){if(a instanceof ca)return a;if(!(this instanceof ca))return new ca(a);for(var b in a)if(!this[b])try{this[b]=a[b]}catch(c){}this.originalEvent=a;this.type=a.type;!this.target&&a.srcElement&&(this.target=a.srcElement);var d,f=a.button;void 0===this.pageX&&null!==a.clientX&&(d=this.target?this.target.ownerDocument||document:document,b=d.documentElement,d=d.body,this.pageX=a.clientX+(b&&b.scrollLeft||d&&
d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0),this.pageY=a.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0));this.which||void 0===f||(this.which=f&1?1:f&2?3:f&4?2:0);this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?ia:ha;this.timeStamp=a&&a.timeStamp||(new Date).getTime()};ca.prototype={isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;
this.isDefaultPrevented=ia;a.returnValue=!1;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ia;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ia;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};var U=function(a){return new ca(a)},E=function(a){return"string"==typeof a||0===Y(a)},na=function(a){if(a&&void 0!=
!a.length&&!E(a)){for(var b=[],c=-1,d=a.length>>>0;++c!==d;b[c]=a[c]);return b}return a?[a]:[]},P=function(){var a=/^[\w[:#.][\w\]*^|=!]*$/,b=/=([^\]]+)/,c=/ *, */,d=/(\([^)]*)\+/,f=/(\[[^\]]+)~/,n=/(~|>|\+)/,k=/ +/,A=/([^[:.#]+)?(?:#([^[:.#]+))?(?:\.([^[:.]+))?(?:\[([^!&^*|$[:=]+)([!$^*|&]?=)?([^:\]]+)?\])?(?::([^(]+)(?:\(([^)]+)\))?)?/,z=/(?:(-?\d*)n)?(?:(%|-)(\d*))?/,y=/\D/,O=/[^(]*\(([^)]*)\)/,q=/\(.*/,g=/\[([^!~^*|$ [:=]+)([$^*|]?=)?([^ :\]]+)?\]/,s=document,R=!!s.getElementsByClassName,F=!!s.querySelectorAll,
e={"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]!==a},"last-child":function(a){for(;(a=a.nextSibling)&&1!=a.nodeType;);return!!a},root:function(a){return"html"!==a.nodeName.toLowerCase()},"nth-child":function(a,p){var l=a.nodeIndex||0,b=p[3]=p[3]?("%"===p[2]?-1:1)*p[3]:0,e=p[1];if(l)return!((l+b)%e);var g=a.parentNode.firstChild;l++;do if(1==g.nodeType&&(g.nodeIndex=++l)&&a===g&&(l+b)%e)return 0;while(g=g.nextSibling);return 1},"nth-last-child":function(a,p){var l=a.nodeIndexLast||
0,b=p[3]?("%"===p[2]?-1:1)*p[3]:0,e=p[1];if(l)return!((l+b)%e);var g=a.parentNode.lastChild;l++;do if(1==g.nodeType&&(g.nodeLastIndex=l++)&&a===g&&(l+b)%e)return 0;while(g=g.previousSibling);return 1},empty:function(a){return!!a.firstChild},parent:function(a){return!a.firstChild},"only-child":function(a){return 1!=a.parentNode.getElementsByTagName("*").length},checked:function(a){return!a.checked},lang:function(a,p){return a.lang!==p&&s.documentElement.lang!==p},enabled:function(a){return a.disabled||
"hidden"===a.type},disabled:function(a){return!a.disabled},selected:function(a){return!a.selected}},r={},h=function(a){return r[a]||(r[a]=new RegExp("(^| +)"+a+"($| +)"))},u={"":function(a,p){return null!==t(a,p)},"=":function(a,p,l){var b;return(b=t(a,p))&&b===l},"&=":function(a,p,l){var b;return(b=t(a,p))&&h(l).test(b)},"^=":function(a,p,l){var b;return(b=t(a,p)+"")&&!b.indexOf(l)},"$=":function(a,p,l){var b;return(b=t(a,p)+"")&&b.indexOf(l)==b.length-l.length},"*=":function(a,p,l){var b;return(b=
t(a,p)+"")&&-1!=b.indexOf(l)},"|=":function(a,p,l){var b;return(b=t(a,p)+"")&&(b===l||!!b.indexOf(l+"-"))},"!=":function(a,p,l){var b;return!(b=t(a,p))||!h(l).test(b)}},p=function(p,B){B=B||s;var l=[],x=null,L,h,V,w,W,Q,r;if(F)try{l=na(B.querySelectorAll(p.replace(b,'="$1"')))}catch(t){x=!0}if(!F||x)if(a.test(p))switch(x=0,p.charAt(0)){case "#":x=p.slice(1);l=s.getElementById(x);l.id!==x&&(l=s.all[x]);l=l?[l]:[];break;case ".":L=p.slice(1);if(R)l=na((l=B.getElementsByClassName(L)).length?l:[]);else{L=
" "+L+" ";h=B.getElementsByTagName("*");for(V=0;w=h[V++];)-1!=(" "+w.className+" ").indexOf(L)&&(l[x++]=w);l=x?l:[]}break;case ":":h=B.getElementsByTagName("*");V=0;W=p.replace(O,"$1");for(Q=p.replace(q,"");w=h[V++];)e[Q]&&!e[Q](w,W)&&(l[x++]=w);l=x?l:[];break;case "[":h=B.getElementsByTagName("*");V=0;w=g.exec(p);L=w[1];r=w[2]||"";for(W=w[3];w=h[V++];)u[r]&&(u[r](w,L,W)||"class"===L&&u[r](w,"className",W))&&(l[x++]=w);l=x?l:[];break;default:l=na((l=B.getElementsByTagName(p)).length?l:[])}else{for(var v=
p.split(c),E=v.length-1,K=!!E,H,I,D,P,G,J,M,N,U,C,S,T;x=v[E--];){I=(H=x.replace(d,"$1%").replace(f,"$1&").replace(n," $1 ").split(k)).length;V=0;P=" ";for(h=[B];D=H[V++];)if(" "!==D&&">"!==D&&"~"!==D&&"+"!==D&&h){D=D.match(A);G=D[1]||"*";J=D[2];M=D[3]?" "+D[3]+" ":"";L=D[4];r=D[5]||"";Q=D[7];W="nth-child"===Q||"nth-last-child"===Q?z.exec("even"===D[8]&&"2n"||"odd"===D[8]&&"2n%1"||!y.test(D[8])&&"0n%"+D[8]||D[8]):D[8];N=[];x=U=0;for(S=V==I;C=h[U++];)switch(P){case " ":T=C.getElementsByTagName(G);for(C=
0;w=T[C++];)J&&w.id!==J||M&&-1==(" "+w.className+" ").indexOf(M)||!(!L||u[r]&&(u[r](w,L,D[6])||"class"===L&&u[r](w,"className",D[6])))||w.yeasss||(e[Q]?e[Q](w,W):Q)||(S&&(w.yeasss=1),N[x++]=w);break;case "~":for(G=G.toLowerCase();(C=C.nextSibling)&&!C.yeasss;)1!=C.nodeType||"*"!==G&&C.nodeName.toLowerCase()!==G||J&&C.id!==J||M&&-1==(" "+C.className+" ").indexOf(M)||!(!L||u[r]&&(u[r](w,L,D[6])||"class"===L&&u[r](w,"className",D[6])))||C.yeasss||(e[Q]?e[Q](C,W):Q)||(S&&(C.yeasss=1),N[x++]=C);break;
case "+":for(;(C=C.nextSibling)&&1!=C.nodeType;);!C||C.nodeName.toLowerCase()!==G.toLowerCase()&&"*"!==G||J&&C.id!==J||M&&-1==(" "+w.className+" ").indexOf(M)||!(!L||u[r]&&(u[r](w,L,D[6])||"class"===L&&u[r](w,"className",D[6])))||C.yeasss||(e[Q]?e[Q](C,W):Q)||(S&&(C.yeasss=1),N[x++]=C);break;case ">":for(T=C.getElementsByTagName(G),V=0;w=T[V++];)w.parentNode!==C||J&&w.id!==J||M&&-1==(" "+w.className+" ").indexOf(M)||!(!L||u[r]&&(u[r](w,L,D[6])||"class"===L&&u[r](w,"className",D[6])))||w.yeasss||(e[Q]?
e[Q](w,W):Q)||(S&&(w.yeasss=1),N[x++]=w)}h=N}else P=D;if(K){if(!h.concat){N=[];for(C=0;w=h[C];)N[C++]=w;h=N}l=h.concat(1==l.length?l[0]:l)}else l=h}for(x=l.length;x--;)l[x].yeasss=l[x].nodeIndex=l[x].nodeIndexLast=null}return l};p.is=function(a,b){var l=p(b,a.parentNode),e,g;e=-1;for(g=l.length;++e<g;)if(l[e]===a)return!0;return!1};return p}(),oa=P.is,xa=function(){var a=["Moz","Webkit","ms","O","Khtml"],b="animationDelay",c="animationDuration",d="transitionDelay",f="transitionDuration",n="transform",
k=null;(function(){var A=document.createElement("div"),z=!1,y,O,q;if(void 0!==A.style.animationName)z=!0;else for(O=0,q=a.length;O<q;O++)if(y=a[O],void 0!==A.style[y+"AnimationName"]){z=!0;b=y+"AnimationDelay";c=y+"AnimationDuration";d=y+"TransitionDelay";f=y+"TransitionDuration";n=y+"Transform";break}return z})()&&(k={animationDelay:b,animationDuration:c,transitionDelay:d,transitionDuration:f,transform:n});return function(){return k}}(),Ea=function(){var a=function(a){if(!a)return 0;var b=parseFloat(a);
-1==a.indexOf("ms")&&(b*=1E3);return b},b=function(b,c,y){var d,q,g=c.length;for(d=0;d<g;d++)q=a(c[d])+a(y[d]),b=Math.max(q,b);return b},c=xa(),d=c?c.animationDuration:null,f=c?c.animationDelay:null,n=c?c.transitionDuration:null,k=c?c.transitionDelay:null;return function(a){if(!c)return 0;var z=window.getComputedStyle?window.getComputedStyle(a,null):a.style;a=0;var y=(z[d]||"").split(","),O=(z[f]||"").split(","),q=(z[n]||"").split(","),z=(z[k]||"").split(",");a=Math.max(a,b(a,y,O));return a=Math.max(a,
b(a,q,z))}}(),I=function(a){return"function"==typeof a},pa=function(a){var b=K(a,"mjsAnimationQueue"),c,d;if(Z(b)&&b.length){if(b=b[0])b.stages&&(c=b.position,d=b.stages,T(a,d[c]),T(a,d[c]+"-active")),b.deferred&&b.deferred.reject(b.el)}else I(b)?b(a):"stop"==b&&$(a).stop(!0,!0);K(a,"mjsAnimationQueue",null)},ja=function(a){if(null===a||"object"!=typeof a)return!1;a=Y(a);return 2<a||-1==a},S=function(a){var b;return a&&(ja(a)||I(a))?I(b=a.then)?b:!1:!1},ya=function(a,b,c){setTimeout(function(){a.apply(b,
c||[])},0)},qa=function(a){var b=a.stack||Error().stack;if("undefined"!=typeof console&&console.log)ya(function(){console.log(a);b&&console.log(b)});else throw a;},aa=function(){var a=[],b=!1,c="undefined"!=typeof process?process.nextTick:function(a){setTimeout(a,0)},d=function(){b=!0;var A=a.shift();c(function(){A[0].apply(A[1],A[2]);a.length?d():b=!1},0)},f=function(c,z,y){y=y||[];a.push([c,z,y]);b||d()},n=function(a,b){return function(c){try{b.resolve(a(c))}catch(d){b.reject(d)}}},k=function(a,
b){if(a instanceof k)return a;if(!(this instanceof k))return new k(a,b);var c;this._fulfills=[];this._rejects=[];this._dones=[];this._fails=[];if(0<arguments.length)if(c=S(a))a instanceof k?a.then(v(this.resolve,this),v(this.reject,this)):(new k(c,a)).then(v(this.resolve,this),v(this.reject,this));else if(I(a))try{a.call(b,v(this.resolve,this),v(this.reject,this))}catch(d){this.reject(d)}else this.resolve(a)};k.prototype={_state:0,_fulfills:null,_rejects:null,_dones:null,_fails:null,_wait:0,_value:null,
_reason:null,_triggered:!1,isPending:function(){return 0==this._state},isFulfilled:function(){return 1==this._state},isRejected:function(){return 2==this._state},_cleanup:function(){delete this._fulfills;delete this._rejects;delete this._dones;delete this._fails},_processValue:function(a,b){var c;if(0==this._state)if(a===this)this._doReject(new TypeError("cannot resolve promise with itself"));else{try{if(c=S(a)){a instanceof k?a.then(v(this._processResolveValue,this),v(this._processRejectReason,this)):
(new k(c,a)).then(v(this._processResolveValue,this),v(this._processRejectReason,this));return}}catch(d){0==this._state&&this._doReject(d);return}b.call(this,a)}},_callResolveHandlers:function(){this._done();for(var a=this._fulfills,b;b=a.shift();)f(b[0],b[1],[this._value]);this._cleanup()},_doResolve:function(a){this._value=a;this._state=1;0==this._wait&&this._callResolveHandlers()},_processResolveValue:function(a){this._processValue(a,this._doResolve)},resolve:function(a){if(this._triggered)return this;
this._triggered=!0;this._processResolveValue(a);return this},_callRejectHandlers:function(){this._fail();for(var a=this._rejects,b;b=a.shift();)f(b[0],b[1],[this._reason]);this._cleanup()},_doReject:function(a){this._state=2;this._reason=a;0==this._wait&&this._callRejectHandlers()},_processRejectReason:function(a){this._processValue(a,this._doReject)},reject:function(a){if(this._triggered)return this;this._triggered=!0;this._processRejectReason(a);return this},then:function(a,b){var c=new k,d=this._state;
0==d||0!=this._wait?(a&&I(a)?this._fulfills.push([n(a,c),null]):this._fulfills.push([c.resolve,c]),b&&I(b)?this._rejects.push([n(b,c),null]):this._rejects.push([c.reject,c])):1==d?a&&I(a)?f(n(a,c),null,[this._value]):c.resolve(this._value):2==d&&(b&&I(b)?f(n(b,c),null,[this._reason]):c.reject(this._reason));return c},"catch":function(a){return this.then(null,a)},_done:function(){for(var a=this._dones,b;b=a.shift();)try{b[0].call(b[1]||null,this._value)}catch(c){qa(c)}},done:function(a,b){var c=this._state;
1==c&&0==this._wait?a.call(b||null,this._value):0==c&&this._dones.push([a,b]);return this},_fail:function(){for(var a=this._fails,b;b=a.shift();)try{b[0].call(b[1]||null,this._reason)}catch(c){qa(c)}},fail:function(a,b){var c=this._state;2==c&&0==this._wait?a.call(b||null,this._reason):0==c&&this._fails.push([a,b]);return this},always:function(a,b){this.done(a,b);this.fail(a,b);return this},promise:function(){return{then:v(this.then,this),done:v(this.done,this),fail:v(this.fail,this),always:v(this.always,
this)}},after:function(a){var b=this;if(S(a)){b._wait++;var c=function(){b._wait--;0==b._wait&&0!=b._state&&(1==b._state?b._callResolveHandlers():b._callRejectHandlers())};I(a.done)?a.done(c):a.then(c)}return b}};k.fcall=function(a,b,c){return k.resolve(a.apply(b,c||[]))};k.resolve=function(a){var b=new k;b.resolve(a);return b};k.reject=function(a){var b=new k;b.reject(a);return b};k.all=function(a){if(!a.length)return k.resolve(null);var b=new k,c=a.length,d=Array(c),q=c,g,s,f=function(a,c){d[c]=
a;q--;0==q&&b.resolve(d)};for(g=0;g<c;g++)(function(c){s=a[g];s instanceof k?s.done(function(a){f(a,c)}).fail(b.reject,b):S(s)||I(s)?(new k(s)).done(function(a){f(a,c)}).fail(b.reject,b):f(s,c)})(g);return b};k.when=function(){return k.all(arguments)};k.allResolved=function(a){if(!a.length)return k.resolve(null);var b=new k,c=a.length,d=[],q=c,g,s,f=function(a){d.push(a);n()},n=function(){q--;0==q&&b.resolve(d)};for(g=0;g<c;g++)s=a[g],s instanceof k?s.done(f).fail(n):S(s)||I(s)?(new k(s)).done(f).fail(n):
f(s);return b};k.race=function(a){if(!a.length)return k.resolve(null);var b=new k,c=a.length,d,q;for(d=0;d<c&&(q=a[d],q instanceof k?q.done(b.resolve,b).fail(b.reject,b):S(q)||I(q)?(new k(q)).done(b.resolve,b).fail(b.reject,b):b.resolve(q),b.isPending());d++);return b};k.waterfall=function(a){if(!a.length)return k.resolve(null);for(var b=a.shift(),b=I(b)?k.fcall(b):k.resolve(c),c;c=a.shift();)S(c)?b=b.then(function(a){return function(){return a}}(c)):I(c)?b=b.then(c):b.resolve(c);return b};k.counter=
function(a){var b=new k;b.countdown=function(){a--;0==a&&b.resolve()};return b};return k}(),za=function(a){var b,c=a?"pageYOffset":"pageXOffset",d=a?"scrollTop":"scrollLeft";a=document;var f=a.body,n=a.documentElement;b=void 0!==window[c]?function(){return window[c]}:n.clientHeight?function(){return n[d]}:function(){return f[d]};return function(a){return a&&1==a.nodeType&&a!==f&&a!==n?a[d]:b()}},ra=za(!0),sa=za(!1),J=function(a){var b;b=ra();var c=sa();a===window?(c=document.documentElement,b={left:0,
right:c.clientWidth,top:b,bottom:c.clientHeight+b,width:c.clientWidth,height:c.clientHeight}):a.getBoundingClientRect?(a=a.getBoundingClientRect(),b={left:a.left+c,top:a.top+b,right:a.right+c,bottom:a.bottom+b},b.width=b.right-b.left,b.height=b.bottom-b.top):b={left:a.offsetLeft+c,top:a.offsetTop+b,width:a.offsetWidth,height:a.offsetHeight,right:0,bottom:0};b.getCenter=function(){return this.width/2};b.getCenterX=function(){return this.left+this.width/2};return b},da=function(){var a,b;if("undefined"!=
typeof window){var c=window;a=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame;b=c.cancelAnimationFrame||c.webkitCancelAnimationFrame||c.mozCancelAnimationFrame||c.webkitCancelRequestAnimationFrame;if(a)return function(c){var f=a(c);return function(){b(f)}}}return function(a){var b=setTimeout(a,0);return function(){clearTimeout(b)}}}(),Fa=function(){var a={show:["mjs-show"],hide:["mjs-hide"],enter:["mjs-enter"],leave:["mjs-leave"],move:["mjs-move"]},b=0,c=xa(),d=
!!c,f=function(a,b,c){var d=function(){(new Date).getTime()-b>=c?a():da(d)};da(d)},n=function z(a,b,c,g,d,k,F,e){var r=function(){var b=K(a,"mjsAnimationQueue");return b&&b.length&&b[0].id==F?!1:(d.reject(a),!0)},h=function(){if(!r()){var p=c;c++;if(c==b.length){d.resolve(a);K(a,"mjsAnimationQueue").shift();var g=K(a,"mjsAnimationQueue");g.length?(g=g[0],n(g.el,g.stages,0,g.start,g.deferred,!1,g.id,g.step)):K(a,"mjsAnimationQueue",null)}else K(a,"mjsAnimationQueue")[0].position=c,z(a,b,c,null,d,!1,
F,e);T(a,b[p]);T(a,b[p]+"-active")}},u=function(){r()||(M(a,b[c]+"-active"),aa.resolve(e&&e(a,c,"active")).done(function(){if(!r()){var b=Ea(a);b?f(h,(new Date).getTime(),b):da(h)}}))},p=function(){r()||(M(a,b[c]),aa.waterfall([e&&e(a,c,"start"),function(){return g?g(a):null}]).done(function(){!r()&&da(u)}))};k?da(p):p()},k=function(c,f,k,q,g,s){var R=new aa,F=K(c,"mjsAnimationQueue")||[],e=++b,r=t(c,"mjs-animate"),h,u,p,m,B,l,x;f=f||r;q&&null===r&&(f=null);if(f){E(f)?"["==f.substr(0,1)?h=(new Function("",
"return "+f))():(h=a[f],f=g&&g.get("animate."+f,!0)):I(f)?u=f:Z(f)&&(E(f[0])?h=f:(p=f[0],m=f[1]));ga(f)&&(h=f.stages,u=f.fn,p=f.before,m=f.after,B=f.options?G({},f.options):{},l=f.context||null,x=f.duration||null,k=k||B.start);if(d&&h)return F.push({el:c,stages:h,start:k,step:s,deferred:R,position:0,id:e}),K(c,"mjsAnimationQueue",F),1==F.length&&n(c,h,0,k,R,!0,e,s),R;B=B||{};k&&(B.start=function(){k(c)});B.complete=function(){R.resolve(c)};x&&(B.duration=x);if(u&&I(u))return p&&G(c.style,p,!0,!1),
k&&k(c),K(c,"mjsAnimationQueue",u.call(l,c,function(){R.resolve(c)})),R;if(window.jQuery){f=$(c);p&&f.css(p);K(c,"mjsAnimationQueue","stop");if(u&&E(u))return f[u](B),R;if(m)return f.animate(m,B),R}}k?(u=k(c),S(u)?u.done(function(){R.resolve(c)}):R.resolve(c)):R.resolve(c);return R};k.addAnimationType=function(b,c){a[b]=c};k.stop=pa;k.prefixes=c;k.cssAnimations=d;return k}(),Aa=function(){return String.prototype.trim?function(a){return E(a)?a.trim():a}:function(a){return E(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,
""):a}}(),ta=function(){},Ga=function(){return"undefined"!=typeof JSON?function(a){return JSON.parse(a)}:function(a){return(new Function("return "+a))()}}(),Ba=function(a,b){var c,d;if(!a||!E(a))return null;try{d=new DOMParser,c=d.parseFromString(a,b||"text/xml")}catch(f){c=void 0}if(!c||c.getElementsByTagName("parsererror").length)throw"Invalid XML: "+a;return c},ua=function(){this.events={}};ua.prototype={createEvent:function(a,b){a=a.toLowerCase();var c=this.events;c[a]||(c[a]=new va(a,b));return c[a]},
getEvent:function(a){a=a.toLowerCase();return this.events[a]},on:function(a,b,c,d){a=a.toLowerCase();var f=this.events;f[a]||(f[a]=new va(a));return f[a].on(b,c,d)},once:function(a,b,c,d){d=d||{};d.limit=1;return this.on(a,b,c,d)},un:function(a,b,c){a=a.toLowerCase();var d=this.events;d[a]&&d[a].un(b,c)},hasListener:function(a,b,c){a=a.toLowerCase();var d=this.events;return d[a]?d[a].hasListener(b,c):!1},removeAllListeners:function(a){var b=this.events;b[a]&&b[a].removeAllListeners()},trigger:function(){var a=
arguments[0],b=this.events,a=a.toLowerCase();if(!b[a])return null;a=b[a];return a.trigger.apply(a,fa.call(arguments,1))},suspendEvent:function(a){a=a.toLowerCase();var b=this.events;b[a]&&b[a].suspend()},suspendAllEvents:function(){var a=this.events,b;for(b in a)a[b].suspend()},resumeEvent:function(a){a=a.toLowerCase();var b=this.events;b[a]&&b[a].resume()},resumeAllEvents:function(){var a=this.events,b;for(b in a)a[b].resume()},destroyEvent:function(a){var b=this.events;b[a]&&(b[a].removeAllListeners(),
b[a].destroy(),delete b[a])},destroy:function(a){var b=this.events;if(a)a=a.toLowerCase(),b[a]&&(b[a].destroy(),delete b[a]);else{for(var c in b)b[c].destroy();this.events={}}},getApi:function(){if(!this.api){for(var a="createEvent getEvent on un once hasListener removeAllListeners trigger suspendEvent suspendAllEvents resumeEvent resumeAllEvents destroyEvent".split(" "),b={},c,d=-1,f=a.length;++d<f;c=a[d],b[c]=v(this[c],this));this.api=b}return this.api}};var va=function(a,b){this.name=a;this.listeners=
[];this.map={};this.hash=ba();this.uni="$$"+a+"_"+this.hash;this.suspended=!1;this.lid=0;this.returnResult=void 0===b?null:b};va.prototype={getName:function(){return this.name},destroy:function(){this.map=this.listeners=null},on:function(a,b,c){if(!a)return null;b=b||null;c=c||{};var d=this.uni,f=b||a;if(f[d]&&!c.allowDupes)return null;var n=++this.lid,k=c.first||!1;f[d]=n;a={fn:a,scope:b,uniScope:f,id:n,called:0,limit:c.limit||0,start:c.start||1,count:0,append:c.append,prepend:c.prepend};k?this.listeners.unshift(a):
this.listeners.push(a);this.map[n]=a;return n},once:function(a,b,c){c=c||{};c.once=!0;return this.on(a,b,c)},un:function(a,b){var c=-1,d=this.uni,f=this.listeners,n;n=a==parseInt(a)?a:(b||a)[d];if(!n)return!1;for(var k=0,t=f.length;k<t;k++)if(f[k].id==n){c=k;delete f[k].uniScope[d];break}if(-1==c)return!1;f.splice(c,1);delete this.map[n];return!0},hasListener:function(a,b){var c=this.listeners,d;if(a){b=b||a;d=I(a)?b[this.uni]:a;if(!d)return!1;for(var f=0,n=c.length;f<n;f++)if(c[f].id==d)return!0;
return!1}return 0<c.length},removeAllListeners:function(){var a=this.listeners,b=this.uni,c,d;c=0;for(d=a.length;c<d;c++)delete a[c].uniScope[b];this.listeners=[];this.map={}},suspend:function(){this.suspended=!0},resume:function(){this.suspended=!1},_prepareArgs:function(a,b){var c;a.append||a.prepend?(c=fa.call(b),a.prepend&&(c=a.prepend.concat(c)),a.append&&(c=c.concat(a.append))):c=b;return c},trigger:function(){var a=this.listeners,b=this.returnResult;if(this.suspended||0==a.length)return null;
for(var c="all"==b?[]:null,d,f,a="first"==b?[a[0]]:fa.call(a);d=a.shift();)if(d&&this.map[d.id]&&(d.count++,!(d.count<d.start))){f=d.fn.apply(d.scope,this._prepareArgs(d,arguments));d.called++;d.called==d.limit&&this.un(d.id);"all"==b&&c.push(f);if("first"==b)return f;"last"==b&&(c=f);if(!1==b&&!1===f)break}if(b)return c}};var Ha=function(){var a=/#.*$/,b=/([?&])_=[^&]*/,c=/\?/,d=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,f=/^(?:GET|HEAD)$/i,n=function(a,b,c){var l,e;e=Y(a);if(3>
e&&-1<e&&c)b.push(encodeURIComponent(c)+"="+encodeURIComponent(""+a));else if(Z(a)&&c)for(l=0,e=a.length;l<e;l++)n(a[l],b,c+"["+l+"]");else if(ja(a))for(l in a)a.hasOwnProperty(l)&&n(a[l],b,c?c+"["+l+"]":l)},k=function(p,m){p.replace(a,"");if(!1===m.cache){var e=(new Date).getTime();return b.test(p)?p.replace(b,"$1_="+e):p+(c.test(p)?"&":"?")+"_="+e}!m.data||window.FormData&&m.data instanceof window.FormData||(E(m.data)?e=m.data:(e=[],n(m.data,e,null),e=e.join("&").replace(/%20/g,"+")),m.data=e,f.test(m.method)&&
(p+=(c.test(p)?"&":"?")+m.data,m.data=null));return p},A={xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},z={url:null,data:null,method:"GET",headers:null,username:null,password:null,cache:null,dataType:null,timeout:0,contentType:"application/x-www-form-urlencoded",xhrFields:null,jsonp:!1,jsonpParam:null,jsonpCallback:null,transport:null,replace:!1,selector:null,form:null,beforeSend:null,
progress:null,uploadProgress:null,processResponse:null,callbackScope:null},y={},O=new ua,q=function(a){var b;b=eval;a&&(/^[^\S]*use strict/.test(a)?(b=document.createElement("script"),b.text=a,document.head.appendChild(b).parentNode.removeChild(b)):b(a))},g=function(a,b,c){var l,e;if(!ja(a)&&!I(a)&&c)l=document.createElement("input"),t(l,"type","hidden"),t(l,"name",c),t(l,"value",a),b.appendChild(l);else if(Z(a)&&c)for(l=0,e=a.length;l<e;l++)g(a[l],b,c+"["+l+"]");else if(ja(a))for(l in a)a.hasOwnProperty(l)&&
g(a[l],b,c?c+"["+l+"]":l)},s=function(a){for(var b,c,l="",e=0;e<a.elements.length;e++)if(b=a.elements[e],null!==t(b,"name"))if(c="INPUT"===b.nodeName.toUpperCase()?t(b,"type").toUpperCase():"TEXT","FILE"===c)for(c=0;c<b.files.length;l+="&"+encodeURIComponent(b.name)+"="+encodeURIComponent(b.files[c++].name));else if("RADIO"!==c&&"CHECKBOX"!==c||b.checked)l+="&"+encodeURIComponent(b.name)+"="+encodeURIComponent(b.value);return l},R=function(a,b,c){var l=b?b.dataType:null;b=b?b.selector:null;if(!E(a))return a;
c=c||"";if("xml"===l||!l&&0<=c.indexOf("xml"))return a=Ba(Aa(a)),b?P(b,a):a;if("html"===l)return a=Ba(a,"text/html"),b?P(b,a):a;if("fragment"==l){c=document.createDocumentFragment();l=document.createElement("div");for(l.innerHTML=a;l.firstChild;)c.appendChild(l.firstChild);return c}if("json"===l||!l&&0<=c.indexOf("json"))return Ga(Aa(a));("script"===l||!l&&0<=c.indexOf("javascript"))&&q(a);return a+""},F=function(a){var b=d.exec((window?window.location.href:"").toLowerCase())||[],c=d.exec(a.url.toLowerCase());
this._opt=a;!0!==a.crossDomain&&(a.crossDomain=!(!c||c[1]===b[1]&&c[2]===b[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(b[3]||("http:"===b[1]?"80":"443"))));b=new aa;"iframe"!=a.transport||a.form?a.form&&(this._form=a.form,"POST"!=a.method||window&&window.FormData||(a.transport="iframe")):(this.createForm(),a.form=this._form);a.form&&"iframe"!=a.transport&&(a.data="POST"==a.method?new FormData(a.form):s(a.form));a.url=k(a.url,a);c=!a.crossDomain&&"script"!=a.transport||a.form?"iframe"==a.transport?
new u(a,b,this):new r(a,b,this):new h(a,b,this);this._deferred=b;this._transport=c;b.done(function(a){O.trigger("success",a)});b.fail(function(a){O.trigger("error",a)});b.always(function(){O.trigger("end")});O.trigger("start");a.timeout&&(this._timeout=setTimeout(v(this.onTimeout,this),a.timeout));a.jsonp&&this.createJsonp();!1===O.trigger("beforeSend",a,c)&&(this._promise=aa.reject());a.beforeSend&&!1===a.beforeSend.call(a.callbackScope,a,c)&&(this._promise=aa.reject());this._promise||(ya(c.send,
c),b.abort=v(this.abort,this),b.always(this.destroy,this),this._promise=b)};F.prototype={_jsonpName:null,_transport:null,_opt:null,_deferred:null,_promise:null,_timeout:null,_form:null,_removeForm:!1,promise:function(){return this._promise},abort:function(a){this._transport.abort();this._deferred.reject(a||"abort")},onTimeout:function(){this.abort("timeout")},createForm:function(){var a=document.createElement("form");a.style.display="none";t(a,"method",this._opt.method);g(this._opt.data,a,null);document.body.appendChild(a);
this._form=a;this._removeForm=!0},createJsonp:function(){var a=this._opt,b=a.jsonpParam||"callback",e=a.jsonpCallback||"jsonp_"+ba();a.url+=(c.test(a.url)?"&":"?")+b+"="+e;this._jsonpName=e;"undefined"!=typeof window&&(window[e]=v(this.jsonpCallback,this));"undefined"!=typeof global&&(global[e]=v(this.jsonpCallback,this));return e},jsonpCallback:function(a){var b;try{b=this.processResponseData(a)}catch(c){this._deferred?this._deferred.reject(c):qa(c)}this._deferred&&this._deferred.resolve(b)},processResponseData:function(a,
b){var c=this._opt;a=R(a,c,b);O.hasListener("processResponse")&&(a=O.trigger("processResponse",a,this._deferred));c.processResponse&&(a=c.processResponse.call(c.callbackScope,a,this._deferred));return a},processResponse:function(a,b){var c=this._deferred,l;if(this._opt.jsonp)if(a){try{q(a)}catch(e){c.reject(e)}c.isPending()&&c.reject("jsonp script didn't invoke callback")}else c.reject("jsonp script is empty");else{try{l=this.processResponseData(a,b)}catch(g){c.reject(g)}c.resolve(l)}},destroy:function(){this._timeout&&
clearTimeout(this._timeout);this._form&&this._form.parentNode&&this._removeForm&&this._form.parentNode.removeChild(this._form);this._transport.destroy();delete this._transport;delete this._opt;delete this._deferred;delete this._promise;delete this._timeout;delete this._form;this._jsonpName&&("undefined"!=typeof window&&delete window[this._jsonpName],"undefined"!=typeof global&&delete global[this._jsonpName])}};var e=function(a,b){b=b||{};a&&!E(a)?b=a:b.url=a;if(!b.url&&(b.form&&(b.url=t(b.form,"action")),
!b.url))throw"Must provide url";G(b,y,!1,!0);G(b,z,!1,!0);b.method=b.method?b.method.toUpperCase():b.form?t(b.form,"method").toUpperCase()||"GET":"GET";return(new F(b)).promise()};e.setup=function(a){G(y,a,!0,!0)};e.on=function(){O.on.apply(O,arguments)};e.un=function(){O.un.apply(O,arguments)};e.get=function(a,b){b=b||{};b.method="GET";return e(a,b)};e.post=function(a,b){b=b||{};b.method="POST";return e(a,b)};e.load=function(a,b,c){c=c||{};E(b)||(c=b);c.dataType="fragment";return e(b,c).done(function(b){if(c.replace)for(;a.firstChild;)a.removeChild(a.firstChild);
a.appendChild(b)})};e.loadScript=function(a){return e(a,{transport:"script"})};e.submit=function(a,b){b=b||{};b.form=a;return e(null,b)};var r=function(a,b,c){var l;if(!(window.XMLHttpRequest&&(l=new XMLHttpRequest)||(l=new ActiveXObject("Msxml2.XMLHTTP"))||(l=new ActiveXObject("Microsoft.XMLHTTP"))))throw"Unable to create XHR object";this._xhr=l;this._deferred=b;this._opt=a;this._ajax=c;a.progress&&H(l,"progress",v(a.progress,a.callbackScope));a.uploadProgress&&l.upload&&H(l.upload,"progress",v(a.uploadProgress,
a.callbackScope));l.onreadystatechange=v(this.onReadyStateChange,this)};r.prototype={_xhr:null,_deferred:null,_ajax:null,setHeaders:function(){var a=this._opt,b=this._xhr,c;if(a.xhrFields)for(c in a.xhrFields)b[c]=a.xhrFields[c];a.data&&a.contentType&&b.setRequestHeader("Content-Type",a.contentType);b.setRequestHeader("X-Requested-With","XMLHttpRequest");b.setRequestHeader("Accept",a.dataType&&A[a.dataType]?A[a.dataType]+", */*; q=0.01":A._default);for(c in a.headers)b.setRequestHeader(c,a.headers[c])},
onReadyStateChange:function(){var a=this._xhr,b=this._deferred;if(0===a.readyState)a.onreadystatechange=ta,b.resolve(a);else if(4===a.readyState){a.onreadystatechange=ta;var c;a:{try{c=!a.status&&location&&"file:"==location.protocol||200<=a.status&&300>a.status||304===a.status||1223===a.status;break a}catch(l){}c=!1}c?this._ajax.processResponse(E(a.responseText)?a.responseText:void 0,a.getResponseHeader("content-type")||""):b.reject(a)}},abort:function(){this._xhr.onreadystatechange=ta;this._xhr.abort()},
send:function(){var a=this._opt;try{this._xhr.open(a.method,a.url,!0,a.username,a.password),this.setHeaders(),this._xhr.send(a.data)}catch(b){this._deferred.reject(b)}},destroy:function(){delete this._xhr;delete this._deferred;delete this._opt;delete this._ajax}};var h=function(a,b,c){this._opt=a;this._ajax=c;this._deferred=b};h.prototype={_opt:null,_deferred:null,_ajax:null,_el:null,send:function(){var a=document.createElement("script");t(a,"async","async");t(a,"charset","utf-8");t(a,"src",this._opt.url);
H(a,"load",v(this.onLoad,this));H(a,"error",v(this.onError,this));document.head.appendChild(a);this._el=a},onLoad:function(a){this._deferred&&this._deferred.resolve(a)},onError:function(a){this._deferred.reject(a)},abort:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el)},destroy:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el);delete this._el;delete this._opt;delete this._ajax;delete this._deferred}};var u=function(a,b,c){this._opt=a;this._ajax=c;this._deferred=
b};u.prototype={_opt:null,_deferred:null,_ajax:null,_el:null,send:function(){var a=document.createElement("iframe"),b="frame-"+ba(),c=this._opt.form;t(a,"id",b);t(a,"name",b);a.style.display="none";document.body.appendChild(a);t(c,"action",this._opt.url);t(c,"target",b);H(a,"load",v(this.onLoad,this));H(a,"error",v(this.onError,this));this._el=a;try{c.submit()}catch(l){this._deferred.reject(l)}},onLoad:function(){var a=this._el;this._opt&&!this._opt.jsonp&&(a=a.contentDocument||a.contentWindow.document,
a=a.body.innerHTML,this._ajax.processResponse(a))},onError:function(a){this._deferred.reject(a)},abort:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el)},destroy:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el);delete this._el;delete this._opt;delete this._ajax;delete this._deferred}};return e}(),X=function(a){return a.substr(0,1).toUpperCase()+a.substr(1)},ka={},Ia=function(a,b,c,d){var f=b+"-"+c,n=function(a){a=U(a);return oa(a.target,b)?d(a):null};
ka[f]||(ka[f]=[]);ka[f].push({el:a,ls:n,fn:d});H(a,c,n)},Ja=function(a,b,c,d){var f,n;if(n=ka[b+"-"+c])for(b=-1,f=n.length;++b<f;)n[b].el===a&&n[b].fn===d&&N(a,c,n[b].ls)},Ca=function(){var a=function(a,b){var c=a.style,d;for(d in b)c[d]=b[d]},b={t:"b",r:"l",b:"t",l:"r"},c={t:"top",r:"right",b:"bottom",l:"left"},d={t:["l","r"],r:["t","b"],b:["r","l"],l:["b","t"]},f=document.all&&!window.XMLHttpRequest,n=function(){var a={},b={};return{register:function(c){var d=c.getInstanceId(),f=c.getGroup(),k,
e,n;a[d]=c;k=0;for(e=f.length;k<e;k++)n=f[k],b[n]||(b[n]={}),b[n][d]=!0;c.on("destroy",this.unregister,this)},unregister:function(b){b=b.getInstanceId();delete a[b]},hideAll:function(c){var d=c.getInstanceId();c=c.getGroup();var f,k,e,n;f=0;for(k=c.length;f<k;f++)for(n in e=c[f],e=b[e],e)a[n]?n==d||a[n].isHideAllIgnored()||a[n].hide(null,!0,!0):delete e[n]}}}(),k=function(n,q,g){var s,t=this,F,e={backgroundColor:"transparent",width:"0px",height:"0px",position:"absolute",fontSize:"0px",lineHeight:"0px"},
r=q.size,h=q.width||2*r;G(t,{init:function(){q.border&&t.createInner()},getEl:function(){return s},getDialogPositionOffset:function(){var a=(t.detectPointerPosition()||"").substr(0,1),c=(n.getCfg().position.type||"").replace(/(w|m|c)/,"").substr(0,1),e={x:0,y:0};a==b[c]&&(e["t"==a||"b"==a?"y":"x"]="b"==a||"r"==a?-r:r);return e},createInner:function(){var a=G({},q);a.size=r-2*q.border;a.width=h-4*q.border;delete a.border;delete a.borderColor;delete a.borderCls;delete a.offset;F=new k(n,a,q.border)},
detectPointerPosition:function(){if(q.position)return q.position;var a=(n.getCfg().position.type||"").replace(/(w|m|c)/,"").substr(0,1);return a?b[a]:null},detectPointerDirection:function(a){return q.direction?q.direction:a},getBorders:function(a,e,g){var s={},l=a.substr(0,1);a=e.substr(0,1);var x=e.substr(1);e=f?"dotted":"solid";s["border"+X(c[b[l]])]=r+"px solid "+g;s["border"+X(c[l])]="0 "+e+" transparent";x?(s["border"+X(c[x])]="0 solid transparent",s["border"+X(c[b[x]])]=h+"px "+e+" transparent"):
(g=Math.floor(h/2),s["border"+X(c[d[a][0]])]=g+"px "+e+" transparent",s["border"+X(c[d[a][1]])]=g+"px "+e+" transparent");return s},getOffsets:function(a,e){var d={},f=a.substr(0,1),l="t"==f||"b"==f?"r":"b";if(!r)switch(document.body.appendChild(s),f){case "t":case "b":r=J(s).height;h=J(s).width;break;case "l":case "r":h=J(s).height,r=J(s).width}d[c[f]]=g?"auto":-r+"px";d[c[l]]="auto";if(g){var f=e.substr(0,1),x=e.substr(1);d[c[b[l]]]=x?"l"==x||"t"==x?g+"px":-h-g+"px":Math.floor(-h/2)+"px";d[c[b[f]]]=
-(r+2*g)+"px"}else{switch(a){case "t":case "r":case "b":case "l":f=e!=a?"l"==e||"t"==e?q.offset:-h+q.offset:-h/2+q.offset;break;case "bl":case "tl":case "lt":case "rt":f=q.offset;break;default:f=-h-q.offset}d["margin"+X(c[b[l]])]=f+"px";switch(a){case "t":case "r":case "b":case "l":f="50%";break;case "tr":case "rb":case "br":case "lb":f="100%";break;default:f=0}d[c[b[l]]]=f}return d},render:function(){if(!s){var b=t.detectPointerPosition();if(b)if(q.el){if(E(q.el)){var c=document.createElement("div");
c.innerHTML=q.el;s=c.firstChild}else s=q.el;a(s,{position:"absolute"});a(s,t.getOffsets(b));M(s,q.cls);n.getElem().appendChild(s)}else{c=t.detectPointerDirection(b);s=document.createElement("div");var d=document.createComment(" ");s.appendChild(d);a(s,e);a(s,t.getBorders(b,c,q.borderColor||q.color));a(s,t.getOffsets(b,c));M(s,q.borderCls||q.cls);F&&(F.render(),s.appendChild(F.getEl()));g||n.getElem().appendChild(s)}}},destroy:function(){t.remove();F=t=null},remove:function(){F&&F.remove();s&&(s.parentNode.removeChild(s),
s=null)}},!0,!1);t.init();return t},A=function(a){if(!a)return{};var b=function(b,c,d){var f=a[b],e=!1;if(void 0!==f){switch(d){case "string":e=E(f);break;case "function":e=I(f);break;case "number":e=1===Y(f)||f==parseInt(f);break;case "dom":e=f&&(f.tagName||f.nodeName)?!0:!1;break;case "jquery":(e=f&&f.jquery?!0:!1)&&(f=f.get(0));break;case "boolean":if(!0===f||!1===f)e=!0;break;default:!0===d&&!0===f&&(e=!0),!1===d&&!1===f&&(e=!0)}e&&(a[b]={},a[b][c]=f)}};b("content","value","string");b("content",
"value","boolean");b("content","fn","function");b("ajax","url","string");b("cls","dialog","string");b("render","tpl","string");b("render","fn","function");b("render","el","dom");b("render","el","jquery");b("show","events",!1);b("show","events","string");b("hide","events",!1);b("hide","events","string");b("toggle","events",!1);b("toggle","events","string");b("position","type","string");b("position","type",!1);b("position","get","function");b("overlay","enabled","boolean");b("pointer","position","string");
b("pointer","size","number");return a},v={target:null,debug:!1,group:null,modal:!1,useHref:!1,content:{value:"",fn:null,prepare:null,attr:null},ajax:{url:null,data:null,dataType:"text",method:"GET"},cls:{dialog:null,visible:null,hidden:null,loading:null},selector:{content:null},buttons:null,render:{tpl:"<div></div>",fn:null,el:null,zIndex:null,lazy:!0,style:null,appendTo:null,id:null,keepVisible:!1,keepInDOM:!1,lifetime:null},events:{show:{click:{preventDefault:!0,stopPropagation:!0,returnValue:!1,
process:null}}},show:{delay:null,single:!1,events:null,animate:!1,ignoreHideAll:!1,focus:!1,preventScroll:!1},hide:{delay:null,timeout:null,events:null,destroy:!1,animate:!1,cancelShowDelay:!0},toggle:{events:null},position:{type:"t",offsetX:0,offsetY:0,axis:null,get:null,screenX:!1,screenY:!1,resize:!0},pointer:{position:null,direction:null,size:0,width:null,color:null,offset:0,border:0,borderColor:null,el:null,cls:null,borderCls:null},overlay:{enabled:!1,color:"#000",opacity:.5,cls:null,animateShow:!1,
animateHide:!1,preventScroll:!1},callback:{scope:null,contentchange:null,beforeshow:null,show:null,beforehide:null,hide:null,render:null,lifetime:null,targetchange:null,button:null}},y=function(b,c){b&&!E(b)&&(c=b,b=null);c=c||{};var g=this,d={},f=ba(),F=new ua,e=G({},v,A(y.defaults),A(y[b]),A(c),!0,!0),r=e.callback.scope||d,h,u,p,m={bindSelfOnRender:!1,target:null,visible:!1,enabled:!0,frozen:!1,rendered:!1,hideTimeout:null,hideDelay:null,showDelay:null,dynamicTarget:!1,dynamicTargetEl:null,images:0,
position:null,destroyDelay:null};c=null;G(d,F.getApi(),{getElem:function(){return h},getInstanceId:function(){return f},getCfg:function(){return G({},e)},getGroup:function(){return e.group?E(e.group)?[e.group]:e.group:[""]},setTarget:function(a){if(!a)return d;var b=!1,c=m.target;m.target?(g.setHandlers("unbind","_target"),b=!0):m.dynamicTarget&&(b=!0);E(a)?(m.dynamicTarget=!0,m.target=null):(m.dynamicTarget=!1,m.target=a);b&&(g.setHandlers("bind","_target"),g.trigger("targetchange",d,a,c));return d},
getTarget:function(){return m.dynamicTarget?m.dynamicTargetEl:e.target},isEnabled:function(){return m.enabled},isVisible:function(){return m.visible},isHideAllIgnored:function(){return e.show.ignoreHideAll},isFrozen:function(){return m.frozen},enable:function(){m.enabled=!0;return d},disable:function(){g.hide();m.enabled=!1;return d},freeze:function(){m.frozen=!0;return d},unfreeze:function(){m.frozen=!1;return d},toggle:function(a,b){return a&&a.stopPropagation&&m.dynamicTarget&&m.visible&&g.isDynamicTargetChanged(a)?
g.show(a):g[m.visible?"hide":"show"](a,b)},show:function(a,b){var c=a&&a.stopPropagation?null:d,f=e.show;if(!d.isEnabled())return e.debug&&console.log("show: not enabled",d.getTarget()),c;a&&a.stopPropagation&&e.events.show&&e.events.show[a.type]&&(c=e.events.show[a.type],c.process?c=c.process(d,a):(c.stopPropagation&&a.stopPropagation(),c.preventDefault&&a.preventDefault(),c=c.returnValue));if(m.visible&&m.hideTimeout)return window.clearTimeout(m.hideTimeout),m.hideTimeout=window.setTimeout(g.hide,
e.hide.timeout),e.debug&&console.log("show: hide timeout was set",d.getTarget()),c;if(m.hideDelay)return window.clearTimeout(m.hideDelay),m.hideDelay=null,m.visible=!0,e.debug&&console.log("show: hide delay was set; already shown",d.getTarget()),c;if(m.frozen)return e.debug&&console.log("show: frozen",d.getTarget()),c;m.destroyDelay&&(window.clearTimeout(m.destroyDelay),m.destroyDelay=null);var k=!1;a&&a.stopPropagation&&m.dynamicTarget&&(k=g.changeDynamicTarget(a));if(m.visible)if(k)if(e.render.fn)g.hide(null,
!0);else return g.reposition(a),c;else return e.debug&&console.log("show: already shown",h),c;h?k&&g.changeDynamicContent():g.render();if(!1===g.trigger("beforeshow",d,a))return e.debug&&console.log("show: beforeshow return false",d.getTarget()),c;pa(h);m.visible=!0;f.single&&n.hideAll(g);g.toggleTitleAttribute(!1);f.delay&&!b?m.showDelay=window.setTimeout(function(){g.showAfterDelay(a)},f.delay):g.showAfterDelay(a,b);return c},hide:function(a,b,c){m.hideTimeout=null;var f=a&&a.stopPropagation?null:
d;a&&a.stopPropagation&&e.events.hide&&e.events.hide[a.type]&&(f=e.events.hide[a.type],f.process?f=f.process(d,a):(f.stopPropagation&&a.stopPropagation(),f.preventDefault&&a.preventDefault(),f=f.returnValue));!m.visible&&m.hideDelay&&b&&(window.clearTimeout(m.hideDelay),m.hideDelay=null,m.visible=!0);if(!h||!m.visible||!g.isEnabled())return e.debug&&console.log("hide: elem/visible/enabled: ",h,m.visible,g.isEnabled()),f;if(m.showDelay)return e.hide.cancelShowDelay||c?(window.clearTimeout(m.showDelay),
m.showDelay=null,m.visible=!1,e.debug&&console.log("hide: cancelShowDelay: ",g.getTarget())):e.debug&&console.log("hide: show delay was set",g.getTarget()),f;if(m.frozen)return e.debug&&console.log("hide: frozen",g.getTarget()),f;if(!1===g.trigger("beforehide",d,a))return e.debug&&console.log("hide: beforehide returned false",g.getTarget()),f;pa(h);m.visible=!1;g.toggleTitleAttribute(!0);m.dynamicTarget&&g.resetDynamicTarget();e.hide.delay&&!b?m.hideDelay=window.setTimeout(function(){g.hideAfterDelay(a)},
e.hide.delay):g.hideAfterDelay(a,b);return f},setPositionType:function(a){a&&(E(a)?(e.position.get=a,e.position.type=!1):(e.position.get=null,e.position.type=a));a=e.position.type;!1===a?m.position=!1:e.position.get&&"m"!=a?m.position="fn":(a=a.substr(0,1),m.position="w"==a?"window":"m"==a?"mouse":"target");u&&(u.remove(),h&&u.render())},getPosition:function(a){if(!h)return null;var b,c=e.position;switch(m.position){case !1:return null;case "target":b=g.getTargetPosition(a);break;case "mouse":b=g.getMousePosition(a);
break;case "window":b=g.getWindowPosition(a);break;case "fn":b=c.get.call(r,d,a)}if(!1!==c.screenX||!1!==c.screenY)b=g.correctScreenPosition(b,c.screenX,c.screenY);return b},reposition:function(b){b&&(b=U(b));if(b=g.getPosition(b))void 0!=b.x&&a(h,{left:b.x+"px"}),void 0!=b.y&&a(h,{top:b.y+"px"}),void 0==b.x&&void 0==b.y&&a(h,b)},getContentElem:function(){return h?e.selector.content?P(e.selector.content,h).shift()||h:h:null},setContent:function(a,b){b=b||"";if(!h)return e.content.value=a,d;e.content.prepare&&
(a=e.content.prepare(d,b,a));var c=d.getContentElem(),f=m.rendered&&!e.selector.content&&u,k=f&&u.getEl();if(f&&k)try{h.removeChild(k)}catch(p){}if(E(a))c.innerHTML=a;else for(var n in a){var q=e.selector[n];q&&(q=P(q,c).shift())&&(q.innerHTML=a[n])}if(f&&k)try{h.appendChild(k)}catch(r){}c=P("img",c);m.images=c.length;n=-1;for(f=c.length;++n<f;H(c[n],"load",g.onImageLoad));g.trigger("contentchange",d,a,b);g.onContentChange();return d},readContent:function(){var a=d.getTarget(),b;a&&(b=e.content.attr?
t(a,e.content.attr):t(a,"tooltip")||t(a,"title")||t(a,"alt"));b&&g.setContent(b,"attribute");return d},loadContent:function(a){M(h,e.cls.loading);a=G({},e.ajax,a,!0,!0);g.trigger("beforeajax",d,a);return Ha(a).done(g.onAjaxLoad)},destroy:function(){g.trigger("destroy",d);N(window,"resize",g.onWindowResize);N(window,"scroll",g.onWindowScroll);g.destroyElem();u&&(u.destroy(),u=null);g.setHandlers("unbind");F.destroy();p=m=d=g=F=null},setFocus:function(){var a=e.show.focus,b;if(!0===a)if(a=P("input",
h).concat(P("textarea",h)),0<a.length)a[0].focus();else{if(e.buttons)for(b in e.buttons){(b=P(e.buttons[b],h).shift())&&b.focus();break}}else(b=P(a,h).shift())&&b.focus()}},!0,!1);G(g,d,{init:function(){n.register(g);e.modal&&(e.overlay.enabled=!0);g.setPositionType();g.setTarget(e.target);if(e.pointer.size||e.pointer.el)u=new k(g,e.pointer);e.render.lazy||g.render();g.setHandlers("bind")},setHandlers:function(a,b){for(var c=["show","hide","toggle"],f="bind"==a?H:N,k="bind"==a?Ia:Ja,n,q,r,u,t,A,y,
v,z,B;n=c.shift();)if(q=e[n].events,!1!==q){if(E(q)||Z(q))m.dynamicTarget?(t={},t[q]=e.target,q={_html:t}):q={_target:q};for(r in q){if(b)if("_self"==b){if("_self"!=r&&"_overlay"!=r&&">"!=r.substr(0,1))continue}else if(r!=b)continue;if("_self"!=r&&"_overlay"!=r&&">"!=r.substr(0,1)||h){if(y=q[r]){switch(r){case "_target":v=[g.getTarget()];break;case "_self":v=[h];break;case "_window":v=[window];break;case "_document":v=[document];break;case "_html":v=[document.documentElement];break;case "_overlay":v=
[p];break;default:v=">"==r.substr(0,1)?P(r.substr(1),h):P(r)}if(v&&v.length)if(E(y)&&(y=[y]),Z(y))for(t=0,A=y.length;t<A;t++)for(z=-1,B=v.length;++z<B;f(v[z],y[t],d[n]));else for(u in y)for(z=-1,B=v.length;++z<B;k(v[z],y[u],u,d[n]));}}else m.bindSelfOnRender=!0}}},resetDynamicTarget:function(){var a=m.dynamicTargetEl;a&&(g.setHandlers("unbind","_target"),g.trigger("targetchange",d,null,a))},isDynamicTargetChanged:function(a){var b=e.target;a=a.target;for(var c=m.dynamicTargetEl;a&&!oa(a,b);)a=a.parentNode;
return a?!c||c!==a:!1},changeDynamicTarget:function(a){var b=e.target;a=a.target;for(var c=m.dynamicTargetEl;a&&!oa(a,b);)a=a.parentNode;if(!a||c&&c===a)return!1;c&&g.setHandlers("unbind","_target");m.dynamicTargetEl=a;g.setHandlers("bind","_target");g.trigger("targetchange",d,a,c);return!0},showAfterDelay:function(a,b){m.showDelay=null;if(m.visible){e.position.manual||g.reposition(a);"mouse"==m.position&&H(document.documentElement,"mousemove",g.onMouseMove);var c=e.position;(c.resize||c.screenX||
c.screenY)&&H(window,"resize",g.onWindowResize);(c.scroll||c.screenX||c.screenY)&&H(window,"scroll",g.onWindowScroll);if(b||!1!==g.trigger("afterdelay",d,a)){p&&(e.overlay.animateShow?g.animate("show",null,!0):p.style.display="");if(e.show.preventScroll){var c=e.show.preventScroll,f,h;!0===c&&(c="body");c=P(c);f=-1;for(h=c.length;++f<h;H(c[f],"mousewheel",g.onPreventScroll)&&H(c[f],"touchmove",g.onPreventScroll));}e.show.animate&&!b?g.animate("show").done(function(){g.showAfterAnimation(a)}):g.showAfterAnimation(a)}else m.visible=
!1,e.debug&&console.log("showAfterDelay: afterdelay returned false",d.getTarget())}else e.debug&&console.log("showAfterDelay: already hidden",g.getTarget())},showAfterAnimation:function(a){m.visible?(T(h,e.cls.hidden),M(h,e.cls.visible),e.render.keepVisible||(h.style.display=""),e.hide.timeout&&(m.hideTimeout=window.setTimeout(g.hide,e.hide.timeout)),e.show.focus&&window.setTimeout(g.setFocus,20),g.trigger("show",d,a)):e.debug&&console.log("showAfterAnimation: already hidden",g.getTarget())},hideAfterDelay:function(a,
b){m.hideDelay=null;if(m.visible)e.debug&&console.log("hideAfterDelay: already shown again",g.getTarget());else{"mouse"==m.position&&N(document.documentElement,"mousemove",g.onMouseMove);var c=e.position;(c.resize||c.screenX||c.screenY)&&N(window,"resize",g.onWindowResize);(c.scroll||c.screenX||c.screenY)&&N(window,"scroll",g.onWindowScroll);if(b||!1!==g.trigger("afterhidedelay",d,a)){if(e.show.preventScroll){var c=e.show.preventScroll,f,k;!0===c&&(c="body");c=P(c);f=-1;for(k=c.length;++f<k;N(c[f],
"mousewheel",g.onPreventScroll)&&N(c[f],"touchmove",g.onPreventScroll));}p&&(e.overlay.animateShow?g.animate("hide",null,!0).done(function(){p.style.display="none"}):p.style.display="none");e.hide.animate&&!b?g.animate("hide").done(function(){g.hideAfterAnimation(a)}):g.hideAfterAnimation(a)}else m.visible=e.cls.hidden?!ma(h,e.cls.hidden):!(0>=h.offsetWidth||0>=h.offsetHeight),e.debug&&console.log("hideAfterDelay: afterhdelay returned false",g.getTarget())}},hideAfterAnimation:function(a){m.visible?
e.debug&&console.log("hideAfterAnimation: already shown again",g.getTarget()):(T(h,e.cls.visible),M(h,e.cls.hidden),e.render.keepVisible||(h.style.display="none"),g.trigger("hide",d,a),a=e.render.lifetime,null!==a&&(0===a?g.destroyElem():m.destroyDelay=window.setTimeout(g.destroyElem,a)),h&&e.hide.destroy&&window.setTimeout(function(){K(h,e.instanceName,null);g.destroy()},0))},render:function(){if(h)e.debug&&console.log("element already rendered",h);else{var b=e.render,c=e.cls;if(b.fn){var f=b.fn.call(r,
d);b[E(f)?"tpl":"el"]=f}b.el?E(b.el)?(h=P(b.el).shift(),b.keepInDOM=!0):h=b.el:(f=document.createElement("div"),f.innerHTML=b.tpl,h=f.firstChild);h||(h=document.createElement("div"));b.id&&t(h,"id",b.id);e.render.keepVisible||(h.style.display="none");M(h,c.dialog);M(h,c.hidden);b.style&&a(h,b.style);e.overlay.enabled&&(p=document.createElement("div"),a(p,{display:"none",position:"fixed",left:0,top:0,right:0,bottom:0,opacity:e.overlay.opacity,backgroundColor:e.overlay.color}),document.body.appendChild(p),
H(p,"click",g.onOverlayClick),b.zIndex&&a(p,{zIndex:b.zIndex}),e.overlay.cls&&M(p,e.overlay.cls));b.appendTo?b.appendTo.appendChild(h):!1!==b.appendTo&&document.body.appendChild(h);b.zIndex&&a(h,{zIndex:b.zIndex});b=e.content;if(!1!==b.value)if(b.value)g.setContent(b.value);else if(b.fn)g.setContent(b.fn.call(r,d));else g[e.ajax.url?"loadContent":"readContent"]();u&&u.render();if(e.buttons)for(var k in e.buttons)if(b=P(e.buttons[k],h).shift())K(b,"metaphorjsTooltip-button-id",k),H(b,"click",g.onButtonClick),
H(b,"keyup",g.onButtonKeyup);m.bindSelfOnRender&&(g.setHandlers("bind","_self"),m.bindSelfOnRender=!1);m.rendered=!0;g.trigger("render",d)}},animate:function(a,b,c){var d,f;d=c?"show"==a?e.overlay.animateShow:e.overlay.animateHide:e[a].animate;I(d)&&(d=d(g,b));f=d.skipDisplayChange||!1;la(d)?d=a:E(d)&&(d=[d]);return Fa(h,d,function(){"show"!=a||f||(c?p.style.display="":h.style.display="")})},toggleTitleAttribute:function(a){var b=d.getTarget(),c;b&&(!1===a?(K(b,"tmp-title",t(b,"title")),t(b,"title",
null)):(c=K(b,"tmp-title"))&&t(b,"title",c))},changeDynamicContent:function(){e.content.fn?g.setContent(e.content.fn.call(r,d)):e.content.attr&&g.readContent()},getDialogSize:function(){var b=e.cls.hidden?ma(h,e.cls.hidden):!!(0>=h.offsetWidth||0>=h.offsetHeight),c,d=h.style.left;b&&(a(h,{left:"-1000px"}),h.style.display="");c={width:J(h).width,height:J(h).height};b&&(a(h,{left:d}),h.style.display="none");return c},getTargetSize:function(){var a=g.getTarget();return a?{width:J(a).width,height:J(a).height}:
null},getTargetPosition:function(a,b){var c=g.getTarget();if(!c)return null;var d=g.getDialogSize(),c=J(c),f=g.getTargetSize(),h={};b=b||e.position.type;var k=b.substr(0,1),m=b.substr(1),n=e.position.offsetX,p=e.position.offsetY,q=u?u.getDialogPositionOffset():null;switch(k){case "t":h.y=c.top-d.height-p;break;case "r":h.x=c.left+f.width+n;break;case "b":h.y=c.top+f.height+p;break;case "l":h.x=c.left-d.width-n}switch(m){case "t":h.y=c.top+p;break;case "r":h.x=c.left+f.width-d.width-n;break;case "b":h.y=
c.top+f.height-d.height-p;break;case "l":h.x=c.left+n;break;case "rc":h.x=c.left+f.width+n;break;case "lc":h.x=c.left-d.width-n;break;case "":switch(k){case "t":case "b":h.x=c.left+f.width/2-d.width/2;break;case "r":case "l":h.y=c.top+f.height/2-d.height/2}}q&&(h.x+=q.x,h.y+=q.y);return h},getMousePosition:function(a){if(!a)return null;var b=g.getDialogSize(),c={},f=e.position.type.substr(1),h=e.position.offsetX,k=e.position.offsetY,n=e.position.axis,m=u?u.getDialogPositionOffset():null;switch(f){case "":c=
e.position.get.call(r,d,a);break;case "t":c.y=a.pageY-b.height-k;c.x=a.pageX-b.width/2;break;case "r":c.y=a.pageY-b.height/2;c.x=a.pageX+h;break;case "b":c.y=a.pageY+k;c.x=a.pageX-b.width/2;break;case "l":c.y=a.pageY-b.height/2;c.x=a.pageX-b.width-h;break;case "rt":c.y=a.pageY-b.height-k;c.x=a.pageX+h;break;case "rb":c.y=a.pageY+k;c.x=a.pageX+h;break;case "lt":c.y=a.pageY-b.height-k;c.x=a.pageX-b.width-h;break;case "lb":c.y=a.pageY+k,c.x=a.pageX-b.width-h}m&&(c.x+=m.x,c.y+=m.y);n&&(a=g.getTargetPosition(a,
f))&&("x"==n?c.y=a.y:c.x=a.x);return c},getWindowPosition:function(){var a=g.getDialogSize(),b={},c=e.position.type.substr(1),d=e.position.offsetX,f=e.position.offsetY,h=ra(),k=sa(),n=J(window).width,m=J(window).height;switch(c){case "c":b.y=m/2-a.height/2+h;b.x=n/2-a.width/2+k;break;case "t":b.y=h+f;b.x=n/2-a.width/2+k;break;case "r":b.y=m/2-a.height/2+h;b.x=n-a.width+k-d;break;case "b":b.y=m-a.height+h-f;b.x=n/2-a.width/2+k;break;case "l":b.y=m/2-a.height/2+h;b.x=k+d;break;case "rt":b.y=h+f;b.x=
n-a.width+k-d;break;case "rb":b.y=m-a.height+h-f;b.x=n-a.width+k-d;break;case "lt":b.y=h+f;b.x=k+d;break;case "lb":b.y=m-a.height+h-f,b.x=k+d}return b},correctScreenPosition:function(a,b,c){var d=g.getDialogSize(),e=ra(),f=sa(),h=J(window).width,k=J(window).height;c&&a.y+d.height>k+e-c&&(a.y=k+e-c-d.height);b&&a.x+d.width>h+f-b&&(a.x=h+f-b-d.width);c&&a.y<e+c&&(a.y=e+c);b&&a.x<f+b&&(a.x=f+b);return a},onMouseMove:function(a){g.reposition(U(a))},onWindowResize:function(a){g.reposition(U(a))},onWindowScroll:function(a){g.reposition(U(a))},
onPreventScroll:function(a){U(a).preventDefault()},onOverlayClick:function(a){return e.modal?(a=U(a),a.preventDefault(),a.stopPropagation(),!1):null},onButtonClick:function(a){var b=U(a).target;(b=K(b,"metaphorjsTooltip-button-id"))&&g.trigger("button",d,b,a)},onButtonKeyup:function(a){if(13==a.keyCode||32==a.keyCode){var b=K(a.target,"metaphorjsTooltip-button-id");b&&g.trigger("button",d,b,U(a))}},onAjaxLoad:function(a){T(h,e.cls.loading);g.setContent(a,"ajax")},onImageLoad:function(){m.images--;
g.onContentChange()},onContentChange:function(){m.visible&&g.reposition()},destroyElem:function(){g.setHandlers("unbind","_self");m.bindSelfOnRender=!0;u&&u.remove();p&&(p.parentNode.removeChild(p),p=null);h&&(e.render.keepInDOM||h.parentNode.removeChild(h),h=null);g.trigger("lifetime",d)}},!0,!1);delete e.callback.scope;for(var B in e.callback)d.on(B,e.callback[B],r);e.target&&e.useHref&&(B=t(e.target,"href"),"#"==B.substr(0,1)?e.render.el=B:e.ajax.url=B);g.init();return d};G(y,{defaults:{}});return y}();
window.jQuery&&(jQuery.fn.metaphorjsTooltip=function(a,b,c){var d="dialog",f;"string"==typeof a&&"destroy"!=a&&(f=a,a=b,b=c);a=a||{};d+="-"+(b||"default");this.each(function(){var b=K(this,d);if(b)if("destroy"==a)b.destroy(),K(this,d,null);else throw Error("MetaphorJs tooltip already instantiated for this html element");else a.target=this,a.instanceName=d,K(this,d,new Ca(f,a))})});ea.lib.Dialog=Ca;ea.onReady=function(a){var b=!1,c=!0,d=window,f=d.document,n=f.documentElement,k=function(c){if("readystatechange"!=
c.type||"complete"==f.readyState)N("load"==c.type?d:f,c.type,k),!b&&(b=!0)&&a.call(d,c.type||c)},t=function(){try{n.doScroll("left")}catch(a){setTimeout(t,50);return}k("poll")};if("complete"==f.readyState)a.call(d,"lazy");else{if(f.createEventObject&&n.doScroll){try{c=!d.frameElement}catch(v){}c&&t()}H(f,"DOMContentLoaded",k);H(f,"readystatechange",k);H(d,"load",k)}};"undefined"!=typeof global?global.MetaphorJs=ea:window.MetaphorJs=ea})();
