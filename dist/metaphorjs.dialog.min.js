'use strict';(function(){function ga(a){return"object"==typeof a&&3===aa(a)&&!a.nodeType&&a.constructor===Object}function ma(a){return!0===a||!1===a}function na(a,b){return b?za("(?:^|\\s)"+b+"(?!\\S)").test(a.className):!1}function M(a,b){b&&!na(a,b)&&(a.className+=" "+b)}function R(a,b){b&&(a.className=a.className.replace(za("(?:^|\\s)"+b+"(?!\\S)"),""))}function W(a){return"object"==typeof a&&5===aa(a)}function K(a,b){return a.getAttribute?a.getAttribute(b):null}function L(a,b,c){a.attachEvent?
a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)}function N(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)}function ha(){return!1}function ia(){return!0}function O(a){return new ba(a)}function oa(a){if(a&&void 0!=!a.length&&a!==""+a){for(var b=[],c=-1,d=a.length>>>0;++c!==d;b[c]=a[c]);return b}return a?[a]:[]}function I(a){return"function"==typeof a}function T(a){if(!a)return!1;var b,c;return"object"!=(c=typeof a)&&"function"!=c?!1:I(b=a.then)?b:!1}function Aa(a,b,c,
d){setTimeout(function(){a.apply(b,c||[])},d||0)}function ca(a){var b=a.stack||Error().stack;if("undefined"!=typeof console&&console.log)Aa(function(){console.log(a);b&&console.log(b)});else throw a;}function E(a){return"string"==typeof a||a===""+a}function pa(){}function Ba(a,b){var c,d;if(!a||!E(a))return null;try{d=new DOMParser,c=d.parseFromString(a,b||"text/xml")}catch(e){c=void 0}if(!c||c.getElementsByTagName("parsererror").length)throw"Invalid XML: "+a;return c}function qa(a){if(null===a||
"object"!=typeof a)return!1;a=aa(a);return 2<a||-1==a}function S(a){return a.substr(0,1).toUpperCase()+a.substr(1)}function Fa(a,b,c,d){var e=b+"-"+c,q=function(a){a=O(a);return ra(a.target,b)?d(a):null};ja[e]||(ja[e]=[]);ja[e].push({el:a,ls:q,fn:d});L(a,c,q)}function Ga(a,b,c,d){var e,q;if(q=ja[b+"-"+c])for(b=-1,e=q.length;++b<e;)q[b].el===a&&q[b].fn===d&&N(a,c,q[b].ls)}var ka={},la=Array.prototype.slice,Ha=Object.prototype.toString,aa=function(){var a={"[object String]":0,"[object Number]":1,"[object Boolean]":2,
"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};return function(b){if(!b){if(null===b)return 6;if(void 0===b)return 7}var c=a[Ha.call(b)];return void 0===c?-1:1==c&&isNaN(b)?8:c}}(),H=function(){return function b(){var c=!1,d=!1,e=la.call(arguments),q=e.shift(),p,l,x;ma(e[e.length-1])&&(c=e.pop());ma(e[e.length-1])&&(d=c,c=e.pop());for(;e.length;)if(p=e.shift())for(l in p)if(p.hasOwnProperty(l)&&void 0!==(x=p[l]))if(d)if(q[l]&&ga(q[l])&&ga(x))b(q[l],
x,c,d);else{if(!0===c||void 0==q[l])ga(x)?(q[l]={},b(q[l],x,c,!0)):q[l]=x}else if(!0===c||void 0==q[l])q[l]=x;return q}}(),da=function(){var a=["0","0","0"];return function(){for(var b=a.length,c;b;){b--;c=a[b].charCodeAt(0);if(57==c)return a[b]="A",a.join("");if(90==c)a[b]="0";else return a[b]=String.fromCharCode(c+1),a.join("")}a.unshift("0");return a.join("")}}(),v=Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}},za=function(){var a=
{};return function(b){return a[b]||(a[b]=new RegExp(b))}}(),J=function(){var a={};return function(b,c,d){b=b._mjsid||(b._mjsid=da());var e=a[b];return void 0!==d?(e||(e=a[b]={}),e[c]=d):e?e[c]:void 0}}(),ba=function(a){if(a instanceof ba)return a;if(!(this instanceof ba))return new ba(a);for(var b in a)if(!this[b])try{this[b]=a[b]}catch(c){}this.originalEvent=a;this.type=a.type;!this.target&&a.srcElement&&(this.target=a.srcElement);var d,e=a.button;void 0===this.pageX&&null!==a.clientX&&(d=this.target?
this.target.ownerDocument||window.document:window.document,b=d.documentElement,d=d.body,this.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0),this.pageY=a.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0));this.which||void 0===e||(this.which=e&1?1:e&2?3:e&4?2:0);this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?ia:ha;this.timeStamp=a&&a.timeStamp||(new Date).getTime()};H(ba.prototype,
{isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ia;a.returnValue=!1;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ia;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ia;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}},
!0,!1);var F=function(){var a=/^[\w[:#.][\w\]*^|=!]*$/,b=/=([^\]]+)/,c=/ *, */,d=/(\([^)]*)\+/,e=/(\[[^\]]+)~/,q=/(~|>|\+)/,p=/ +/,l=/([^[:.#]+)?(?:#([^[:.#]+))?(?:\.([^[:.]+))?(?:\[([^!&^*|$[:=]+)([!$^*|&]?=)?([^:\]]+)?\])?(?::([^(]+)(?:\(([^)]+)\))?)?/,x=/(?:(-?\d*)n)?(?:(%|-)(\d*))?/,z=/\D/,r=/[^(]*\(([^)]*)\)/,t=/\(.*/,g=/\[([^!~^*|$ [:=]+)([$^*|]?=)?([^ :\]]+)?\]/,s=window.document,sa=!!s.getElementsByClassName,B=!!s.querySelectorAll,f={"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]!==
a},"last-child":function(a){for(;(a=a.nextSibling)&&1!=a.nodeType;);return!!a},root:function(a){return"html"!==a.nodeName.toLowerCase()},"nth-child":function(a,n){var k=a.nodeIndex||0,b=n[3]=n[3]?("%"===n[2]?-1:1)*n[3]:0,g=n[1];if(k)return!((k+b)%g);var f=a.parentNode.firstChild;k++;do if(1==f.nodeType&&(f.nodeIndex=++k)&&a===f&&(k+b)%g)return 0;while(f=f.nextSibling);return 1},"nth-last-child":function(a,n){var k=a.nodeIndexLast||0,b=n[3]?("%"===n[2]?-1:1)*n[3]:0,f=n[1];if(k)return!((k+b)%f);var g=
a.parentNode.lastChild;k++;do if(1==g.nodeType&&(g.nodeLastIndex=k++)&&a===g&&(k+b)%f)return 0;while(g=g.previousSibling);return 1},empty:function(a){return!!a.firstChild},parent:function(a){return!a.firstChild},"only-child":function(a){return 1!=a.parentNode.getElementsByTagName("*").length},checked:function(a){return!a.checked},lang:function(a,n){return a.lang!==n&&s.documentElement.lang!==n},enabled:function(a){return a.disabled||"hidden"===a.type},disabled:function(a){return!a.disabled},selected:function(a){return!a.selected}},
u={},h=function(a){return u[a]||(u[a]=new RegExp("(^| +)"+a+"($| +)"))},w={"":function(a,n){return null!==K(a,n)},"=":function(a,n,k){var b;return(b=K(a,n))&&b===k},"&=":function(a,n,k){var b;return(b=K(a,n))&&h(k).test(b)},"^=":function(a,n,k){var b;return(b=K(a,n)+"")&&!b.indexOf(k)},"$=":function(a,n,k){var b;return(b=K(a,n)+"")&&b.indexOf(k)==b.length-k.length},"*=":function(a,n,k){var b;return(b=K(a,n)+"")&&-1!=b.indexOf(k)},"|=":function(a,n,k){var b;return(b=K(a,n)+"")&&(b===k||!!b.indexOf(k+
"-"))},"!=":function(a,n,k){var b;return!(b=K(a,n))||!h(k).test(b)}},n=function(n,Q){Q=Q||s;var k=[],A=null,G,h,U,y,V,P,u;if(B)try{k=oa(Q.querySelectorAll(n.replace(b,'="$1"')))}catch(v){A=!0}if(!B||A)if(a.test(n))switch(A=0,n.charAt(0)){case "#":A=n.slice(1);k=s.getElementById(A);k.id!==A&&(k=s.all[A]);k=k?[k]:[];break;case ".":G=n.slice(1);if(sa)k=oa((k=Q.getElementsByClassName(G)).length?k:[]);else{G=" "+G+" ";h=Q.getElementsByTagName("*");for(U=0;y=h[U++];)-1!=(" "+y.className+" ").indexOf(G)&&
(k[A++]=y);k=A?k:[]}break;case ":":h=Q.getElementsByTagName("*");U=0;V=n.replace(r,"$1");for(P=n.replace(t,"");y=h[U++];)f[P]&&!f[P](y,V)&&(k[A++]=y);k=A?k:[];break;case "[":h=Q.getElementsByTagName("*");U=0;y=g.exec(n);G=y[1];u=y[2]||"";for(V=y[3];y=h[U++];)w[u]&&(w[u](y,G,V)||"class"===G&&w[u](y,"className",V))&&(k[A++]=y);k=A?k:[];break;default:k=oa((k=Q.getElementsByTagName(n)).length?k:[])}else{for(var E=n.split(c),H=E.length-1,L=!!H,J,K,D,I,F,M,N,O,T,C,R,S;A=E[H--];){K=(J=A.replace(d,"$1%").replace(e,
"$1&").replace(q," $1 ").split(p)).length;U=0;I=" ";for(h=[Q];D=J[U++];)if(" "!==D&&">"!==D&&"~"!==D&&"+"!==D&&h){D=D.match(l);F=D[1]||"*";M=D[2];N=D[3]?" "+D[3]+" ":"";G=D[4];u=D[5]||"";P=D[7];V="nth-child"===P||"nth-last-child"===P?x.exec("even"===D[8]&&"2n"||"odd"===D[8]&&"2n%1"||!z.test(D[8])&&"0n%"+D[8]||D[8]):D[8];O=[];A=T=0;for(R=U==K;C=h[T++];)switch(I){case " ":S=C.getElementsByTagName(F);for(C=0;y=S[C++];)M&&y.id!==M||N&&-1==(" "+y.className+" ").indexOf(N)||!(!G||w[u]&&(w[u](y,G,D[6])||
"class"===G&&w[u](y,"className",D[6])))||y.yeasss||(f[P]?f[P](y,V):P)||(R&&(y.yeasss=1),O[A++]=y);break;case "~":for(F=F.toLowerCase();(C=C.nextSibling)&&!C.yeasss;)1!=C.nodeType||"*"!==F&&C.nodeName.toLowerCase()!==F||M&&C.id!==M||N&&-1==(" "+C.className+" ").indexOf(N)||!(!G||w[u]&&(w[u](y,G,D[6])||"class"===G&&w[u](y,"className",D[6])))||C.yeasss||(f[P]?f[P](C,V):P)||(R&&(C.yeasss=1),O[A++]=C);break;case "+":for(;(C=C.nextSibling)&&1!=C.nodeType;);!C||C.nodeName.toLowerCase()!==F.toLowerCase()&&
"*"!==F||M&&C.id!==M||N&&-1==(" "+y.className+" ").indexOf(N)||!(!G||w[u]&&(w[u](y,G,D[6])||"class"===G&&w[u](y,"className",D[6])))||C.yeasss||(f[P]?f[P](C,V):P)||(R&&(C.yeasss=1),O[A++]=C);break;case ">":for(S=C.getElementsByTagName(F),U=0;y=S[U++];)y.parentNode!==C||M&&y.id!==M||N&&-1==(" "+y.className+" ").indexOf(N)||!(!G||w[u]&&(w[u](y,G,D[6])||"class"===G&&w[u](y,"className",D[6])))||y.yeasss||(f[P]?f[P](y,V):P)||(R&&(y.yeasss=1),O[A++]=y)}h=O}else I=D;if(L){if(!h.concat){O=[];for(C=0;y=h[C];)O[C++]=
y;h=O}k=h.concat(1==k.length?k[0]:k)}else k=h}for(A=k.length;A--;)k[A].yeasss=k[A].nodeIndex=k[A].nodeIndexLast=null}return k};n.is=function(a,b){var k=n(b,a.parentNode),g,f;g=-1;for(f=k.length;++g<f;)if(k[g]===a)return!0;return!1};return n}(),ra=F.is,ta=function(){var a=["Moz","Webkit","ms","O","Khtml"],b="animationDelay",c="animationDuration",d="transitionDelay",e="transitionDuration",q="transform",p=null,l=null,x=!1;return function(){if(!x){var z=window.document.createElement("div"),r=!1,t,g,s;
if(void 0!==z.style.animationName)r=!0;else for(g=0,s=a.length;g<s;g++)if(t=a[g],void 0!==z.style[t+"AnimationName"]){r=!0;b=t+"AnimationDelay";c=t+"AnimationDuration";d=t+"TransitionDelay";e=t+"TransitionDuration";q=t+"Transform";break}r&&("ontransitionend"in window?p="transitionend":"onwebkittransitionend"in window&&(p="webkitTransitionEnd"));l=r?{animationDelay:b,animationDuration:c,transitionDelay:d,transitionDuration:e,transform:q,transitionend:p}:{};x=!0}return l}}(),Ca=function(){var a=function(a){if(!a)return 0;
var b=parseFloat(a);-1==a.indexOf("ms")&&(b*=1E3);return b},b=function(b,c,d){var r,t,g=c.length;for(r=0;r<g;r++)t=a(c[r])+a(d[r]),b=Math.max(t,b);return b},c=!1,d=null,e=null,q=null,p=null;return function(a){!1===c&&(d=(c=ta())?c.animationDuration:null,e=c?c.animationDelay:null,q=c?c.transitionDuration:null,p=c?c.transitionDelay:null);if(!c)return 0;var x=window.getComputedStyle?window.getComputedStyle(a,null):a.style;a=0;var z=(x[d]||"").split(","),r=(x[e]||"").split(","),t=(x[q]||"").split(","),
x=(x[p]||"").split(",");a=Math.max(a,b(a,z,r));return a=Math.max(a,b(a,t,x))}}(),ua=function(a){var b=J(a,"mjsAnimationQueue"),c,d;if(W(b)&&b.length){if(b=b[0])b.stages&&(c=b.position,d=b.stages,R(a,d[c]),R(a,d[c]+"-active")),b.deferred&&b.deferred.reject(b.el)}else I(b)?b(a):"stop"==b&&$(a).stop(!0,!0);J(a,"mjsAnimationQueue",null)},X=function(){var a=[],b=!1,c="undefined"!=typeof process?process.nextTick:function(a){setTimeout(a,0)},d=function(){b=!0;var l=a.shift();c(function(){l[0].apply(l[1],
l[2]);a.length?d():b=!1},0)},e=function(c,x,z){z=z||[];a.push([c,x,z]);b||d()},q=function(a,b){return function(c){try{b.resolve(a(c))}catch(r){b.reject(r)}}},p=function(a,b){if(a instanceof p)return a;if(!(this instanceof p))return new p(a,b);var c;this._fulfills=[];this._rejects=[];this._dones=[];this._fails=[];if(0<arguments.length)if(c=T(a))a instanceof p?a.then(v(this.resolve,this),v(this.reject,this)):(new p(c,a)).then(v(this.resolve,this),v(this.reject,this));else if(I(a))try{a.call(b,v(this.resolve,
this),v(this.reject,this))}catch(r){this.reject(r)}else this.resolve(a)};H(p.prototype,{_state:0,_fulfills:null,_rejects:null,_dones:null,_fails:null,_wait:0,_value:null,_reason:null,_triggered:!1,isPending:function(){return 0==this._state},isFulfilled:function(){return 1==this._state},isRejected:function(){return 2==this._state},_cleanup:function(){this._fails=this._dones=this._rejects=this._fulfills=null},_processValue:function(a,b){var c;if(0==this._state)if(a===this)this._doReject(new TypeError("cannot resolve promise with itself"));
else{try{if(c=T(a)){a instanceof p?a.then(v(this._processResolveValue,this),v(this._processRejectReason,this)):(new p(c,a)).then(v(this._processResolveValue,this),v(this._processRejectReason,this));return}}catch(r){0==this._state&&this._doReject(r);return}b.call(this,a)}},_callResolveHandlers:function(){this._done();for(var a=this._fulfills,b;b=a.shift();)e(b[0],b[1],[this._value]);this._cleanup()},_doResolve:function(a){this._value=a;this._state=1;0==this._wait&&this._callResolveHandlers()},_processResolveValue:function(a){this._processValue(a,
this._doResolve)},resolve:function(a){if(this._triggered)return this;this._triggered=!0;this._processResolveValue(a);return this},_callRejectHandlers:function(){this._fail();for(var a=this._rejects,b;b=a.shift();)e(b[0],b[1],[this._reason]);this._cleanup()},_doReject:function(a){this._state=2;this._reason=a;0==this._wait&&this._callRejectHandlers()},_processRejectReason:function(a){this._processValue(a,this._doReject)},reject:function(a){if(this._triggered)return this;this._triggered=!0;this._processRejectReason(a);
return this},then:function(a,b){var c=new p,r=this._state;0==r||0!=this._wait?(a&&I(a)?this._fulfills.push([q(a,c),null]):this._fulfills.push([c.resolve,c]),b&&I(b)?this._rejects.push([q(b,c),null]):this._rejects.push([c.reject,c])):1==r?a&&I(a)?e(q(a,c),null,[this._value]):c.resolve(this._value):2==r&&(b&&I(b)?e(q(b,c),null,[this._reason]):c.reject(this._reason));return c},"catch":function(a){return this.then(null,a)},_done:function(){for(var a=this._dones,b;b=a.shift();)try{b[0].call(b[1]||null,
this._value)}catch(c){ca(c)}},done:function(a,b){var c=this._state;if(1==c&&0==this._wait)try{a.call(b||null,this._value)}catch(r){ca(r)}else 0==c&&this._dones.push([a,b]);return this},_fail:function(){for(var a=this._fails,b;b=a.shift();)try{b[0].call(b[1]||null,this._reason)}catch(c){ca(c)}},fail:function(a,b){var c=this._state;if(2==c&&0==this._wait)try{a.call(b||null,this._reason)}catch(r){ca(r)}else 0==c&&this._fails.push([a,b]);return this},always:function(a,b){this.done(a,b);this.fail(a,b);
return this},promise:function(){return{then:v(this.then,this),done:v(this.done,this),fail:v(this.fail,this),always:v(this.always,this)}},after:function(a){var b=this;if(T(a)){b._wait++;var c=function(){b._wait--;0==b._wait&&0!=b._state&&(1==b._state?b._callResolveHandlers():b._callRejectHandlers())};I(a.done)?a.done(c):a.then(c)}return b}},!0,!1);p.fcall=function(a,b,c){return p.resolve(a.apply(b,c||[]))};p.resolve=function(a){var b=new p;b.resolve(a);return b};p.reject=function(a){var b=new p;b.reject(a);
return b};p.all=function(a){if(!a.length)return p.resolve(null);var b=new p,c=a.length,r=Array(c),d=c,g,s,e=function(a,c){r[c]=a;d--;0==d&&b.resolve(r)};for(g=0;g<c;g++)(function(c){s=a[g];s instanceof p?s.done(function(a){e(a,c)}).fail(b.reject,b):T(s)||I(s)?(new p(s)).done(function(a){e(a,c)}).fail(b.reject,b):e(s,c)})(g);return b};p.when=function(){return p.all(arguments)};p.allResolved=function(a){if(!a.length)return p.resolve(null);var b=new p,c=a.length,r=[],d=c,g,s,e=function(a){r.push(a);
q()},q=function(){d--;0==d&&b.resolve(r)};for(g=0;g<c;g++)s=a[g],s instanceof p?s.done(e).fail(q):T(s)||I(s)?(new p(s)).done(e).fail(q):e(s);return b};p.race=function(a){if(!a.length)return p.resolve(null);var b=new p,c=a.length,r,d;for(r=0;r<c&&(d=a[r],d instanceof p?d.done(b.resolve,b).fail(b.reject,b):T(d)||I(d)?(new p(d)).done(b.resolve,b).fail(b.reject,b):b.resolve(d),b.isPending());r++);return b};p.waterfall=function(a){if(!a.length)return p.resolve(null);for(var b=a.shift(),b=I(b)?p.fcall(b):
p.resolve(c),c;c=a.shift();)T(c)?b=b.then(function(a){return function(){return a}}(c)):I(c)?b=b.then(c):b.resolve(c);return b};p.counter=function(a){var b=new p;b.countdown=function(){a--;0==a&&b.resolve()};return b};return p}(),ea=function(){var a,b;if("undefined"!=typeof window){var c=window;a=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame;b=c.cancelAnimationFrame||c.webkitCancelAnimationFrame||c.mozCancelAnimationFrame||c.webkitCancelRequestAnimationFrame;if(a)return function(c){var e=
a(c);return function(){b(e)}}}return function(a){var b=setTimeout(a,0);return function(){clearTimeout(b)}}}(),Ia=function(){var a={show:["mjs-show"],hide:["mjs-hide"],enter:["mjs-enter"],leave:["mjs-leave"],move:["mjs-move"]},b=0,c=!1,d=!1,e=function(a,b,c){var d=function(){(new Date).getTime()-b>=c?a():ea(d)};ea(d)},q=function(){!1===c&&(c=ta(),d=!!c);return d},p=function z(a,b,c,d,q,l,f,u){var h=function(){var b=J(a,"mjsAnimationQueue");return b&&b.length&&b[0].id==f?!1:(q.reject(a),!0)},w=function(){if(!h()){var n=
c;c++;if(c==b.length){q.resolve(a);J(a,"mjsAnimationQueue").shift();var k=J(a,"mjsAnimationQueue");k.length?(k=k[0],p(k.el,k.stages,0,k.start,k.deferred,!1,k.id,k.step)):J(a,"mjsAnimationQueue",null)}else J(a,"mjsAnimationQueue")[0].position=c,z(a,b,c,null,q,!1,f,u);R(a,b[n]);R(a,b[n]+"-active")}},n=function(){h()||(M(a,b[c]+"-active"),X.resolve(u&&u(a,c,"active")).done(function(){if(!h()){var b=Ca(a);b?e(w,(new Date).getTime(),b):ea(w)}}))},m=function(){h()||(M(a,b[c]),X.waterfall([u&&u(a,c,"start"),
function(){return d?d(a):null}]).done(function(){!h()&&ea(n)}))};l?ea(m):m()},l=function(c,d,e,g,s,l){var B=new X,f=J(c,"mjsAnimationQueue")||[],u=++b,h=K(c,"mjs-animate"),w,n,m,Q,k,A,G;d=d||h;g&&null===h&&(d=null);if(d){E(d)?"["==d.substr(0,1)?w=(new Function("","return "+d))():(w=a[d],d=s&&s.get("animate."+d,!0)):I(d)?n=d:W(d)&&(E(d[0])?w=d:(m=d[0],Q=d[1]));ga(d)&&(w=d.stages,n=d.fn,m=d.before,Q=d.after,k=d.options?H({},d.options):{},A=d.context||null,G=d.duration||null,e=e||k.start);if(q()&&w)return f.push({el:c,
stages:w,start:e,step:l,deferred:B,position:0,id:u}),J(c,"mjsAnimationQueue",f),1==f.length&&p(c,w,0,e,B,!0,u,l),B;k=k||{};e&&(k.start=function(){e(c)});k.complete=function(){B.resolve(c)};G&&(k.duration=G);if(n&&I(n))return m&&H(c.style,m,!0,!1),e&&e(c),J(c,"mjsAnimationQueue",n.call(A,c,function(){B.resolve(c)})),B;if(window.jQuery){d=$(c);m&&d.css(m);J(c,"mjsAnimationQueue","stop");if(n&&E(n))return d[n](k),B;if(Q)return d.animate(Q,k),B}}e?(n=e(c),T(n)?n.done(function(){B.resolve(c)}):B.resolve(c)):
B.resolve(c);return B};l.addAnimationType=function(b,c){a[b]=c};l.stop=ua;l.getPrefixes=ta;l.getDuration=Ca;l.cssAnimationSupported=q;return l}(),Da=function(){return String.prototype.trim?function(a){return E(a)?a.trim():a}:function(a){return E(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}(),Ja=function(){return"undefined"!=typeof JSON?function(a){return JSON.parse(a)}:function(a){return(new Function("return "+a))()}}(),va=function(){this.events={}};H(va.prototype,{createEvent:function(a,b){a=
a.toLowerCase();var c=this.events;c[a]||(c[a]=new wa(a,b));return c[a]},getEvent:function(a){a=a.toLowerCase();return this.events[a]},on:function(a,b,c,d){a=a.toLowerCase();var e=this.events;e[a]||(e[a]=new wa(a));return e[a].on(b,c,d)},once:function(a,b,c,d){d=d||{};d.limit=1;return this.on(a,b,c,d)},un:function(a,b,c){a=a.toLowerCase();var d=this.events;d[a]&&d[a].un(b,c)},hasListener:function(a,b,c){a=a.toLowerCase();var d=this.events;return d[a]?d[a].hasListener(b,c):!1},removeAllListeners:function(a){var b=
this.events;b[a]&&b[a].removeAllListeners()},trigger:function(){var a=arguments[0],b=this.events,a=a.toLowerCase();if(!b[a])return null;a=b[a];return a.trigger.apply(a,la.call(arguments,1))},suspendEvent:function(a){a=a.toLowerCase();var b=this.events;b[a]&&b[a].suspend()},suspendAllEvents:function(){var a=this.events,b;for(b in a)a[b].suspend()},resumeEvent:function(a){a=a.toLowerCase();var b=this.events;b[a]&&b[a].resume()},resumeAllEvents:function(){var a=this.events,b;for(b in a)a[b].resume()},
destroyEvent:function(a){var b=this.events;b[a]&&(b[a].removeAllListeners(),b[a].destroy(),delete b[a])},destroy:function(a){var b=this.events;if(a)a=a.toLowerCase(),b[a]&&(b[a].destroy(),delete b[a]);else{for(var c in b)b[c].destroy();this.events={}}},getApi:function(){if(!this.api){for(var a="createEvent getEvent on un once hasListener removeAllListeners trigger suspendEvent suspendAllEvents resumeEvent resumeAllEvents destroyEvent".split(" "),b={},c,d=-1,e=a.length;++d<e;c=a[d],b[c]=v(this[c],
this));this.api=b}return this.api}},!0,!1);var wa=function(a,b){this.name=a;this.listeners=[];this.map={};this.hash=da();this.uni="$$"+a+"_"+this.hash;this.suspended=!1;this.lid=0;this.returnResult=void 0===b?null:b};H(wa.prototype,{getName:function(){return this.name},destroy:function(){this.map=this.listeners=null},on:function(a,b,c){if(!a)return null;b=b||null;c=c||{};var d=this.uni,e=b||a;if(e[d]&&!c.allowDupes)return null;var q=++this.lid,p=c.first||!1;e[d]=q;a={fn:a,context:b,uniContext:e,id:q,
called:0,limit:c.limit||0,start:c.start||1,count:0,append:c.append,prepend:c.prepend};p?this.listeners.unshift(a):this.listeners.push(a);this.map[q]=a;return q},once:function(a,b,c){c=c||{};c.once=!0;return this.on(a,b,c)},un:function(a,b){var c=-1,d=this.uni,e=this.listeners,q;q=a==parseInt(a)?a:(b||a)[d];if(!q)return!1;for(var p=0,l=e.length;p<l;p++)if(e[p].id==q){c=p;delete e[p].uniContext[d];break}if(-1==c)return!1;e.splice(c,1);delete this.map[q];return!0},hasListener:function(a,b){var c=this.listeners,
d;if(a){b=b||a;d=I(a)?b[this.uni]:a;if(!d)return!1;for(var e=0,q=c.length;e<q;e++)if(c[e].id==d)return!0;return!1}return 0<c.length},removeAllListeners:function(){var a=this.listeners,b=this.uni,c,d;c=0;for(d=a.length;c<d;c++)delete a[c].uniContext[b];this.listeners=[];this.map={}},suspend:function(){this.suspended=!0},resume:function(){this.suspended=!1},_prepareArgs:function(a,b){var c;a.append||a.prepend?(c=la.call(b),a.prepend&&(c=a.prepend.concat(c)),a.append&&(c=c.concat(a.append))):c=b;return c},
trigger:function(){var a=this.listeners,b=this.returnResult;if(this.suspended||0==a.length)return null;for(var c="all"==b||"merge"==b?[]:null,d,e,a="first"==b?[a[0]]:la.call(a);d=a.shift();)if(d&&this.map[d.id]&&(d.count++,!(d.count<d.start)))if(e=d.fn.apply(d.context,this._prepareArgs(d,arguments)),d.called++,d.called==d.limit&&this.un(d.id),"all"==b)c.push(e);else if("merge"==b&&e)c=c.concat(e);else{if("first"==b)return e;if("last"==b)c=e;else if(!1==b&&!1===e)return!1}if(b)return c}},!0,!1);var Ka=
function(){var a=/#.*$/,b=/([?&])_=[^&]*/,c=/\?/,d=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,e=/^(?:GET|HEAD)$/i,q=function(a,b,c){var k,g;g=aa(a);if(3>g&&-1<g&&c)b.push(encodeURIComponent(c)+"="+encodeURIComponent(""+a));else if(W(a)&&c)for(k=0,g=a.length;k<g;k++)q(a[k],b,c+"["+k+"]");else if(qa(a))for(k in a)a.hasOwnProperty(k)&&q(a[k],b,c?c+"["+k+"]":k)},p=function(n,m){n.replace(a,"");if(!1===m.cache){var g=(new Date).getTime();return b.test(n)?n.replace(b,"$1_="+g):n+(c.test(n)?
"&":"?")+"_="+g}!m.data||window.FormData&&m.data instanceof window.FormData||(E(m.data)?g=m.data:(g=[],q(m.data,g,null),g=g.join("&").replace(/%20/g,"+")),m.data=g,e.test(m.method)&&(n+=(c.test(n)?"&":"?")+m.data,m.data=null));return n},l={xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},x={url:null,data:null,method:"GET",headers:null,username:null,password:null,cache:null,dataType:null,
timeout:0,contentType:"application/x-www-form-urlencoded",xhrFields:null,jsonp:!1,jsonpParam:null,jsonpCallback:null,transport:null,replace:!1,selector:null,form:null,beforeSend:null,progress:null,uploadProgress:null,processResponse:null,callbackScope:null},z={},r=new va,t=function(a){var b;b=eval;a&&(/^[^\S]*use strict/.test(a)?(b=document.createElement("script"),b.text=a,document.head.appendChild(b).parentNode.removeChild(b)):b(a))},g=function(a,b,c){var k,f;if(!qa(a)&&!I(a)&&c)k=document.createElement("input"),
k.setAttribute("type","hidden"),k.setAttribute("name",c),k.setAttribute("value",a),b.appendChild(k);else if(W(a)&&c)for(k=0,f=a.length;k<f;k++)g(a[k],b,c+"["+k+"]");else if(qa(a))for(k in a)a.hasOwnProperty(k)&&g(a[k],b,c?c+"["+k+"]":k)},s=function(a){for(var b,c,k="",g=0;g<a.elements.length;g++)if(b=a.elements[g],null!==K(b,"name"))if(c="INPUT"===b.nodeName.toUpperCase()?K(b,"type").toUpperCase():"TEXT","FILE"===c)for(c=0;c<b.files.length;k+="&"+encodeURIComponent(b.name)+"="+encodeURIComponent(b.files[c++].name));
else if("RADIO"!==c&&"CHECKBOX"!==c||b.checked)k+="&"+encodeURIComponent(b.name)+"="+encodeURIComponent(b.value);return k},sa=function(a,b,c){var k=b?b.dataType:null;b=b?b.selector:null;if(!E(a))return a;c=c||"";if("xml"===k||!k&&0<=c.indexOf("xml"))return a=Ba(Da(a)),b?F(b,a):a;if("html"===k)return a=Ba(a,"text/html"),b?F(b,a):a;if("fragment"==k){c=document.createDocumentFragment();k=document.createElement("div");for(k.innerHTML=a;k.firstChild;)c.appendChild(k.firstChild);return c}if("json"===k||
!k&&0<=c.indexOf("json"))return Ja(Da(a));("script"===k||!k&&0<=c.indexOf("javascript"))&&t(a);return a+""},B=function(a){var b=d.exec((window?window.location.href:"").toLowerCase())||[],c=d.exec(a.url.toLowerCase());this._opt=a;!0!==a.crossDomain&&(a.crossDomain=!(!c||c[1]===b[1]&&c[2]===b[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(b[3]||("http:"===b[1]?"80":"443"))));b=new X;"iframe"!=a.transport||a.form?a.form&&(this._form=a.form,"POST"!=a.method||window&&window.FormData||(a.transport="iframe")):
(this.createForm(),a.form=this._form);a.form&&"iframe"!=a.transport&&(a.data="POST"==a.method?new FormData(a.form):s(a.form));a.url=p(a.url,a);c=!a.crossDomain&&"script"!=a.transport||a.form?"iframe"==a.transport?new w(a,b,this):new u(a,b,this):new h(a,b,this);this._deferred=b;this._transport=c;b.done(function(a){r.trigger("success",a)});b.fail(function(a){r.trigger("error",a)});b.always(function(){r.trigger("end")});r.trigger("start");a.timeout&&(this._timeout=setTimeout(v(this.onTimeout,this),a.timeout));
a.jsonp&&this.createJsonp();!1===r.trigger("beforeSend",a,c)&&(this._promise=X.reject());a.beforeSend&&!1===a.beforeSend.call(a.callbackScope,a,c)&&(this._promise=X.reject());this._promise||(Aa(c.send,c),b.abort=v(this.abort,this),b.always(this.destroy,this),this._promise=b)};H(B.prototype,{_jsonpName:null,_transport:null,_opt:null,_deferred:null,_promise:null,_timeout:null,_form:null,_removeForm:!1,promise:function(){return this._promise},abort:function(a){this._transport.abort();this._deferred.reject(a||
"abort")},onTimeout:function(){this.abort("timeout")},createForm:function(){var a=document.createElement("form");a.style.display="none";a.setAttribute("method",this._opt.method);g(this._opt.data,a,null);document.body.appendChild(a);this._form=a;this._removeForm=!0},createJsonp:function(){var a=this._opt,b=a.jsonpParam||"callback",g=a.jsonpCallback||"jsonp_"+da();a.url+=(c.test(a.url)?"&":"?")+b+"="+g;this._jsonpName=g;"undefined"!=typeof window&&(window[g]=v(this.jsonpCallback,this));"undefined"!=
typeof global&&(global[g]=v(this.jsonpCallback,this));return g},jsonpCallback:function(a){var b;try{b=this.processResponseData(a)}catch(c){this._deferred?this._deferred.reject(c):ca(c)}this._deferred&&this._deferred.resolve(b)},processResponseData:function(a,b){var c=this._opt;a=sa(a,c,b);r.hasListener("processResponse")&&(a=r.trigger("processResponse",a,this._deferred));c.processResponse&&(a=c.processResponse.call(c.callbackScope,a,this._deferred));return a},processResponse:function(a,b){var c=this._deferred,
k;if(this._opt.jsonp)if(a){try{t(a)}catch(g){c.reject(g)}c.isPending()&&c.reject("jsonp script didn't invoke callback")}else c.reject("jsonp script is empty");else{try{k=this.processResponseData(a,b)}catch(f){c.reject(f)}c.resolve(k)}},destroy:function(){this._timeout&&clearTimeout(this._timeout);this._form&&this._form.parentNode&&this._removeForm&&this._form.parentNode.removeChild(this._form);this._transport.destroy();this._form=this._timeout=this._promise=this._deferred=this._opt=this._transport=
null;this._jsonpName&&("undefined"!=typeof window&&delete window[this._jsonpName],"undefined"!=typeof global&&delete global[this._jsonpName])}},!0,!1);var f=function(a,b){b=b||{};a&&!E(a)?b=a:b.url=a;if(!b.url&&(b.form&&(b.url=K(b.form,"action")),!b.url))throw"Must provide url";H(b,z,!1,!0);H(b,x,!1,!0);b.method=b.method?b.method.toUpperCase():b.form?K(b.form,"method").toUpperCase()||"GET":"GET";return(new B(b)).promise()};f.setup=function(a){H(z,a,!0,!0)};f.on=function(){r.on.apply(r,arguments)};
f.un=function(){r.un.apply(r,arguments)};f.get=function(a,b){b=b||{};b.method="GET";return f(a,b)};f.post=function(a,b){b=b||{};b.method="POST";return f(a,b)};f.load=function(a,b,c){c=c||{};E(b)||(c=b);c.dataType="fragment";return f(b,c).done(function(b){if(c.replace)for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(b)})};f.loadScript=function(a){return f(a,{transport:"script"})};f.submit=function(a,b){b=b||{};b.form=a;return f(null,b)};var u=function(a,b,c){var k;if(!(window.XMLHttpRequest&&
(k=new XMLHttpRequest)||(k=new ActiveXObject("Msxml2.XMLHTTP"))||(k=new ActiveXObject("Microsoft.XMLHTTP"))))throw"Unable to create XHR object";this._xhr=k;this._deferred=b;this._opt=a;this._ajax=c;a.progress&&L(k,"progress",v(a.progress,a.callbackScope));a.uploadProgress&&k.upload&&L(k.upload,"progress",v(a.uploadProgress,a.callbackScope));k.onreadystatechange=v(this.onReadyStateChange,this)};H(u.prototype,{_xhr:null,_deferred:null,_ajax:null,setHeaders:function(){var a=this._opt,b=this._xhr,c;if(a.xhrFields)for(c in a.xhrFields)b[c]=
a.xhrFields[c];a.data&&a.contentType&&b.setRequestHeader("Content-Type",a.contentType);b.setRequestHeader("X-Requested-With","XMLHttpRequest");b.setRequestHeader("Accept",a.dataType&&l[a.dataType]?l[a.dataType]+", */*; q=0.01":l._default);for(c in a.headers)b.setRequestHeader(c,a.headers[c])},onReadyStateChange:function(){var a=this._xhr,b=this._deferred;if(0===a.readyState)a.onreadystatechange=pa,b.resolve(a);else if(4===a.readyState){a.onreadystatechange=pa;var c;a:{try{c=!a.status&&location&&"file:"==
location.protocol||200<=a.status&&300>a.status||304===a.status||1223===a.status;break a}catch(k){}c=!1}c?this._ajax.processResponse(E(a.responseText)?a.responseText:void 0,a.getResponseHeader("content-type")||""):b.reject(a)}},abort:function(){this._xhr.onreadystatechange=pa;this._xhr.abort()},send:function(){var a=this._opt;try{this._xhr.open(a.method,a.url,!0,a.username,a.password),this.setHeaders(),this._xhr.send(a.data)}catch(b){this._deferred.reject(b)}},destroy:function(){this._ajax=this._opt=
this._deferred=this._xhr=null}},!0,!1);var h=function(a,b,c){this._opt=a;this._ajax=c;this._deferred=b};H(h.prototype,{_opt:null,_deferred:null,_ajax:null,_el:null,send:function(){var a=document.createElement("script");a.setAttribute("async","async");a.setAttribute("charset","utf-8");a.setAttribute("src",this._opt.url);L(a,"load",v(this.onLoad,this));L(a,"error",v(this.onError,this));document.head.appendChild(a);this._el=a},onLoad:function(a){this._deferred&&this._deferred.resolve(a)},onError:function(a){this._deferred.reject(a)},
abort:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el)},destroy:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el);this._deferred=this._ajax=this._opt=this._el=null}},!0,!1);var w=function(a,b,c){this._opt=a;this._ajax=c;this._deferred=b};H(w.prototype,{_opt:null,_deferred:null,_ajax:null,_el:null,send:function(){var a=document.createElement("iframe"),b="frame-"+da(),c=this._opt.form;a.setAttribute("id",b);a.setAttribute("name",b);a.style.display="none";
document.body.appendChild(a);c.setAttribute("action",this._opt.url);c.setAttribute("target",b);L(a,"load",v(this.onLoad,this));L(a,"error",v(this.onError,this));this._el=a;try{c.submit()}catch(k){this._deferred.reject(k)}},onLoad:function(){var a=this._el;this._opt&&!this._opt.jsonp&&(a=a.contentDocument||a.contentWindow.document,a=a.body.innerHTML,this._ajax.processResponse(a))},onError:function(a){this._deferred.reject(a)},abort:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el)},
destroy:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el);this._deferred=this._ajax=this._opt=this._el=null}},!0,!1);return f}(),fa=function(a){var b,c=a?"pageYOffset":"pageXOffset",d=a?"scrollTop":"scrollLeft";a=window.document;var e=a.body,q=a.documentElement;b=void 0!==window[c]?function(){return window[c]}:q.clientHeight?function(){return q[d]}:function(){return e[d]};return function(a){return a&&a!==window?a&&1==a.nodeType&&a!==e&&a!==q?a[d]:b():b()}},xa=fa(!0),ya=fa(!1),
La=function(){return function b(c){if(c===window)return!0;if(3==c.nodeType)return c.parentElement?b(c.parentElement):!0;var d=window.document.documentElement;return c===d?!0:d.contains(c)}}(),Ma=function(){var a;return function(){if(void 0===a){var b=window.document,c=b.createElement("div"),d=b.createElement("div"),b=b.body;d.style&&window.getComputedStyle?(c.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",c.appendChild(d),d.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
d.innerHTML="",b.appendChild(c),d="4px"===window.getComputedStyle(d,null).width,b.removeChild(c),a=d):a=!1}return a}}(),fa=function(a,b){var c=/^([+-]?(?:d*.|)d+(?:[eE][+-]?d+|))(?!px)[a-z%]+$/i,d=["Top","Right","Bottom","Left"],e=a?"inner"==a?"padding":"":"content";return function(a,p){if(a===window)return a.document.documentElement["client"+b];if(9===a.nodeType){var l=a.documentElement;return Math.max(a.body["scroll"+b],l["scroll"+b],a.body["offset"+b],l["offset"+b],l["client"+b])}var l=b.toLowerCase(),
x;a:if(window.getComputedStyle){if(a===window){x={};break a}x=getComputedStyle(a,null)}else x=a.currentStyle||a.style||{};a:{var z=e||(!0===p?"margin":"border"),r=!0,t="width"===l?a.offsetWidth:a.offsetHeight,g="border-box"===x.boxSizing;if(0>=t||null==t){t=a.style[l];if(c.test(t)){l=t;break a}r=g&&(Ma()||t===a.style[l]);t=parseFloat(t)||0}z=z||(g?"border":"content");l=z===(r?"border":"content")?4:"width"===l?1:0;for(g=0;4>l;l+=2)"margin"===z&&(g+=parseFloat(x[z+d[l]])),r?("content"===z&&(g-=parseFloat(x["padding"+
d[l]])),"margin"!==z&&(g-=parseFloat(x["border"+d[l]+"Width"]))):(g+=parseFloat(x["padding"+d[l]]),"padding"!==z&&(g+=parseFloat(x["border"+d[l]+"Width"])));l=t+g}return l}},Y=fa("outer","Width"),Z=fa("outer","Height"),ja={},Ea=function(){var a=function(a,b){var c=a.style,d;for(d in b)c[d]=b[d]},b={t:"b",r:"l",b:"t",l:"r"},c={t:"top",r:"right",b:"bottom",l:"left"},d={t:["l","r"],r:["t","b"],b:["r","l"],l:["b","t"]},e=null,q=function(){var a={},b={};return{register:function(c){var d=c.getInstanceId(),
e=c.getGroup(),p,f,q;a[d]=c;p=0;for(f=e.length;p<f;p++)q=e[p],b[q]||(b[q]={}),b[q][d]=!0;c.on("destroy",this.unregister,this)},unregister:function(b){b=b.getInstanceId();delete a[b]},hideAll:function(c){var d=c.getInstanceId();c=c.getGroup();var e,p,f,q;e=0;for(p=c.length;e<p;e++)for(q in f=c[e],f=b[f],f)a[q]?q==d||a[q].isHideAllIgnored()||a[q].hide(null,!0,!0):delete f[q]}}}(),p=function(q,t,g){null===e&&(e=window.document.all&&!window.XMLHttpRequest);var s,l=this,B,f={backgroundColor:"transparent",
width:"0px",height:"0px",position:"absolute",fontSize:"0px",lineHeight:"0px"},u=t.size,h=t.width||2*u;H(l,{init:function(){t.border&&l.createInner()},getEl:function(){return s},getDialogPositionOffset:function(){var a=(l.detectPointerPosition()||"").substr(0,1),c=(q.getCfg().position.type||"").replace(/(w|m|c)/,"").substr(0,1),g={x:0,y:0};a==b[c]&&(g["t"==a||"b"==a?"y":"x"]="b"==a||"r"==a?-u:u);return g},createInner:function(){var a=H({},t);a.size=u-2*t.border;a.width=h-4*t.border;a.border=null;a.borderColor=
null;a.borderCls=null;a.offset=null;B=new p(q,a,t.border)},detectPointerPosition:function(){if(t.position)return t.position;var a=(q.getCfg().position.type||"").replace(/(w|m|c)/,"").substr(0,1);return a?b[a]:null},detectPointerDirection:function(a){return t.direction?t.direction:a},getBorders:function(a,g,f){var s={},k=a.substr(0,1);a=g.substr(0,1);var A=g.substr(1);g=e?"dotted":"solid";s["border"+S(c[b[k]])]=u+"px solid "+f;s["border"+S(c[k])]="0 "+g+" transparent";A?(s["border"+S(c[A])]="0 solid transparent",
s["border"+S(c[b[A]])]=h+"px "+g+" transparent"):(f=Math.floor(h/2),s["border"+S(c[d[a][0]])]=f+"px "+g+" transparent",s["border"+S(c[d[a][1]])]=f+"px "+g+" transparent");return s},getOffsets:function(a,f){var d={},e=a.substr(0,1),k="t"==e||"b"==e?"r":"b";if(!u)switch(window.document.body.appendChild(s),e){case "t":case "b":u=Z(s);h=Y(s);break;case "l":case "r":h=Z(s),u=Y(s)}d[c[e]]=g?"auto":-u+"px";d[c[k]]="auto";if(g){var e=f.substr(0,1),A=f.substr(1);d[c[b[k]]]=A?"l"==A||"t"==A?g+"px":-h-g+"px":
Math.floor(-h/2)+"px";d[c[b[e]]]=-(u+2*g)+"px"}else{switch(a){case "t":case "r":case "b":case "l":e=f!=a?"l"==f||"t"==f?t.offset:-h+t.offset:-h/2+t.offset;break;case "bl":case "tl":case "lt":case "rt":e=t.offset;break;default:e=-h-t.offset}d["margin"+S(c[b[k]])]=e+"px";switch(a){case "t":case "r":case "b":case "l":e="50%";break;case "tr":case "rb":case "br":case "lb":e="100%";break;default:e=0}d[c[b[k]]]=e}return d},render:function(){if(!s){var b=l.detectPointerPosition();if(b)if(t.el){if(E(t.el)){var c=
window.document.createElement("div");c.innerHTML=t.el;s=c.firstChild}else s=t.el;a(s,{position:"absolute"});a(s,l.getOffsets(b));M(s,t.cls);q.getElem().appendChild(s)}else{c=l.detectPointerDirection(b);s=window.document.createElement("div");var d=window.document.createComment(" ");s.appendChild(d);a(s,f);a(s,l.getBorders(b,c,t.borderColor||t.color));a(s,l.getOffsets(b,c));M(s,t.borderCls||t.cls);B&&(B.render(),s.appendChild(B.getEl()));g||q.getElem().appendChild(s)}}},destroy:function(){l.remove();
g=t=q=B=l=null},remove:function(){B&&B.remove();s&&(s.parentNode.removeChild(s),s=null)}},!0,!1);l.init();return l},l=function(a){if(!a)return{};var b=function(b,c,d){var e=a[b],f=!1;if(void 0!==e){switch(d){case "string":f=E(e);break;case "function":f=I(e);break;case "number":f=1===aa(e)||e==parseInt(e);break;case "dom":f=e&&(e.tagName||e.nodeName)?!0:!1;break;case "jquery":(f=e&&e.jquery?!0:!1)&&(e=e.get(0));break;case "boolean":if(!0===e||!1===e)f=!0;break;default:!0===d&&!0===e&&(f=!0),!1===d&&
!1===e&&(f=!0)}f&&(a[b]={},a[b][c]=e)}};b("content","value","string");b("content","value","boolean");b("content","fn","function");b("ajax","url","string");b("cls","dialog","string");b("render","tpl","string");b("render","fn","function");b("render","el","dom");b("render","el","jquery");b("show","events",!1);b("show","events","string");b("hide","events",!1);b("hide","events","string");b("toggle","events",!1);b("toggle","events","string");b("position","type","string");b("position","type",!1);b("position",
"get","function");b("overlay","enabled","boolean");b("pointer","position","string");b("pointer","size","number");return a},x={target:null,debug:!1,group:null,modal:!1,useHref:!1,content:{value:"",fn:null,prepare:null,attr:null},ajax:{url:null,data:null,dataType:"text",method:"GET"},cls:{dialog:null,visible:null,hidden:null,loading:null},selector:{content:null},buttons:null,render:{tpl:"<div></div>",fn:null,el:null,zIndex:null,lazy:!0,style:null,appendTo:null,id:null,keepVisible:!1,keepInDOM:!1,lifetime:null},
events:{show:{click:{preventDefault:!0,stopPropagation:!0,returnValue:!1,process:null}}},show:{delay:null,single:!1,events:null,animate:!1,ignoreHideAll:!1,focus:!1,preventScroll:!1},hide:{delay:null,timeout:null,events:null,destroy:!1,animate:!1,cancelShowDelay:!0},toggle:{events:null},position:{type:"t",offsetX:0,offsetY:0,axis:null,get:null,screenX:!1,screenY:!1,resize:!0},pointer:{position:null,direction:null,size:0,width:null,color:null,offset:0,border:0,borderColor:null,el:null,cls:null,borderCls:null},
overlay:{enabled:!1,color:"#000",opacity:.5,cls:null,animateShow:!1,animateHide:!1,preventScroll:!1},callback:{scope:null,contentchange:null,beforeshow:null,show:null,beforehide:null,hide:null,render:null,lifetime:null,targetchange:null,button:null}},z=function(b,c){b&&!E(b)&&(c=b,b=null);c=c||{};var g=this,d={},e=da(),B=new va,f=H({},x,l(z.defaults),l(z[b]),l(c),!0,!0),u=f.callback.scope||d,h,w,n,m={bindSelfOnRender:!1,target:null,visible:!1,enabled:!0,frozen:!1,rendered:!1,hideTimeout:null,hideDelay:null,
showDelay:null,dynamicTarget:!1,dynamicTargetEl:null,images:0,position:null,destroyDelay:null};c=null;H(d,B.getApi(),{getElem:function(){return h},getInstanceId:function(){return e},getCfg:function(){return H({},f)},getGroup:function(){return f.group?E(f.group)?[f.group]:f.group:[""]},setTarget:function(a){if(!a)return d;var b=!1,c=m.target;m.target?(g.setHandlers("unbind","_target"),b=!0):m.dynamicTarget&&(b=!0);E(a)?(m.dynamicTarget=!0,m.target=null):(m.dynamicTarget=!1,m.target=a);b&&(g.setHandlers("bind",
"_target"),g.trigger("targetchange",d,a,c));return d},getTarget:function(){return m.dynamicTarget?m.dynamicTargetEl:f.target},isEnabled:function(){return m.enabled},isVisible:function(){return m.visible},isHideAllIgnored:function(){return f.show.ignoreHideAll},isFrozen:function(){return m.frozen},enable:function(){m.enabled=!0;return d},disable:function(){g.hide();m.enabled=!1;return d},freeze:function(){m.frozen=!0;return d},unfreeze:function(){m.frozen=!1;return d},toggle:function(a,b){return a&&
a.stopPropagation&&m.dynamicTarget&&m.visible&&g.isDynamicTargetChanged(a)?g.show(a):g[m.visible?"hide":"show"](a,b)},show:function(a,b){var c=a&&a.stopPropagation?null:d,e=f.show;if(!d.isEnabled())return f.debug&&console.log("show: not enabled",d.getTarget()),c;a&&a.stopPropagation&&f.events.show&&f.events.show[a.type]&&(c=f.events.show[a.type],c.process?c=c.process(d,a):(c.stopPropagation&&a.stopPropagation(),c.preventDefault&&a.preventDefault(),c=c.returnValue));if(m.visible&&m.hideTimeout)return window.clearTimeout(m.hideTimeout),
m.hideTimeout=window.setTimeout(g.hide,f.hide.timeout),f.debug&&console.log("show: hide timeout was set",d.getTarget()),c;if(m.hideDelay)return window.clearTimeout(m.hideDelay),m.hideDelay=null,m.visible=!0,f.debug&&console.log("show: hide delay was set; already shown",d.getTarget()),c;if(m.frozen)return f.debug&&console.log("show: frozen",d.getTarget()),c;m.destroyDelay&&(window.clearTimeout(m.destroyDelay),m.destroyDelay=null);var n=!1;a&&a.stopPropagation&&m.dynamicTarget&&(n=g.changeDynamicTarget(a));
if(m.visible)if(n)if(f.render.fn)g.hide(null,!0);else return g.reposition(a),c;else return f.debug&&console.log("show: already shown",h),c;h?n&&g.changeDynamicContent():g.render();if(!1===g.trigger("beforeshow",d,a))return f.debug&&console.log("show: beforeshow return false",d.getTarget()),c;ua(h);m.visible=!0;e.single&&q.hideAll(g);g.toggleTitleAttribute(!1);e.delay&&!b?m.showDelay=window.setTimeout(function(){g.showAfterDelay(a)},e.delay):g.showAfterDelay(a,b);return c},hide:function(a,b,c){m.hideTimeout=
null;var e=a&&a.stopPropagation?null:d;a&&a.stopPropagation&&f.events.hide&&f.events.hide[a.type]&&(e=f.events.hide[a.type],e.process?e=e.process(d,a):(e.stopPropagation&&a.stopPropagation(),e.preventDefault&&a.preventDefault(),e=e.returnValue));!m.visible&&m.hideDelay&&b&&(window.clearTimeout(m.hideDelay),m.hideDelay=null,m.visible=!0);if(!h||!m.visible||!g.isEnabled())return f.debug&&console.log("hide: elem/visible/enabled: ",h,m.visible,g.isEnabled()),e;if(m.showDelay)return f.hide.cancelShowDelay||
c?(window.clearTimeout(m.showDelay),m.showDelay=null,m.visible=!1,f.debug&&console.log("hide: cancelShowDelay: ",g.getTarget())):f.debug&&console.log("hide: show delay was set",g.getTarget()),e;if(m.frozen)return f.debug&&console.log("hide: frozen",g.getTarget()),e;if(!1===g.trigger("beforehide",d,a))return f.debug&&console.log("hide: beforehide returned false",g.getTarget()),e;ua(h);m.visible=!1;g.toggleTitleAttribute(!0);m.dynamicTarget&&g.resetDynamicTarget();f.hide.delay&&!b?m.hideDelay=window.setTimeout(function(){g.hideAfterDelay(a)},
f.hide.delay):g.hideAfterDelay(a,b);return e},setPositionType:function(a){a&&(E(a)?(f.position.get=a,f.position.type=!1):(f.position.get=null,f.position.type=a));a=f.position.type;!1===a?m.position=!1:f.position.get&&"m"!=a?m.position="fn":(a=a.substr(0,1),m.position="w"==a?"window":"m"==a?"mouse":"target");w&&(w.remove(),h&&w.render())},getPosition:function(a){if(!h)return null;var b,c=f.position;switch(m.position){case !1:return null;case "target":b=g.getTargetPosition(a);break;case "mouse":b=g.getMousePosition(a);
break;case "window":b=g.getWindowPosition(a);break;case "fn":b=c.get.call(u,d,a)}if(!1!==c.screenX||!1!==c.screenY)b=g.correctScreenPosition(b,c.screenX,c.screenY);return b},reposition:function(b){b&&(b=O(b));if(b=g.getPosition(b))void 0!=b.x&&a(h,{left:b.x+"px"}),void 0!=b.y&&a(h,{top:b.y+"px"}),void 0==b.x&&void 0==b.y&&a(h,b)},getContentElem:function(){return h?f.selector.content?F(f.selector.content,h).shift()||h:h:null},setContent:function(a,b){b=b||"";if(!h)return f.content.value=a,d;f.content.prepare&&
(a=f.content.prepare(d,b,a));var c=d.getContentElem(),e=m.rendered&&!f.selector.content&&w,n=e&&w.getEl();if(e&&n)try{h.removeChild(n)}catch(q){}if(E(a))c.innerHTML=a;else for(var p in a){var l=f.selector[p];l&&(l=F(l,c).shift())&&(l.innerHTML=a[p])}if(e&&n)try{h.appendChild(n)}catch(r){}c=F("img",c);m.images=c.length;p=-1;for(e=c.length;++p<e;L(c[p],"load",g.onImageLoad));g.trigger("contentchange",d,a,b);g.onContentChange();return d},readContent:function(){var a=d.getTarget(),b;a&&(b=f.content.attr?
K(a,f.content.attr):K(a,"tooltip")||K(a,"title")||K(a,"alt"));b&&g.setContent(b,"attribute");return d},loadContent:function(a){M(h,f.cls.loading);a=H({},f.ajax,a,!0,!0);g.trigger("beforeajax",d,a);return Ka(a).done(g.onAjaxLoad)},destroy:function(){g.trigger("destroy",d);N(window,"resize",g.onWindowResize);N(window,"scroll",g.onWindowScroll);g.destroyElem();w&&(w.destroy(),w=null);g.setHandlers("unbind");B.destroy();n=m=d=g=B=null},setFocus:function(){var a=f.show.focus,b;if(!0===a)if(a=F("input",
h).concat(F("textarea",h)),0<a.length)a[0].focus();else{if(f.buttons)for(b in f.buttons){(b=F(f.buttons[b],h).shift())&&b.focus();break}}else(b=F(a,h).shift())&&b.focus()}},!0,!1);H(g,d,{init:function(){q.register(g);f.modal&&(f.overlay.enabled=!0);g.setPositionType();g.setTarget(f.target);if(f.pointer.size||f.pointer.el)w=new p(g,f.pointer);f.render.lazy||g.render();g.setHandlers("bind")},setHandlers:function(a,b){for(var c=["show","hide","toggle"],e="bind"==a?L:N,p="bind"==a?Fa:Ga,q,l,r,t,u,w,x,
v,z,B;q=c.shift();)if(l=f[q].events,!1!==l){if(E(l)||W(l))m.dynamicTarget?(u={},u[l]=f.target,l={_html:u}):l={_target:l};for(r in l){if(b)if("_self"==b){if("_self"!=r&&"_overlay"!=r&&">"!=r.substr(0,1))continue}else if(r!=b)continue;if("_self"!=r&&"_overlay"!=r&&">"!=r.substr(0,1)||h){if(x=l[r]){switch(r){case "_target":v=[g.getTarget()];break;case "_self":v=[h];break;case "_window":v=[window];break;case "_document":v=[window.document];break;case "_html":v=[window.document.documentElement];break;
case "_overlay":v=[n];break;default:v=">"==r.substr(0,1)?F(r.substr(1),h):F(r)}if(v&&v.length)if(E(x)&&(x=[x]),W(x))for(u=0,w=x.length;u<w;u++)for(z=-1,B=v.length;++z<B;e(v[z],x[u],d[q]));else for(t in x)for(z=-1,B=v.length;++z<B;p(v[z],x[t],t,d[q]));}}else m.bindSelfOnRender=!0}}},resetDynamicTarget:function(){var a=m.dynamicTargetEl;a&&(g.setHandlers("unbind","_target"),g.trigger("targetchange",d,null,a))},isDynamicTargetChanged:function(a){var b=f.target;a=a.target;for(var c=m.dynamicTargetEl;a&&
!ra(a,b);)a=a.parentNode;return a?!c||c!==a:!1},changeDynamicTarget:function(a){var b=f.target;a=a.target;for(var c=m.dynamicTargetEl;a&&!ra(a,b);)a=a.parentNode;if(!a||c&&c===a)return!1;c&&g.setHandlers("unbind","_target");m.dynamicTargetEl=a;g.setHandlers("bind","_target");g.trigger("targetchange",d,a,c);return!0},showAfterDelay:function(a,b){m.showDelay=null;if(m.visible){f.position.manual||g.reposition(a);"mouse"==m.position&&L(window.document.documentElement,"mousemove",g.onMouseMove);var c=
f.position;(c.resize||c.screenX||c.screenY)&&L(window,"resize",g.onWindowResize);(c.scroll||c.screenX||c.screenY)&&L(window,"scroll",g.onWindowScroll);if(b||!1!==g.trigger("afterdelay",d,a)){n&&(f.overlay.animateShow?g.animate("show",null,!0):n.style.display="");if(f.show.preventScroll){var c=f.show.preventScroll,e,h;!0===c&&(c="body");c=F(c);e=-1;for(h=c.length;++e<h;L(c[e],"mousewheel",g.onPreventScroll)&&L(c[e],"touchmove",g.onPreventScroll));}f.show.animate&&!b?g.animate("show").done(function(){g.showAfterAnimation(a)}):
g.showAfterAnimation(a)}else m.visible=!1,f.debug&&console.log("showAfterDelay: afterdelay returned false",d.getTarget())}else f.debug&&console.log("showAfterDelay: already hidden",g.getTarget())},showAfterAnimation:function(a){m.visible?(R(h,f.cls.hidden),M(h,f.cls.visible),f.render.keepVisible||(h.style.display=""),f.hide.timeout&&(m.hideTimeout=window.setTimeout(g.hide,f.hide.timeout)),f.show.focus&&window.setTimeout(g.setFocus,20),g.trigger("show",d,a)):f.debug&&console.log("showAfterAnimation: already hidden",
g.getTarget())},hideAfterDelay:function(a,b){m.hideDelay=null;if(m.visible)f.debug&&console.log("hideAfterDelay: already shown again",g.getTarget());else{"mouse"==m.position&&N(window.document.documentElement,"mousemove",g.onMouseMove);var c=f.position;(c.resize||c.screenX||c.screenY)&&N(window,"resize",g.onWindowResize);(c.scroll||c.screenX||c.screenY)&&N(window,"scroll",g.onWindowScroll);if(b||!1!==g.trigger("afterhidedelay",d,a)){if(f.show.preventScroll){var c=f.show.preventScroll,e,l;!0===c&&
(c="body");c=F(c);e=-1;for(l=c.length;++e<l;N(c[e],"mousewheel",g.onPreventScroll)&&N(c[e],"touchmove",g.onPreventScroll));}n&&(f.overlay.animateShow?g.animate("hide",null,!0).done(function(){n.style.display="none"}):n.style.display="none");f.hide.animate&&!b?g.animate("hide").done(function(){g.hideAfterAnimation(a)}):g.hideAfterAnimation(a)}else m.visible=f.cls.hidden?!na(h,f.cls.hidden):!(0>=h.offsetWidth||0>=h.offsetHeight),f.debug&&console.log("hideAfterDelay: afterhdelay returned false",g.getTarget())}},
hideAfterAnimation:function(a){m.visible?f.debug&&console.log("hideAfterAnimation: already shown again",g.getTarget()):(R(h,f.cls.visible),M(h,f.cls.hidden),f.render.keepVisible||(h.style.display="none"),g.trigger("hide",d,a),a=f.render.lifetime,null!==a&&(0===a?g.destroyElem():m.destroyDelay=window.setTimeout(g.destroyElem,a)),h&&f.hide.destroy&&window.setTimeout(function(){J(h,f.instanceName,null);g.destroy()},0))},render:function(){if(h)f.debug&&console.log("element already rendered",h);else{var b=
f.render,c=f.cls;if(b.fn){var e=b.fn.call(u,d);b[E(e)?"tpl":"el"]=e}b.el?E(b.el)?(h=F(b.el).shift(),b.keepInDOM=!0):h=b.el:(e=window.document.createElement("div"),e.innerHTML=b.tpl,h=e.firstChild);h||(h=window.document.createElement("div"));b.id&&h.setAttribute("id",b.id);f.render.keepVisible||(h.style.display="none");M(h,c.dialog);M(h,c.hidden);b.style&&a(h,b.style);f.overlay.enabled&&(n=window.document.createElement("div"),a(n,{display:"none",position:"fixed",left:0,top:0,right:0,bottom:0,opacity:f.overlay.opacity,
backgroundColor:f.overlay.color}),window.document.body.appendChild(n),L(n,"click",g.onOverlayClick),b.zIndex&&a(n,{zIndex:b.zIndex}),f.overlay.cls&&M(n,f.overlay.cls));b.appendTo?b.appendTo.appendChild(h):!1!==b.appendTo&&window.document.body.appendChild(h);b.zIndex&&a(h,{zIndex:b.zIndex});b=f.content;if(!1!==b.value)if(b.value)g.setContent(b.value);else if(b.fn)g.setContent(b.fn.call(u,d));else g[f.ajax.url?"loadContent":"readContent"]();w&&w.render();if(f.buttons)for(var l in f.buttons)if(b=F(f.buttons[l],
h).shift())J(b,"metaphorjsTooltip-button-id",l),L(b,"click",g.onButtonClick),L(b,"keyup",g.onButtonKeyup);m.bindSelfOnRender&&(g.setHandlers("bind","_self"),m.bindSelfOnRender=!1);m.rendered=!0;g.trigger("render",d)}},animate:function(a,b,c){var d,e;d=c?"show"==a?f.overlay.animateShow:f.overlay.animateHide:f[a].animate;I(d)&&(d=d(g,b));e=d.skipDisplayChange||!1;ma(d)?d=a:E(d)&&(d=[d]);return Ia(h,d,function(){"show"!=a||e||(c?n.style.display="":h.style.display="")})},toggleTitleAttribute:function(a){var b=
d.getTarget(),c;b&&(!1===a?(J(b,"tmp-title",K(b,"title")),b.removeAttribute("title")):(c=J(b,"tmp-title"))&&b.setAttribute("title",c))},changeDynamicContent:function(){f.content.fn?g.setContent(f.content.fn.call(u,d)):f.content.attr&&g.readContent()},getDialogSize:function(){var b=f.cls.hidden?na(h,f.cls.hidden):!!(0>=h.offsetWidth||0>=h.offsetHeight),c,d=h.style.left;b&&(a(h,{left:"-1000px"}),h.style.display="");c={width:Y(h),height:Z(h)};b&&(a(h,{left:d}),h.style.display="none");return c},getTargetSize:function(){var a=
g.getTarget();return a?{width:Y(a),height:Z(a)}:null},getTargetPosition:function(a,b){var c=g.getTarget();if(!c)return null;var d=g.getDialogSize();var e={top:0,left:0},h=window.document.documentElement;La(c)&&c!==window?(c.getBoundingClientRect&&(e=c.getBoundingClientRect()),c={top:e.top+xa()-h.clientTop,left:e.left+ya()-h.clientLeft}):c=e;e=g.getTargetSize();h={};b=b||f.position.type;var l=b.substr(0,1),m=b.substr(1),n=f.position.offsetX,q=f.position.offsetY,p=w?w.getDialogPositionOffset():null;
switch(l){case "t":h.y=c.top-d.height-q;break;case "r":h.x=c.left+e.width+n;break;case "b":h.y=c.top+e.height+q;break;case "l":h.x=c.left-d.width-n}switch(m){case "t":h.y=c.top+q;break;case "r":h.x=c.left+e.width-d.width-n;break;case "b":h.y=c.top+e.height-d.height-q;break;case "l":h.x=c.left+n;break;case "rc":h.x=c.left+e.width+n;break;case "lc":h.x=c.left-d.width-n;break;case "":switch(l){case "t":case "b":h.x=c.left+e.width/2-d.width/2;break;case "r":case "l":h.y=c.top+e.height/2-d.height/2}}p&&
(h.x+=p.x,h.y+=p.y);return h},getMousePosition:function(a){if(!a)return null;var b=g.getDialogSize(),c={},e=f.position.type.substr(1),h=f.position.offsetX,l=f.position.offsetY,n=f.position.axis,m=w?w.getDialogPositionOffset():null;switch(e){case "":c=f.position.get.call(u,d,a);break;case "t":c.y=a.pageY-b.height-l;c.x=a.pageX-b.width/2;break;case "r":c.y=a.pageY-b.height/2;c.x=a.pageX+h;break;case "b":c.y=a.pageY+l;c.x=a.pageX-b.width/2;break;case "l":c.y=a.pageY-b.height/2;c.x=a.pageX-b.width-h;
break;case "rt":c.y=a.pageY-b.height-l;c.x=a.pageX+h;break;case "rb":c.y=a.pageY+l;c.x=a.pageX+h;break;case "lt":c.y=a.pageY-b.height-l;c.x=a.pageX-b.width-h;break;case "lb":c.y=a.pageY+l,c.x=a.pageX-b.width-h}m&&(c.x+=m.x,c.y+=m.y);n&&(a=g.getTargetPosition(a,e))&&("x"==n?c.y=a.y:c.x=a.x);return c},getWindowPosition:function(){var a=g.getDialogSize(),b={},c=f.position.type.substr(1),d=f.position.offsetX,e=f.position.offsetY,h=xa(),l=ya(),m=Y(window),n=Z(window);switch(c){case "c":b.y=n/2-a.height/
2+h;b.x=m/2-a.width/2+l;break;case "t":b.y=h+e;b.x=m/2-a.width/2+l;break;case "r":b.y=n/2-a.height/2+h;b.x=m-a.width+l-d;break;case "b":b.y=n-a.height+h-e;b.x=m/2-a.width/2+l;break;case "l":b.y=n/2-a.height/2+h;b.x=l+d;break;case "rt":b.y=h+e;b.x=m-a.width+l-d;break;case "rb":b.y=n-a.height+h-e;b.x=m-a.width+l-d;break;case "lt":b.y=h+e;b.x=l+d;break;case "lb":b.y=n-a.height+h-e,b.x=l+d}return b},correctScreenPosition:function(a,b,c){var d=g.getDialogSize(),e=xa(),f=ya(),h=Y(window),l=Z(window);c&&
a.y+d.height>l+e-c&&(a.y=l+e-c-d.height);b&&a.x+d.width>h+f-b&&(a.x=h+f-b-d.width);c&&a.y<e+c&&(a.y=e+c);b&&a.x<f+b&&(a.x=f+b);return a},onMouseMove:function(a){g.reposition(O(a))},onWindowResize:function(a){g.reposition(O(a))},onWindowScroll:function(a){g.reposition(O(a))},onPreventScroll:function(a){O(a).preventDefault()},onOverlayClick:function(a){return f.modal?(a=O(a),a.preventDefault(),a.stopPropagation(),!1):null},onButtonClick:function(a){var b=O(a).target;(b=J(b,"metaphorjsTooltip-button-id"))&&
g.trigger("button",d,b,a)},onButtonKeyup:function(a){if(13==a.keyCode||32==a.keyCode){var b=J(a.target,"metaphorjsTooltip-button-id");b&&g.trigger("button",d,b,O(a))}},onAjaxLoad:function(a){R(h,f.cls.loading);g.setContent(a,"ajax")},onImageLoad:function(){m.images--;g.onContentChange()},onContentChange:function(){m.visible&&g.reposition()},destroyElem:function(){g.setHandlers("unbind","_self");m.bindSelfOnRender=!0;w&&w.remove();n&&(n.parentNode.removeChild(n),n=null);h&&(f.render.keepInDOM||h.parentNode.removeChild(h),
h=null);g.trigger("lifetime",d)}},!0,!1);delete f.callback.scope;for(var v in f.callback)d.on(v,f.callback[v],u);f.target&&f.useHref&&(v=K(f.target,"href"),"#"==v.substr(0,1)?f.render.el=v:f.ajax.url=v);g.init();return d};H(z,{defaults:{}});return z}();window.jQuery&&(jQuery.fn.metaphorjsTooltip=function(a,b,c){var d="dialog",e;"string"==typeof a&&"destroy"!=a&&(e=a,a=b,b=c);a=a||{};d+="-"+(b||"default");this.each(function(){var b=J(this,d);if(b)if("destroy"==a)b.destroy(),J(this,d,null);else throw Error("MetaphorJs tooltip already instantiated for this html element");
else a.target=this,a.instanceName=d,J(this,d,new Ea(e,a))})});ka.Dialog=Ea;ka.onReady=function(a,b){var c=!1,d=!0,e=b||window,q,p,l=function(b){if("readystatechange"!=b.type||"complete"==p.readyState)N("load"==b.type?e:p,b.type,l),!c&&(c=!0)&&a.call(e,b.type||b)},v=function(){try{q.doScroll("left")}catch(a){setTimeout(v,50);return}l("poll")};p=e.document;q=p.documentElement;if("complete"==p.readyState)a.call(e,"lazy");else{if(p.createEventObject&&q.doScroll){try{d=!e.frameElement}catch(z){}d&&v()}L(p,
"DOMContentLoaded",l);L(p,"readystatechange",l);L(e,"load",l)}};"undefined"!=typeof global?global.MetaphorJs=ka:window.MetaphorJs=ka})();
